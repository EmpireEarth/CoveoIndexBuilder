{
    "title" : "White space in Search as you Type and handleQueryStateChanged",
    "uri" : "http://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
    "printableUri" : "https://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
    "clickUri" : "https://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
    "excerpt" : "We are using CoveoJsSearch.WithDependencies.js library and it is trimming spaces from the end of the search input. ... This is causing issues for users trying to search using more than one keyword.",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1105,
    "percentScore" : 74.79931,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "White space in Search as you Type and handleQueryStateChanged",
      "sysauthor" : "fcote",
      "sysurihash" : "3tV4yIN713UNqqGS",
      "urihash" : "3tV4yIN713UNqqGS",
      "numberofanswers" : 1,
      "sysuri" : "https://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160352,
      "questionaskeddatestring" : "·\n            May 19, 2015 at 03:39 PM ·",
      "tags" : [ "jsui", "searchasyoutype", "querybox" ],
      "sysconcepts" : "Convection Oven ; string ; typing ; keywords ; WithDependencies ; CoveoJsSearch ; trimming ; custom code ; doneBuildingQuery ; buildingQuery ; addClearElement ; ConvectionOven ; concatenating",
      "concepts" : "Convection Oven ; string ; typing ; keywords ; WithDependencies ; CoveoJsSearch ; trimming ; custom code ; doneBuildingQuery ; buildingQuery ; addClearElement ; ConvectionOven ; concatenating",
      "printableuri" : "https://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517942126000,
      "permanentid" : "6e6c7d445cb976a7a3af83c5e6aa6f97428c76c075326586ca7384da92d1",
      "syslanguage" : [ "English" ],
      "transactionid" : 160352,
      "title" : "White space in Search as you Type and handleQueryStateChanged",
      "date" : 1431993600000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "olamothe" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "hasacceptedanswer" : "true",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5447582,
      "numberofcomments" : 0,
      "size" : 71328,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911577881,
      "acceptedanswers" : 1,
      "syssize" : 71328,
      "sysdate" : 1431993600000,
      "author" : "fcote",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>We are using CoveoJsSearch.WithDependencies.js library and it is trimming spaces from the end of the search input.  This is causing issues for users trying to search using more than one keyword.  For instance, if a user wishes to search \"Convection Oven\" and pauses after typing \"Convection \", Coveo will run the search and overwrite the value of the input tag with a trimmed string \"Convection\".  Then when the user continues typing, they end up concatenating their keywords with no spaces and the search term becomes \"ConvectionOven\".</p>\n<p>Is this a known issue and is their a fix for this?  I have traced CoveoJsSearch.WithDependencies.js and found that the replace happens in the QueryBox.prototype._handleQueryStateChanged method (line 21245 of our file version).  The full method is:</p>\n<pre><code>         QueryBox.prototype._handleQueryStateChanged = function (e, data) {\n             Coveo.Assert.exists(data);\n             var q = data.value;\n             Coveo.$(this.element).val(q);\n             this._addClearElement();\n         };\n\n</code></pre>\n<p>Our work around is to test the element value and the data.value and if the current element value with extra whitespace matches data.value, then we do not replace the element value.</p>\n<pre><code>         QueryBox.prototype._handleQueryStateChanged = function (e, data) {\n             Coveo.Assert.exists(data);\n             var q = data.value;\n             var val = Coveo.$(this.element).val();\n             if (!val.match(q + '[\\\\s]*')) {\n                 Coveo.$(this.element).val(q);\n             }\n             this._addClearElement();\n         };\n\n</code></pre>\n<p>Please let me know if there is a better fix for this.</p>\n\n                </div>",
      "sitemaplastmodified" : 1431993600000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517942126000,
      "questionnumber" : 4926,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "fcote",
      "sitename" : "Answers",
      "sysrowid" : 5447582,
      "uri" : "https://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "White space in Search as you Type and handleQueryStateChanged",
    "Uri" : "http://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
    "PrintableUri" : "https://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
    "ClickUri" : "https://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/4926/white-space-in-search-as-you-type-and-handlequerys.html",
    "Excerpt" : "We are using CoveoJsSearch.WithDependencies.js library and it is trimming spaces from the end of the search input. ... This is causing issues for users trying to search using more than one keyword.",
    "FirstSentences" : null
  }