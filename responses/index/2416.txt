{
    "title" : "QREs not effecting results in Coveo for Sitecore",
    "uri" : "http://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
    "printableUri" : "https://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
    "clickUri" : "https://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
    "excerpt" : "QREs I add to the queryBuilder are not modifying the results. ... Basic expressions and field expressions (even when using the same fields and values as those in the QRE) are working. ... I've trie...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1030,
    "percentScore" : 72.21627,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "QREs not effecting results in Coveo for Sitecore",
      "sysauthor" : "Ben",
      "sysurihash" : "GVRhKHxpGZ5vñð1N",
      "urihash" : "GVRhKHxpGZ5vñð1N",
      "numberofanswers" : 1,
      "sysuri" : "https://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160350,
      "questionaskeddatestring" : "·\n            Mar 18, 2015 at 10:07 AM ·",
      "tags" : [ "coveoforsitecore", "qre", "7.2" ],
      "sysconcepts" : "expressions ; QREs ; query ; queryBuilder ; relevancy ; higher modifier ; aq parameter ; doneBuildingQuery event ; buildingQuery",
      "concepts" : "expressions ; QREs ; query ; queryBuilder ; relevancy ; higher modifier ; aq parameter ; doneBuildingQuery event ; buildingQuery",
      "printableuri" : "https://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517942015000,
      "permanentid" : "ac39fe35cbd9f50980e45cf53e6c2eac55945b833f238a6d13579333f3ee",
      "syslanguage" : [ "English" ],
      "transactionid" : 160350,
      "title" : "QREs not effecting results in Coveo for Sitecore",
      "date" : 1426636800000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "Martin Laporte" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "Ben" ],
      "hasacceptedanswer" : "true",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5447454,
      "numberofcomments" : 1,
      "size" : 73472,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911577753,
      "acceptedanswers" : 1,
      "syssize" : 73472,
      "sysdate" : 1426636800000,
      "author" : "Ben",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>QREs I add to the queryBuilder are not modifying the results. Basic expressions and field expressions (even when using the same fields and values as those in the QRE) are working. I've tried the code below in both the buildingQuery and doneBuildingQuery event. I am able to see the QREs in the aq parameter of the query.</p> \n<pre><code>     var generateRankingExpression = function(expression, modifier) {\n         if (!expression || !modifier) return \"\";\n\n         return \"$qre(expression:'\" + expression + \"', modifier:'\" + modifier + \"')\";;\n     };\n\n     function addRankingExpressions(e, args) {\n         // These work to modify the results\n         @*args.queryBuilder.numberOfResults = 2;\n         args.queryBuilder.expression.add('Restore');\n         args.queryBuilder.expression.add(\"@@@Model.ToCoveoFieldName(\"Item Number\", false)=01727\");\n         args.queryBuilder.expression.add(\"@@@Model.ToCoveoFieldName(\"hierarchicalcategory\", false)=Products\");*@\n\n         // ...but none of these do.\n         var qre = generateRankingExpression(\"@@@Model.ToCoveoFieldName(\"Item Number\", false)=01727\", \"100\");\n\n         args.queryBuilder.advancedExpression.add(qre);\n\n         qre = generateRankingExpression(\"@@@Model.ToCoveoFieldName(\"hierarchicalcategory\", false)=Products\", \"100\");\n\n         args.queryBuilder.advancedExpression.add(qre);\n\n         qre = generateRankingExpression(\"@@@Model.ToCoveoFieldName(\"hierarchicalcategory\", false)=Magazines\", \"-100\");\n\n         args.queryBuilder.advancedExpression.add(qre);\n     };\n\n     Coveo.$('#search').on('buildingQuery', addRankingExpressions);\n</code></pre>\n                </div>",
      "sitemaplastmodified" : 1426636800000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517942015000,
      "questionnumber" : 4319,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "Ben",
      "sitename" : "Answers",
      "sysrowid" : 5447454,
      "uri" : "https://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "QREs not effecting results in Coveo for Sitecore",
    "Uri" : "http://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
    "PrintableUri" : "https://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
    "ClickUri" : "https://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/4319/qres-not-effecting-results-in-coveo-for-sitecore.html",
    "Excerpt" : "QREs I add to the queryBuilder are not modifying the results. ... Basic expressions and field expressions (even when using the same fields and values as those in the QRE) are working. ... I've trie...",
    "FirstSentences" : null
  }