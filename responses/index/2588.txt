{
    "title" : "Using the Searchbox to refine a programmatically-filtered query",
    "uri" : "http://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
    "printableUri" : "https://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
    "clickUri" : "https://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
    "excerpt" : "Using the Searchbox to refine a programmatically-filtered query ... Hi - I am building a web page using the Search View (MVC) component. ... This page returns a filtered list of results (it is only...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1030,
    "percentScore" : 72.21627,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Using the Searchbox to refine a programmatically-filtered query",
      "sysauthor" : "dwebb",
      "sysurihash" : "PT0OymcUmouqLwzP",
      "urihash" : "PT0OymcUmouqLwzP",
      "numberofanswers" : 1,
      "sysuri" : "https://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160348,
      "questionaskeddatestring" : "·\n            Dec 08, 2014 at 10:08 PM ·",
      "tags" : [ "searchbox", "refine" ],
      "sysconcepts" : "template id ; query ; coveo ; Sitecore ; showing ; Admin tool ; keywords ; custom ; expressions ; Vincent Séguin ; indexing process ; includeForFreeTextSearch ; SearchProvider",
      "concepts" : "template id ; query ; coveo ; Sitecore ; showing ; Admin tool ; keywords ; custom ; expressions ; Vincent Séguin ; indexing process ; includeForFreeTextSearch ; SearchProvider",
      "printableuri" : "https://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517941860000,
      "permanentid" : "590c634b596a5aae9de75271b703e342942b8057bfa45af0f557cd261fe4",
      "syslanguage" : [ "English" ],
      "transactionid" : 160348,
      "title" : "Using the Searchbox to refine a programmatically-filtered query",
      "date" : 1418169600000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "Martin Laporte" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "dwebb", "Jean-François L'Heureux \u2666\u2666", "dwebb", "dwebb", "dwebb", "Vincent Séguin \u2666\u2666", "dwebb", "Vincent Séguin \u2666\u2666" ],
      "hasacceptedanswer" : "true",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5447198,
      "numberofcomments" : 8,
      "size" : 88652,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911577581,
      "acceptedanswers" : 1,
      "syssize" : 88652,
      "sysdate" : 1418169600000,
      "author" : "dwebb",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>Hi - I am building a web page using the Search View (MVC) component. This page returns a filtered list of results (it is only showing News Release pages). Since I am using the free version of Coveo for Sitecore, I do not have access to the rules engine, so I am using the programmatic way of injecting template id filtering into the query (using the args.queryBuilder.constantExpression.add() method as described in this article: <a rel=\"nofollow\" href=\"https://developers.coveo.com/display/public/SC201410/Adding+Filter+and+Boost+Expressions+Programmatically\">https://developers.coveo.com/display/public/SC201410/Adding+Filter+and+Boost+Expressions+Programmatically</a></p> \n<p>Now my analyst has asked if we can enable the OmniBox on the page so that the users can \"refine\" their search with a keyword - so when the user clicks the search button, I want the components to combine my template id filtering in the javascript code with the keyword(s) entered in the search box.</p> \n<p>When I try this, the search results consistently says \"Your query did not match any documents\", even if I enter a word that is in the search results. Looking at the query logs in the CES Admin tool, it appears that the search component is not appending my keyword query to the constant expressions defined programmatically, but is issuing just the keyword query.</p> \n<p>Is there a way to do this?</p> \n<p>Cheers David</p>\n                </div>",
      "sitemaplastmodified" : 1418169600000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517941860000,
      "questionnumber" : 3198,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "dwebb",
      "sitename" : "Answers",
      "sysrowid" : 5447198,
      "uri" : "https://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "Using the Searchbox to refine a programmatically-filtered query",
    "Uri" : "http://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
    "PrintableUri" : "https://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
    "ClickUri" : "https://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/3198/using-the-searchbox-to-refine-a-programmatically-f.html",
    "Excerpt" : "Using the Searchbox to refine a programmatically-filtered query ... Hi - I am building a web page using the Search View (MVC) component. ... This page returns a filtered list of results (it is only...",
    "FirstSentences" : null
  }