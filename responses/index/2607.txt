{
    "title" : "How can I have two separate search controls on one page?",
    "uri" : "http://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
    "printableUri" : "https://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
    "clickUri" : "https://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
    "excerpt" : "How can I have two separate search controls on one page? ... I have an Omnibox that uses a TopFieldSuggestion item that redirects to a result page once the user has selected an item from the Omnibo...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1030,
    "percentScore" : 72.21627,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "How can I have two separate search controls on one page?",
      "sysauthor" : "Cris Corra",
      "sysurihash" : "Z92xCEezrYNuufXW",
      "urihash" : "Z92xCEezrYNuufXW",
      "numberofanswers" : 1,
      "sysuri" : "https://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160348,
      "questionaskeddatestring" : "·\n            Aug 06, 2014 at 08:53 AM ·",
      "tags" : [ "coveoforsitecore", "searchinterface", "init" ],
      "sysconcepts" : "omnibox ; topFieldSuggestion ; init ; controls ; coveoForSitecore ; initialization ; initSearchBox ; New Employees ; show-as-you-type list ; Anniversaries ; intiSearchBox",
      "concepts" : "omnibox ; topFieldSuggestion ; init ; controls ; coveoForSitecore ; initialization ; initSearchBox ; New Employees ; show-as-you-type list ; Anniversaries ; intiSearchBox",
      "printableuri" : "https://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517941846000,
      "permanentid" : "48dafc894a9a9670861ba62f3548839a59aedcf4fb89fa64b4a694562dbf",
      "syslanguage" : [ "English" ],
      "transactionid" : 160348,
      "title" : "How can I have two separate search controls on one page?",
      "date" : 1416873600000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "Vincent Séguin" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "Cris Corra", "Vincent Séguin \u2666\u2666", "Cris Corra", "Gregory Laporte", "mnrichardstokes" ],
      "hasacceptedanswer" : "false",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5447164,
      "numberofcomments" : 5,
      "size" : 82924,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911577563,
      "acceptedanswers" : 0,
      "syssize" : 82924,
      "sysdate" : 1416873600000,
      "author" : "Cris Corra",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>I have an Omnibox that uses a TopFieldSuggestion item that redirects to a result page once the user has selected an item from the Omnibox valuelist. I also have a ResultsList that shows the latest articles and such. Both components call the .coveoForSitecore('init') method on the page, but it seems only the first component calling the init is loading. </p> \n<p>-Cris Corra</p> \n<p>*Update: here is an image showing the 3 components on one page: <a rel=\"nofollow\" href=\"http://cl.ly/image/2i3P19412v2l/Windows7_VS_NET2013.png\">http://cl.ly/image/2i3P19412v2l/Windows7_VS_NET2013.png</a></p> \n<p>**Update 2: init code samples (3 different search boxes/results lists on the same page)</p> \n<p>1)</p> \n<pre><code> Coveo.$(function() {\n     var options = @(Html.Raw(Model.GetJavaScriptInitializationOptions()));\n     options[\"topFieldSuggestions\"] = {\n         omniboxSuggestionOptions: {\n             onSelect: function (valueSelected, populateOmniBoxEventArgs) {\n                 window.location.href = \"/guidelines#first=0&f:TopicSearchFacet=[\" + valueSelected + \"]\";\n             }\n         }\n     };\n     Coveo.$('#guideSearchBox')\n         .on(\"buildingQuery\", function(e, args) {\n             args.queryBuilder.advancedExpression.add('(' + '@(Html.Coveo().ToCoveoFieldName(\"contentitemtype\"))' + '=\"Guidelines\")')\n         })\n         .coveoForSitecore('init', options);\n });\n\n</code></pre> \n<p>2)</p> \n<pre><code> Coveo.$(function() {\n     if (!isOnSearchPage()) {\n         var restEndpointUri = \"/coveo/rest\";\n         Coveo.Rest.SearchEndpoint.endpoints.default = new Coveo.Rest.SearchEndpoint({\n             restUri: restEndpointUri\n         });\n         Coveo.$('#mainSearchBox').coveo('initSearchBox', '/search');\n     }\n })\n \n function isOnSearchPage() {\n     return Coveo.$('#mainsearch').length > 0;\n }\n \n $(document).ready(function() {\n     $('#searchDropdownBox').on(\"change\", function() {\n         var sval = $('#searchDropdownBox option:selected').val();\n         if (sval != null && sval != \"\") {\n             Coveo.$('#mainSearchBox').coveo('state', 'f:@(Html.Coveo().ToCoveoFieldName(\"ContentItemType\"))', \"[\" + sval + \"]\");\n         }\n     });\n });\n\n</code></pre> \n<p>3)</p> \n<pre><code> Coveo.$(function() {\n     var options = @(Html.Raw(Model.GetJavaScriptInitializationOptions()));\n     options.externalSources.push('ACC WordPress Blog');\n     Coveo.$('#search-rfy').on(\"buildingQuery\", function(e, args) {\n         var exp = buildRFYQueryExpression();\n         args.queryBuilder.advancedExpression.add(exp); \n         var ctIds = '(\"f53dd214-394c-402f-8fcb-928c795490ac\",\"332172f7-e818-41a0-976e-9ab92513cae5\")';\n         args.queryBuilder.advancedExpression.add('(' + '@(Html.Coveo().ToCoveoFieldName(\"ClinicalTopicComputedIds\"))' + '=' + ctIds + ')')\n     })\n     .on('afterInitialization', function(e){\n         Coveo.$('.CoveoSort').eq(0).coveo('select'); // 0 index is 'relevancy'\n     })\n     .coveoForSitecore('init', options);\n });\n\n</code></pre> \n<p>**END Update 2</p>\n                </div>",
      "sitemaplastmodified" : 1416873600000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517941846000,
      "questionnumber" : 2206,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "Cris Corra",
      "sitename" : "Answers",
      "sysrowid" : 5447164,
      "uri" : "https://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "How can I have two separate search controls on one page?",
    "Uri" : "http://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
    "PrintableUri" : "https://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
    "ClickUri" : "https://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/2206/how-can-i-have-two-separate-search-controls-on-one.html",
    "Excerpt" : "How can I have two separate search controls on one page? ... I have an Omnibox that uses a TopFieldSuggestion item that redirects to a result page once the user has selected an item from the Omnibo...",
    "FirstSentences" : null
  }