{
    "title" : "Respect 'Additional Values Increment' after programmatically setting facet selected values in Search_InitializeSettings",
    "uri" : "http://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
    "printableUri" : "https://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
    "clickUri" : "https://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
    "excerpt" : "Hi, I have roughly 183 items which I am using to populate a facet. ... It is essential that the more/fewer options are available to the user. ... I also have to preselect facet values based on user...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1030,
    "percentScore" : 72.21627,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Respect 'Additional Values Increment' after programmatically setting facet selected values in Search_InitializeSettings",
      "sysauthor" : "mark",
      "sysurihash" : "yXRoOðNDpx6lOdM0",
      "urihash" : "yXRoOðNDpx6lOdM0",
      "numberofanswers" : 2,
      "sysuri" : "https://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160347,
      "questionaskeddatestring" : "·\n            Sep 22, 2014 at 04:02 PM ·",
      "tags" : [ "facet", ".net" ],
      "sysconcepts" : "facets ; user profile ; group-on field ; view state ; InitializeSettings event ; Coveo front-end ; settings ; technique ; NumberOfValues ; occurrences ; HasMoreValuesThanRequested ; FieldValueFacet ; filter expression ; using RefineByFieldInfo ; AllowedValues",
      "concepts" : "facets ; user profile ; group-on field ; view state ; InitializeSettings event ; Coveo front-end ; settings ; technique ; NumberOfValues ; occurrences ; HasMoreValuesThanRequested ; FieldValueFacet ; filter expression ; using RefineByFieldInfo ; AllowedValues",
      "printableuri" : "https://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517941827000,
      "permanentid" : "6cb22d5a5b4fdbf2b7b1fb8c39ff57d285d81df96c4f2533393b6ccea694",
      "syslanguage" : [ "English" ],
      "transactionid" : 160347,
      "title" : "Respect 'Additional Values Increment' after programmatically setting facet selected values in Search_InitializeSettings",
      "date" : 1412294400000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "ronald", "ronald" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "Martin Laporte \u2666\u2666", "mark", "ronald", "mark", "ronald", "mark", "mark" ],
      "hasacceptedanswer" : "true",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5447090,
      "numberofcomments" : 7,
      "size" : 95002,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911577511,
      "acceptedanswers" : 1,
      "syssize" : 95002,
      "sysdate" : 1412294400000,
      "author" : "mark",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>Hi, I have roughly 183 items which I am using to populate a facet. It is essential that the more/fewer options are available to the user. I also have to preselect facet values based on user preferences. </p> \n<p>The issue that I am having is that in order to show all the selected values defined in the user profile, I have to programmatically set the number of additional values and number of values to 180. After doing so, the facet no longer respects the â\x80\x98Number of valuesâ\x80\x99 and â\x80\x98Additional Values incrementâ\x80\x99 properties set in the Coveo front-end. Also when you expand the facet, all items are shown.</p> \n<p>I am setting the values in the Search_InitializeSettings. I there a way to not only display all the selected items but respect the settings defined in Coveo front-end configuration?</p> \n<p>Thanks</p> \n<p>private void Search_InitializeSettings(object p_Sender, EventArgs p_Args) { SearchControl sc = p_Sender as SearchControl; FieldValueFacet item = null; FieldValueFacetSetting myFacetSetting = null;</p> \n<pre><code>         item = FindFacet(CountryFacetName);\n\n         myFacetSetting = new FieldValueFacetSetting(CountryQueryKey, false);\n\n         foreach (string id in UserCountries)\n         {\n             myFacetSetting.SelectedValues.Add(id.ToUpper());\n         }\n         sc.State.Staging.Add(myFacetSetting);\n\n         if (FacetSettings == null)\n         {\n             item.NumberOfAdditionalValues = 183;\n             item.NumberOfValues = 183;\n             if (!item.IsCollapsed)\n                 item.IsCollapsed = true;\n         }\n         FacetSettings = Initizalized;\n     }\n</code></pre>\n                </div>",
      "sitemaplastmodified" : 1412294400000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517941827000,
      "questionnumber" : 2430,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "mark",
      "sitename" : "Answers",
      "sysrowid" : 5447090,
      "uri" : "https://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "Respect 'Additional Values Increment' after programmatically setting facet selected values in Search_InitializeSettings",
    "Uri" : "http://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
    "PrintableUri" : "https://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
    "ClickUri" : "https://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/2430/respect-additional-values-increment-after-programm.html",
    "Excerpt" : "Hi, I have roughly 183 items which I am using to populate a facet. ... It is essential that the more/fewer options are available to the user. ... I also have to preselect facet values based on user...",
    "FirstSentences" : null
  }