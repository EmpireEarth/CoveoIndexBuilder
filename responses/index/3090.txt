{
    "title" : "External field not returning from API",
    "uri" : "http://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
    "printableUri" : "https://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
    "clickUri" : "https://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
    "excerpt" : "Hi, ... I'm having a problem with external field data not showing up in the json object. ... This is after a recent upgrade to Coveo 4.0, and is an on-premise solution. ... The field is configured ...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1161,
    "percentScore" : 76.67126,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "External field not returning from API",
      "sysauthor" : "benaldo",
      "sysurihash" : "TQZ19mwU2QðdU9dj",
      "urihash" : "TQZ19mwU2QðdU9dj",
      "numberofanswers" : 1,
      "sysuri" : "https://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160362,
      "questionaskeddatestring" : "·\n            Dec 14, 2016 at 02:39 PM ·",
      "tags" : [ "coveoforsitecore", "facets", "searchapi", "external", "sources" ],
      "sysconcepts" : "externalfields ; json ; categoryhierarchy ; fieldType fieldName ; index browser ; fieldMap node ; facet item ; queries ; configuration ; config file ; on-premise solution ; AddExternalField ; isMultiValue ; includeForFreeTextSearch",
      "concepts" : "externalfields ; json ; categoryhierarchy ; fieldType fieldName ; index browser ; fieldMap node ; facet item ; queries ; configuration ; config file ; on-premise solution ; AddExternalField ; isMultiValue ; includeForFreeTextSearch",
      "printableuri" : "https://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517942890000,
      "permanentid" : "08d86a3e186216b63cd7468a952e5bc83c94b1628e503c685c79cc9adf69",
      "syslanguage" : [ "English" ],
      "transactionid" : 160362,
      "title" : "External field not returning from API",
      "date" : 1481673600000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "François Lachance-Guillemette" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "Sébastien Belzile \u2666\u2666", "benaldo", "benaldo", "François Lachance-Guillemette \u2666\u2666", "benaldo" ],
      "hasacceptedanswer" : "false",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5448619,
      "numberofcomments" : 5,
      "size" : 82774,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911578900,
      "acceptedanswers" : 0,
      "syssize" : 82774,
      "sysdate" : 1481673600000,
      "author" : "benaldo",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>Hi,</p> \n<p>I'm having a problem with external field data not showing up in the json object. This is after a recent upgrade to Coveo 4.0, and is an on-premise solution. The field is configured in an externalfields config file like so:</p> \n<pre><code>   fieldType fieldName=\"categoryhierarchy\" isExternal=\"true\" isSortable=\"false\" isFacet=\"true\" includeForFreeTextSearch=\"false\" isMultiValue=\"true\"\n\n</code></pre> \n<p>I've verified in the showconfig that the field is getting patched in correctly, and I can see data for this field present for rows in the index browser.</p> \n<p>However, I can't create a facet based on this field, and it is not being returned with any of my api results.</p> \n<p>Here are the request queries:</p> \n<pre><code> aq:((@syssource==(\"Coveo_web_index - STCR-STG-CMS01-Sitecore8\",\"Products\",\"Eprise-YTS\") OR @syscollection==(\"Eprise\",\"Oracle\")) (((@syssource*=\"*Coveo*\") (@ffullpath23680*=\"/sitecore/content/TCOM/Knowledge Center*\") (@fhaslayout23680==\"1\")) OR ((@syssource==\"Products\") (@salesgroupids==\"229\") (@sellingrestrictioncode==\"n/a\"))) NOT @ftemplateid23680==(\"adb6ca4f-03ef-4f47-b9ac-9ce2ba53ff97\",\"fe5dd826-48c6-436d-b87a-7c4210c7413b\") $qre(expression:(@manufacturer==\"PCTEL\") (@subtabname==\"Mobile Antennas\"), modifier:'50')) (@statuscode <> \"O\") ($qre(expression:@manufacturer *= \"*iphon*\", modifier:'50')) \n\n cq:((@fz95xlanguage23680==\"en\" @fz95xlatestversion23680==\"1\") OR @syssource==(\"Products\",\"Eprise-YTS\") OR @syscollection==(\"Eprise\",\"Oracle\"))\n\n</code></pre> \n<p>The field in question here exists in the Products source.</p> \n<p>I also have the field listed in the groupby query:</p> \n<pre><code> {\n \"field\":\"@categoryhierarchy\",\n \"maximumNumberOfValues\":1000,\n \"sortCriteria\":\"occurrences\",\n \"injectionDepth\":1000,\n \"completeFacetWithStandardValues\":true\n }\n\n</code></pre> \n<p>The field is a multi-value field, formatted like this in the browser:</p> \n<pre><code> @categoryhierarchy    String    Cases & Holsters;Cases & Holsters|Fitted Phone Cases;Cases & Holsters|Fitted Phone Cases|Slim Protection;\n\n</code></pre> \n<p>I've also tried a rebuild of that index with no luck. </p> \n<p>Any idea as to why this field would not be returning with the other info in the source? Let me know if there is other information that would be helpful to have here. Thanks!</p>\n                </div>",
      "sitemaplastmodified" : 1481673600000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517942890000,
      "questionnumber" : 9890,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "benaldo",
      "sitename" : "Answers",
      "sysrowid" : 5448619,
      "uri" : "https://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "External field not returning from API",
    "Uri" : "http://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
    "PrintableUri" : "https://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
    "ClickUri" : "https://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/9890/external-field-not-returning-from-api.html",
    "Excerpt" : "Hi, ... I'm having a problem with external field data not showing up in the json object. ... This is after a recent upgrade to Coveo 4.0, and is an on-premise solution. ... The field is configured ...",
    "FirstSentences" : null
  }