{
    "title" : "Avoiding an Initial search with no keywords",
    "uri" : "http://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
    "printableUri" : "https://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
    "clickUri" : "https://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
    "excerpt" : "We are using a global search box and a search page (Coveo View - MVC) in place. ... We would like to block the initial search from getting triggered if there are no keywords. ... For example, a use...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1153,
    "percentScore" : 76.40664,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Avoiding an Initial search with no keywords",
      "sysauthor" : "Tony",
      "sysurihash" : "vu77D3Lgxt3Ys8ðC",
      "urihash" : "vu77D3Lgxt3Ys8ðC",
      "numberofanswers" : 2,
      "sysuri" : "https://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160361,
      "questionaskeddatestring" : "·\n            Mar 08, 2016 at 01:42 PM ·",
      "tags" : [ "coveoforsitecore", "sitecore8.1" ],
      "sysconcepts" : "query ; coveo ; keywords ; Ham ; executeQuery ; Sitecore ; triggerQueryOnClear ; buildingQuery ; functionality ; QueryController ; indexed documents ; coveo-search-ui ; ToCoveoFieldName ; advancedExpression ; queryBuilder ; data-auto-trigger-query",
      "concepts" : "query ; coveo ; keywords ; Ham ; executeQuery ; Sitecore ; triggerQueryOnClear ; buildingQuery ; functionality ; QueryController ; indexed documents ; coveo-search-ui ; ToCoveoFieldName ; advancedExpression ; queryBuilder ; data-auto-trigger-query",
      "printableuri" : "https://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517942808000,
      "permanentid" : "1f54dec3da04f979fd984f23f4c4b21585a9acbb663a32a62f4e002b5b7a",
      "syslanguage" : [ "English" ],
      "transactionid" : 160361,
      "title" : "Avoiding an Initial search with no keywords",
      "date" : 1477353600000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "Tony", "François Lachance-Guillemette" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "tlong", "François Lachance-Guillemette \u2666\u2666", "tlong", "François Lachance-Guillemette \u2666\u2666", "Jean-François L'Heureux \u2666\u2666", "François Lachance-Guillemette \u2666\u2666", "tlong" ],
      "hasacceptedanswer" : "true",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5448499,
      "numberofcomments" : 7,
      "size" : 95977,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911578797,
      "acceptedanswers" : 1,
      "syssize" : 95977,
      "sysdate" : 1477353600000,
      "author" : "Tony",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>Hi,</p> \n<p>We are using a global search box and a search page (Coveo View - MVC) in place. We would like to block the initial search from getting triggered if there are no keywords.</p> \n<p>For example, a user comes to the site and enters \"Ham\" in the search box. The search box eventually redirects to the search results page. The query string looks something like <a rel=\"nofollow\" href=\"http://qa.factory.local/search#q=Ham\">http://qa.factory.local/search#q=Ham</a> - This works.</p> \n<p>Now the issue comes if the user comes to the search page without entering any keywords. In such case the request URL would look like <a rel=\"nofollow\" href=\"http://qa.factory.local/search\">http://qa.factory.local/search</a> - If we enter this they will see a page with general results (no keyword was entered). We would like to block this search from getting executed.</p> \n<p>Disabling the Auto Trigger Query checkbox is not an option since we want to be able to display results from the global search box. If We disable this checkbox then invoking the following URL won't work. - <a rel=\"nofollow\" href=\"http://qa.factory.local/search#q=Ham\">http://qa.factory.local/search#q=Ham</a></p> \n<p>We only want to block the trigger if there are no keywords (like <a rel=\"nofollow\" href=\"http://qa.factory.local/search#\">http://qa.factory.local/search#</a>)</p> \n<p>I looked on this forum and saw a solution where they patch the \"QueryController.executeQuery\" method and only execute the query if there is a value entered in the search box. </p> \n<pre><code> Coveo.$(this).coveo('patch', \"QueryController.executeQuery\", function () {\n     Coveo.$.trim($(\"#search\").coveo('state', 'q')) != '' && this.__executeQuery();\n });\n\n</code></pre> \n<p>This works but it also breaks the paging functionality which creates another issue.</p> \n<p>Any tips?</p> \n<p>We are using JS v0.9 - I also saw this post on your site that deals with a similar issue but it is for version 1.0</p> \n<p><a rel=\"nofollow\" href=\"https://developers.coveo.com/display/public/JsSearchV1/Displaying+Results+Only+When+a+Query+Is+Made\">https://developers.coveo.com/display/public/JsSearchV1/Displaying+Results+Only+When+a+Query+Is+Made</a></p> \n<p>Any help would be appreciated.</p> \n<p>Thanks.</p> \n<p>-t</p>\n                </div>",
      "sitemaplastmodified" : 1477353600000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517942808000,
      "questionnumber" : 7546,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "Tony",
      "sitename" : "Answers",
      "sysrowid" : 5448499,
      "uri" : "https://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "Avoiding an Initial search with no keywords",
    "Uri" : "http://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
    "PrintableUri" : "https://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
    "ClickUri" : "https://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/7546/avoiding-an-initial-search-with-no-keywords.html",
    "Excerpt" : "We are using a global search box and a search page (Coveo View - MVC) in place. ... We would like to block the initial search from getting triggered if there are no keywords. ... For example, a use...",
    "FirstSentences" : null
  }