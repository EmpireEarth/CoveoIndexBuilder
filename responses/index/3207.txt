{
    "title" : "URI resolving in a multi-site context for the HtmlContentInBodyWithRequestsProcessor",
    "uri" : "http://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
    "printableUri" : "https://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
    "clickUri" : "https://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
    "excerpt" : "URI resolving in a multi-site context for the HtmlContentInBodyWithRequestsProcessor ... Since our pages are composed of content fetched from many items in Sitecore, we added the HtmlContentInBodyW...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1150,
    "percentScore" : 76.307175,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "URI resolving in a multi-site context for the HtmlContentInBodyWithRequestsProcessor",
      "sysauthor" : "jfhamel",
      "sysurihash" : "yb9QivyKQG33dG8k",
      "urihash" : "yb9QivyKQG33dG8k",
      "numberofanswers" : 0,
      "sysuri" : "https://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160361,
      "questionaskeddatestring" : "·\n            Oct 14, 2016 at 10:42 AM ·",
      "tags" : [ "multi-site", "extracthtml", "uri" ],
      "sysconcepts" : "coveo ; multi-site context ; Sitecore ; URI ; HtmlContentInBodyWithRequestsProcessor ; indexing ; query ; investigating ; custom LinkProviders ; rendering logic ; resolveitemsiteprocessor ; clickableuri",
      "concepts" : "coveo ; multi-site context ; Sitecore ; URI ; HtmlContentInBodyWithRequestsProcessor ; indexing ; query ; investigating ; custom LinkProviders ; rendering logic ; resolveitemsiteprocessor ; clickableuri",
      "printableuri" : "https://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517942792000,
      "permanentid" : "71f1f7995617d021ed8d0fb3662fc361558189b3fa7bc1d13bd6c88962e0",
      "syslanguage" : [ "English" ],
      "transactionid" : 160361,
      "title" : "URI resolving in a multi-site context for the HtmlContentInBodyWithRequestsProcessor",
      "date" : 1476403200000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "hasanswer" : "false",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "Jean-François L'Heureux \u2666\u2666", "ssartell" ],
      "hasacceptedanswer" : "false",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5448481,
      "numberofcomments" : 2,
      "size" : 69110,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911578780,
      "acceptedanswers" : 0,
      "syssize" : 69110,
      "sysdate" : 1476403200000,
      "author" : "jfhamel",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>Since our pages are composed of content fetched from many items in Sitecore, we added the HtmlContentInBodyWithRequestsProcessor in the indexing pipeline (we did this so that we could have indexed in Coveo our complete pages, and not only parts of it).</p> \n<p>It worked fine until we added other sites in Sitecore. For thses new sites, Coveo seems to have problems finding the right URIs to fetch the content of the pages for that site, resulting in the fact that none of the pages of this site are indexed. </p> \n<p>I have read many questions asked and the answers you provided, and from what I understand, it is quite difficult for Coveo to determine the URI of an item/page <strong>at indexing time</strong> (as mentionned here <a rel=\"nofollow\" href=\"https://answers.coveo.com/questions/7019/clickableuri-is-incorrect-resolveitemsiteprocessor-not-working\">https://answers.coveo.com/questions/7019/clickableuri-is-incorrect-resolveitemsiteprocessor-not-working</a> )</p> \n<p>So my question is : can the HtmlContentInBodyWithRequestsProcessor be made to work in a multi-site context?</p> \n<p>What we are investigating right now is to add a processor just before to find the URI and set it in the arg, so that the HtmlContentInBodyWithRequestsProcessor can work with a valid URI. Is it a good approach?</p> \n<p>We are using CES 7.0 (8047) and Coveo for Sitecore 7.5 v3.0 (1188), which I think are the December 2015 versions.</p>\n                </div>",
      "sitemaplastmodified" : 1476403200000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517942792000,
      "questionnumber" : 9248,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "jfhamel",
      "sitename" : "Answers",
      "sysrowid" : 5448481,
      "uri" : "https://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "URI resolving in a multi-site context for the HtmlContentInBodyWithRequestsProcessor",
    "Uri" : "http://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
    "PrintableUri" : "https://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
    "ClickUri" : "https://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/9248/uri-resolving-in-a-multi-site-context-for-the-html.html",
    "Excerpt" : "URI resolving in a multi-site context for the HtmlContentInBodyWithRequestsProcessor ... Since our pages are composed of content fetched from many items in Sitecore, we added the HtmlContentInBodyW...",
    "FirstSentences" : null
  }