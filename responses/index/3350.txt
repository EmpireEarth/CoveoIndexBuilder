{
    "title" : "LINQ Predicate Statement Involving Sitecore fields and External Sources",
    "uri" : "http://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
    "printableUri" : "https://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
    "clickUri" : "https://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
    "excerpt" : "LINQ Predicate Statement Involving Sitecore fields and External Sources ... When using predicate statements that involve Sitecore fields with the CoveoSearchContextOption code below, it seems to ne...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1142,
    "percentScore" : 76.0413,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "LINQ Predicate Statement Involving Sitecore fields and External Sources",
      "sysauthor" : "fcote",
      "sysurihash" : "ntnm33gHAmof3WdJ",
      "urihash" : "ntnm33gHAmof3WdJ",
      "numberofanswers" : 1,
      "sysuri" : "https://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160359,
      "questionaskeddatestring" : "·\n            Jul 18, 2016 at 11:08 AM ·",
      "tags" : [ "sitecore", "linq" ],
      "sysconcepts" : "sitecore ; predicate ; CoveoSearchContextOptions ; search context ; query ; documentation ; security ; Coveo ; fhaspresentation12345 ; fz95xfullpath12345 ; ExternalCollections ; on-premises configuration ; use of coveoContext ; RawQueryExpression ; fez120xcludez32xfromz32xendz32xuserz32xsearchz32xresults38935",
      "concepts" : "sitecore ; predicate ; CoveoSearchContextOptions ; search context ; query ; documentation ; security ; Coveo ; fhaspresentation12345 ; fz95xfullpath12345 ; ExternalCollections ; on-premises configuration ; use of coveoContext ; RawQueryExpression ; fez120xcludez32xfromz32xendz32xuserz32xsearchz32xresults38935",
      "printableuri" : "https://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517942679000,
      "permanentid" : "cdb369516ff0c6debbbf35e98318b7cca144eb5357a57546febd9e11e2a7",
      "syslanguage" : [ "English" ],
      "transactionid" : 160359,
      "title" : "LINQ Predicate Statement Involving Sitecore fields and External Sources",
      "date" : 1469491200000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "jbairuc" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "jbairuc", "jbairuc", "Jean-François L'Heureux \u2666\u2666", "Jean-François L'Heureux \u2666\u2666", "jbairuc" ],
      "hasacceptedanswer" : "true",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5448337,
      "numberofcomments" : 5,
      "size" : 87583,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 1,
      "clickableuri" : "https://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911578636,
      "acceptedanswers" : 1,
      "syssize" : 87583,
      "sysdate" : 1469491200000,
      "author" : "fcote",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p> When using predicate statements that involve Sitecore fields with the CoveoSearchContextOption code below, it seems to negate any external results coming back. This appears to be due to the external content not having the Sitecore fields but being put against the rules.</p>\n<p>For example, using the code below, we still only want Sitecore content from the Sitecore content root and we want to make sure it has a presentation (layout).</p>\n<pre><code> // This creates some query filters\n var predicate = Sitecore.ContentSearch.Linq.Utilities.PredicateBuilder.True<SearchResultItem>();\n // Restrict Sitecore items to /sitecore/content and ensure they have a layout set\n predicate = predicate.And(i => i.Path.Contains(contentRoot) && i[\"haspresentation\"] == \"1\" && !i.ExcludeFromEndUserSearchResults);\n // Free-text search for the searchTerm\n predicate = predicate.And(i => i.Content == searchTerm);\n\n</code></pre>\n<p>I see the OR statement in the CES console that adds the external syscollection. It appears\nâ\x80\x8b</p>\n<pre><code> Query\n ((@fz95xfullpath12345*=\"*sitecore/content*\") (@fhaspresentation12345==\"1\") (NOT (@fez120xcludez32xfromz32xendz32xuserz32xsearchz32xresults12345==1)) (Kilts)\n OR\n (@syscollection=\"research_sites\"))((@fz95xfullpath12345*=\"*sitecore/content*\") (@fhaspresentation12345==\"1\") (NOT (@fez120xcludez32xfromz32xendz32xuserz32xsearchz32xresults38935==1)) (Kilts))\n performed by ad\\myUser [Sitecore Security Provider for DEV-intranet-dev.mySite.me]. 0 results in 0.109 seconds.\n\n</code></pre>\n<p>Similar to the use of coveoContext for ExternalCollections, should the predicate be supplied to the search context a different way?</p>\n\n                </div>",
      "sitemaplastmodified" : 1469491200000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517942679000,
      "questionnumber" : 8547,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "fcote",
      "sitename" : "Answers",
      "sysrowid" : 5448337,
      "uri" : "https://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "LINQ Predicate Statement Involving Sitecore fields and External Sources",
    "Uri" : "http://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
    "PrintableUri" : "https://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
    "ClickUri" : "https://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/8547/linq-predicate-statement-involving-sitecore-fields.html",
    "Excerpt" : "LINQ Predicate Statement Involving Sitecore fields and External Sources ... When using predicate statements that involve Sitecore fields with the CoveoSearchContextOption code below, it seems to ne...",
    "FirstSentences" : null
  }