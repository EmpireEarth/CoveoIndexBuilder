{
    "title" : "Coveo For Sitecore - Change \"Search page item\" from code",
    "uri" : "http://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
    "printableUri" : "https://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
    "clickUri" : "https://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
    "excerpt" : "We are running a multisite setup in Sitecore (version Sitecore.NET 8.0 (rev. 150427)) with Coveo For Sitecore installed. ... The search is up and running - and we can search the two different sites...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1127,
    "percentScore" : 75.54025,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Coveo For Sitecore - Change \"Search page item\" from code",
      "sysauthor" : "emil_christiansen",
      "sysurihash" : "lQ2SWBY8hKDK0cðV",
      "urihash" : "lQ2SWBY8hKDK0cðV",
      "numberofanswers" : 2,
      "sysuri" : "https://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160357,
      "questionaskeddatestring" : "·\n            Mar 30, 2016 at 02:17 AM ·",
      "tags" : [ "sitecore8" ],
      "sysconcepts" : "Launch Sitecore ; demo package ; sublayout ; GetSearchPageUrl ; custom implementation ; data template ; protected property ; new created ; allways redirected ; multisite setup ; configuration ; copy-paste-adapt ; GetJavaScriptInitializationOptions ; SitecoreContext ; SearchBoxView",
      "concepts" : "Launch Sitecore ; demo package ; sublayout ; GetSearchPageUrl ; custom implementation ; data template ; protected property ; new created ; allways redirected ; multisite setup ; configuration ; copy-paste-adapt ; GetJavaScriptInitializationOptions ; SitecoreContext ; SearchBoxView",
      "printableuri" : "https://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517942533000,
      "permanentid" : "684f207b52526fd114a924aa7e14726e2289fe992ac477c360128c51bad6",
      "syslanguage" : [ "English" ],
      "transactionid" : 160357,
      "title" : "Coveo For Sitecore - Change \"Search page item\" from code",
      "date" : 1459296000000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "Sébastien Belzile", "Jean-François L'Heureux" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "emil_christiansen", "Sébastien Belzile \u2666\u2666" ],
      "hasacceptedanswer" : "false",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5448134,
      "numberofcomments" : 2,
      "size" : 84341,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911578431,
      "acceptedanswers" : 0,
      "syssize" : 84341,
      "sysdate" : 1459296000000,
      "author" : "emil_christiansen",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>Hi there.</p> \n<p>We are running a multisite setup in Sitecore (version <a rel=\"nofollow\" href=\"http://Sitecore.NET\">Sitecore.NET</a> 8.0 (rev. 150427)) with Coveo For Sitecore installed.</p> \n<p>The search is up and running - and we can search the two different sites just fine.</p> \n<p>The problem is that if you are using the 'Coveo Search Box' you are allways redirected to the search page on 'site A' even though you are searchinh using the search box on 'site B'</p> \n<p>We know that you can choose the 'Search page item' on the 'Coveo Search Box' - but the problem is that the standard value always is to the 'site A' search page - and we don't want to change it manually for every page (and new created pages) on the 'site B'.</p> \n<p>Is it in anywaypossible to change the 'Search page item' (search page url) from the code:</p> \n<p>In the SearchBoxView.cshtml file we currently have this:</p> \n<pre><code> Coveo.$(function () {\n     if (typeof(CoveoForSitecore) !== 'undefined') {\n         CoveoForSitecore.componentsOptions = @(Html.Raw(Model.GetJavaScriptInitializationOptions()))\n         \n         Coveo.$('#@Model.SearchBoxUniqueId')\n         .on(\"buildingQuery\", function(e, args) {\n             args.queryBuilder.constantExpression.add('(@Model.ToCoveoFieldName(\"haslayout\")) == \"1\" AND (@Model.ToCoveoFieldName(\"customsite\")) == @currentSite');\n         })\n         .coveoForSitecore('initSearchBox',CoveoForSitecore.componentsOptions);\n     } else {\n         Coveo.$('#@Model.SearchBoxUniqueId').coveo('initSearchBox',\n                                                    '@Model.GetSearchPageUrl()');\n     }\n });\n\n</code></pre> \n<p>And i guess we can set the search page url in there via extending the query - but how do we do it?</p> \n<p>Thanks</p>\n                </div>",
      "sitemaplastmodified" : 1459296000000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517942533000,
      "questionnumber" : 7659,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "emil_christiansen",
      "sitename" : "Answers",
      "sysrowid" : 5448134,
      "uri" : "https://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "Coveo For Sitecore - Change \"Search page item\" from code",
    "Uri" : "http://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
    "PrintableUri" : "https://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
    "ClickUri" : "https://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/7659/coveo-for-sitecore-change-search-page-item-from-co.html",
    "Excerpt" : "We are running a multisite setup in Sitecore (version Sitecore.NET 8.0 (rev. 150427)) with Coveo For Sitecore installed. ... The search is up and running - and we can search the two different sites...",
    "FirstSentences" : null
  }