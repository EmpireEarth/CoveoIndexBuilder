{
    "title" : "Why do I have this \"InvalidQueryFunctionSyntax\" error?",
    "uri" : "http://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
    "printableUri" : "https://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
    "clickUri" : "https://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
    "excerpt" : "Coveo has created automatically a collection and source with all my Sitecore items within. ... I want to use that collection to get the distance using query functions. ... Unfortunatelly, all the t...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1127,
    "percentScore" : 75.54025,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Why do I have this \"InvalidQueryFunctionSyntax\" error?",
      "sysauthor" : "Lautaro Bonetto",
      "sysurihash" : "T3lPBcTyBfZBNixc",
      "urihash" : "T3lPBcTyBfZBNixc",
      "numberofanswers" : 1,
      "sysuri" : "https://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160357,
      "questionaskeddatestring" : "·\n            Mar 05, 2016 at 10:00 AM ·",
      "tags" : [ "restapi", "distance", "geospatial", "queryfunction" ],
      "sysconcepts" : "Coveo Enterprise Search ; error message ; query functions ; distance ; Sitecore ; aq ; workaround ; documentation ; queryFunctions array ; release notes ; frustrations ; flatitude20567 ; flongitude20567 ; Unfortunatelly",
      "concepts" : "Coveo Enterprise Search ; error message ; query functions ; distance ; Sitecore ; aq ; workaround ; documentation ; queryFunctions array ; release notes ; frustrations ; flatitude20567 ; flongitude20567 ; Unfortunatelly",
      "printableuri" : "https://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517942511000,
      "permanentid" : "9c0e782ba09a6a4200b00bdb8e808ab776a2d573ef9ab193907d8d1855e1",
      "syslanguage" : [ "English" ],
      "transactionid" : 160357,
      "title" : "Why do I have this \"InvalidQueryFunctionSyntax\" error?",
      "date" : 1457308800000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "Jean-François L'Heureux" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "Jean-François L'Heureux \u2666\u2666", "Lautaro Bonetto" ],
      "hasacceptedanswer" : "true",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5448104,
      "numberofcomments" : 2,
      "size" : 87980,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911578403,
      "acceptedanswers" : 1,
      "syssize" : 87980,
      "sysdate" : 1457308800000,
      "author" : "Lautaro Bonetto",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>Hi,<br>I'm working with Sitecore 8 and Coveo for Sitecore. Coveo has created automatically a collection and source with all my Sitecore items within. I want to use that collection to get the distance using query functions. Unfortunatelly, all the time Coveo is returning a wrong syntax error message. My question is: What am I writing wrong on the URL? I cannot find the mistake.</p> \n<p><strong>URL:</strong></p> \n<pre><code> http://localhost:8080/rest/search?q=1%20stop%2019&queryFunctions=[{\"function\":\"dist(@flongitude20567,@flatitude20567,30,30)\",\"fieldName\":\"distance\"}]\n\n</code></pre> \n<p><strong>Coveo API Service response:</strong></p> \n<pre><code> {\n \"totalCount\": 1,\n \"totalCountFiltered\": 1,\n \"duration\": 12,\n \"indexDuration\": 10,\n \"requestDuration\": 11,\n \"searchId\": \"81a00545-4047-42bd-a9c2-af45f070b2b7\",\n \"exception\": {\n     \"code\": \"InvalidQueryFunctionSyntax\",\n     \"context\": \"distance\"\n },\n \"termsToHighlight\": {\n     \"1\": [],\n     \"19\": [],\n     \"stop\": []\n },\n \"phrasesToHighlight\": {},\n \"queryCorrections\": [],\n \"groupByResults\": [],\n \"results\": [\n     {\n         \"title\": \"1 STOP 19\",\n         \"uri\": \"sitecore://database/master/ItemId/{A4676D23-4F6C-414D-A817-3FB01864652B}/Language/en/Version/1\",\n         \"printableUri\": \"localhost/Coveo_master_index - WIN-TEST-xomfl/1 STOP 19\",\n         \"clickUri\": \"http://xomfl/Cross Brand/Apps/Locator/Entities/1 STOP 19\",\n         \"uniqueId\": \"-1$0$16851.10607$sitecore://database/master/itemid/{a4676d23-4f6c-414d-a817-3fb01864652b}/language/en/version/1\",\n         \"excerpt\": \"\",\n         \"firstSentences\": null,\n         \"summary\": null,\n         \"flags\": \"\",\n         \"hasHtmlVersion\": false,\n         \"hasMobileHtmlVersion\": false,\n         \"score\": 9261,\n         \"percentScore\": 97.5251,\n         \"rankingInfo\": null,\n         \"isTopResult\": false,\n         \"titleHighlights\": [\n             {\n                 \"length\": 1,\n                 \"offset\": 0\n             },\n             {\n                 \"length\": 4,\n                 \"offset\": 2\n             },\n             {\n                 \"length\": 2,\n                 \"offset\": 7\n             }\n         ],\n         \"firstSentencesHighlights\": [],\n         \"excerptHighlights\": [],\n         \"printableUriHighlights\": [\n             {\n                 \"length\": 1,\n                 \"offset\": 53\n             },\n             {\n                 \"length\": 4,\n                 \"offset\": 55\n             },\n             {\n                 \"length\": 2,\n                 \"offset\": 60\n             }\n         ],\n         \"summaryHighlights\": [],\n         \"parentResult\": null,\n         \"childResults\": [],\n         \"totalNumberOfChildResults\": 0,\n         \"raw\": {\n             \"fz95xgroup20567\": \"a4676d234f6c414da8173fb01864652b\",\n             \"fempty20567\": \"0\",\n             \"fz95xtemplatename20567\": \"Entity\",\n             \"fz95xdatasource20567\": \"Sitecore\",\n             \"systitle\": \"1 STOP 19\",\n             \"fdisplayname20567\": \"1 STOP 19\",\n             \"fz95xz95xisz32xbucket20567\": \"0\",\n             \"systopparent\": \"212323855271529825\",\n             \"sysurihash\": \"AXFx058HXe4b9Wvt\",\n             \"furi20567\": \"sitecore://master/{A4676D23-4F6C-414D-A817-3FB01864652B}?lang=en&ver=1\",\n             \"sysuri\": \"localhost/Coveo_master_index - WIN-TEST-xomfl/1 STOP 19\",\n             \"sysprintableuri\": \"localhost/Coveo_master_index - WIN-TEST-xomfl/1 STOP 19\",\n             \"sysfolders\": \"00001sitecore://localhost/f90646e4\\n00002sitecore://localhost/coveo_master_index - win-test-xomfl/26aafa35\",\n             \"ffullpath20567\": \"/sitecore/content/Cross Brand/Apps/Locator/Entities/1 STOP 19\",\n             \"fdisplayz32xname20567\": \"1 STOP #19\",\n             \"frevision20567\": \"b4c72731-6d61-42eb-bcb2-16e6b50d7375\",\n             \"fcreated20567\": 1455110571000,\n             \"fisfullyqualified20567\": \"1\",\n             \"fhaslayout20567\": \"0\",\n             \"fz95xlatestversion20567\": \"1\",\n             \"fz95xz95xsmallupdateddate20567\": 1457076132000,\n             \"flocationz32xname20567\": \"1 STOP 19\",\n             \"fismediaitem20567\": \"0\",\n             \"fparsedcreatedby20567\": \"sitecoreadmin\",\n             \"fhideversion20567\": \"0\",\n             \"ftemplateid20567\": \"c1787be9-1189-41cf-8518-dc2d13578be1\",\n             \"sysindexeddate\": 1457058274000,\n             \"fkey20567\": \"1 stop 19\",\n             \"fz95xid20567\": \"a4676d234f6c414da8173fb01864652b\",\n             \"falltemplates20567\": \"c1787be9118941cf8518dc2d13578be1;1930bbeb7805471aa3be4858ac7cf696;75c4f2eca3e04a878f43a3f73cd28730;23d1fc34999541e2bcd03239431948cb\",\n             \"fz95xparent20567\": \"1e09018c28e04ab88cf4ddaef1ae5cea\",\n             \"finvalid20567\": \"0\",\n             \"freadonly20567\": \"0\",\n             \"fz95xtemplate20567\": \"c1787be9118941cf8518dc2d13578be1\",\n             \"fz95xpath20567\": \"11111111111111111111111111111111;0de95ae441ab4d019eb067441b7c2450;43970a3ab10e44b28726a5334a9ab0d9;8a7e2f488658456b9d59052f98b4f36c;98790a2728fe4472bc0b9577d9b72663;1e09018c28e04ab88cf4ddaef1ae5cea;a4676d234f6c414da8173fb01864652b\",\n             \"fpath20567\": \"/sitecore/content/Cross Brand/Apps/Locator/Entities/1 STOP 19\",\n             \"fownerdatabase20567\": \"master\",\n             \"fz95xfullpath20567\": \"/sitecore/content/cross brand/apps/locator/entities/1 stop 19\",\n             \"furllink20567\": \"/en/Cross Brand/Apps/Locator/Entities/1 STOP 19\",\n             \"flocationz32xid20567\": \"320378\",\n             \"fid20567\": \"a4676d234f6c414da8173fb01864652b\",\n             \"fupdatedby20567\": \"sitecore\\\\admin\",\n             \"fappearancethumbnail20567\": \"/sitecore/client/images/document16x16.gif\",\n             \"fhaschildren20567\": \"0\",\n             \"fisbucketz95xtez120xt20567\": \"0\",\n             \"fstorez32xamenities20567\": \"862b8bb6b076436b80ccade7f9c25e85\",\n             \"fappearanceicon20567\": \"Applications/32x32/form_blue.png\",\n             \"syssite\": \"database\",\n             \"sysconnectortype\": \"QueueCrawler\",\n             \"fbrowseonly20567\": \"0\",\n             \"fisvirtual20567\": \"0\",\n             \"fisitemclone20567\": \"0\",\n             \"fmediapath20567\": \"/sitecore/content/Cross Brand/Apps/Locator/entities/1 STOP 19\",\n             \"fz95xz95xhidden20567\": \"0\",\n             \"fistemplate20567\": \"0\",\n             \"fhidden20567\": \"0\",\n             \"flatitude20567\": 31,\n             \"flanguage20567\": \"en\",\n             \"fz95xdatabase20567\": \"master\",\n             \"fculture20567\": \"en\",\n             \"fisez120xternal20567\": \"0\",\n             \"fpostalz32xcode20567\": \"48458\",\n             \"sysdocumenttype\": \"Document\",\n             \"fforcemodified20567\": \"0\",\n             \"fdatauri20567\": \"sitecore://{A4676D23-4F6C-414D-A817-3FB01864652B}?lang=en&ver=1\",\n             \"fabsolutepath20567\": \"/Cross Brand/Apps/Locator/Entities/1 STOP 19\",\n             \"fversion20567\": \"1\",\n             \"fpublishdate20567\": -17955889200000,\n             \"funpublishdate20567\": 253370782799000,\n             \"furlstring20567\": \"?db=master&id=%7BA4676D23-4F6C-414D-A817-3FB01864652B%7D&la=en&vs=1\",\n             \"syssource\": \"Coveo_master_index - WIN-TEST-xomfl\",\n             \"syssize\": 27879,\n             \"sysdate\": 1457058132000,\n             \"fz95xupdated20567\": 1457076132000,\n             \"fparsedlanguage20567\": \"english\",\n             \"fismasterpart20567\": \"0\",\n             \"fz95xz95xupdated20567\": 1457076132000,\n             \"flanguages20567\": \"en;da;de-DE;el-GR;es-ES;fi-FI;fr-FR;it-CH;ja-JP;ko-KR;nb-NO;nl-BE;pl-PL;pt-PT;ro-RO;ru-RU;sv-FI;th-TH;tr-TR;zh-SG;es-CO;fr-CA\",\n             \"fz95xdisplayname20567\": \"1 STOP 19\",\n             \"fdatasource20567\": \"Sitecore\",\n             \"fupdated20567\": 1457076132000,\n             \"flongitude20567\": 31,\n             \"systopparentid\": 212323855271529820,\n             \"fz95xz95xbucketable20567\": \"0\",\n             \"fz95xeditor20567\": \"sitecore\\\\admin\",\n             \"fbranchid20567\": \"00000000000000000000000000000000\",\n             \"fappearancedisplayname20567\": \"1 STOP 19\",\n             \"fsite20567\": \"coveoanalytics;coveorest;login;admin;service;website;scheduler;system;publisher\",\n             \"fname20567\": \"1 STOP 19\",\n             \"fparentid20567\": \"1e09018c-28e0-4ab8-8cf4-ddaef1ae5cea\",\n             \"ftemporary20567\": \"0\",\n             \"fz95xname20567\": \"1 STOP 19\",\n             \"fboostingvalue20567\": 0,\n             \"fz95xisclone20567\": \"0\",\n             \"fvalidto20567\": 253370782799000,\n             \"fz95xz95xsmallcreateddate20567\": 1455110571000,\n             \"flock20567\": \"0\",\n             \"fz95xversion20567\": \"1\",\n             \"syssourcetype\": \"Queue\",\n             \"fz95xlanguage20567\": \"en\",\n             \"fdatabasename20567\": \"master\",\n             \"findez120xableitemuniqueid20567\": \"sitecore://master/{A4676D23-4F6C-414D-A817-3FB01864652B}?lang=en&ver=1\",\n             \"ftemplatename20567\": \"Entity\",\n             \"sysclickableuri\": \"http://xomfl/Cross Brand/Apps/Locator/Entities/1 STOP 19\",\n             \"fappearancesortorder20567\": \"100\",\n             \"sysfiletype\": \"sitecoreitem\",\n             \"fcontentpath20567\": \"/Cross Brand/Apps/Locator/Entities/1 STOP 19\",\n             \"fneverpublish20567\": \"0\",\n             \"fdefaulturi20567\": \"sitecore://master/{A4676D23-4F6C-414D-A817-3FB01864652B}?lang=en&ver=1\",\n             \"fisclone20567\": \"0\",\n             \"fz95xuniqueid20567\": \"sitecore://master/{a4676d23-4f6c-414d-a817-3fb01864652b}?lang=en&ver=1\",\n             \"ftemplatedatabase20567\": \"master\",\n             \"fiscontentitem20567\": \"1\",\n             \"sysisemptydocument\": \"true\",\n             \"sysrowid\": 28285,\n             \"syscollection\": \"Sitecore Search Provider\",\n             \"fparentpath20567\": \"/sitecore/content/Cross Brand/Apps/Locator/Entities\",\n             \"findez120xableitemid20567\": \"a4676d234f6c414da8173fb01864652b\"\n         },\n         \"Title\": \"1 STOP 19\",\n         \"Uri\": \"sitecore://database/master/ItemId/{A4676D23-4F6C-414D-A817-3FB01864652B}/Language/en/Version/1\",\n         \"PrintableUri\": \"localhost/Coveo_master_index - WIN-TEST-xomfl/1 STOP 19\",\n         \"ClickUri\": \"http://xomfl/Cross Brand/Apps/Locator/Entities/1 STOP 19\",\n         \"UniqueId\": \"-1$0$16851.10607$sitecore://database/master/itemid/{a4676d23-4f6c-414d-a817-3fb01864652b}/language/en/version/1\",\n         \"Excerpt\": \"\",\n         \"FirstSentences\": null\n     }\n ]\n</code></pre> \n<p>}</p> \n<p>Thanks a lot.<br>Lautaro</p>\n                </div>",
      "sitemaplastmodified" : 1457308800000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517942511000,
      "questionnumber" : 7529,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "Lautaro Bonetto",
      "sitename" : "Answers",
      "sysrowid" : 5448104,
      "uri" : "https://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "Why do I have this \"InvalidQueryFunctionSyntax\" error?",
    "Uri" : "http://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
    "PrintableUri" : "https://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
    "ClickUri" : "https://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/7529/why-do-i-have-this-invalidqueryfunctionsyntax-erro.html",
    "Excerpt" : "Coveo has created automatically a collection and source with all my Sitecore items within. ... I want to use that collection to get the distance using query functions. ... Unfortunatelly, all the t...",
    "FirstSentences" : null
  }