{
    "title" : "Call to SitecoreUtilities.ToCoveoFieldName() generating exception",
    "uri" : "http://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
    "printableUri" : "https://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
    "clickUri" : "https://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
    "excerpt" : "There are two \"web\" indexes: Coveo_CM_web_index and Coveo_CD_web_index; both of which are maintained on the CM envirionment as items are published to the respective \"web\" databases for each farm.",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1123,
    "percentScore" : 75.406075,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Call to SitecoreUtilities.ToCoveoFieldName() generating exception",
      "sysauthor" : "jimschram",
      "sysurihash" : "C3Fw0E8wG37mabho",
      "urihash" : "C3Fw0E8wG37mabho",
      "numberofanswers" : 1,
      "sysuri" : "https://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160356,
      "questionaskeddatestring" : "·\n            Jul 28, 2015 at 04:43 AM ·",
      "tags" : [ "coveoforsitecore", "sitecore7" ],
      "sysconcepts" : "Coveo ; databases ; ToCoveoFieldName method ; IIndexable ; sitecore ; pipeline ; environment ; inbound filtering ; second technique ; new setup ; envirionment",
      "concepts" : "Coveo ; databases ; ToCoveoFieldName method ; IIndexable ; sitecore ; pipeline ; environment ; inbound filtering ; second technique ; new setup ; envirionment",
      "printableuri" : "https://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517942462000,
      "permanentid" : "d7ba53a9e20c3487ffa6e5436132ee78e7ad3d0eeca58fa9ef8e3bc3800f",
      "syslanguage" : [ "English" ],
      "transactionid" : 160356,
      "title" : "Call to SitecoreUtilities.ToCoveoFieldName() generating exception",
      "date" : 1453852800000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "Luc Bergeron" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "jimschram", "ncipollina", "Jean-François L'Heureux \u2666\u2666" ],
      "hasacceptedanswer" : "false",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5448035,
      "numberofcomments" : 3,
      "size" : 82949,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911578334,
      "acceptedanswers" : 0,
      "syssize" : 82949,
      "sysdate" : 1453852800000,
      "author" : "jimschram",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>We are using Sitecore 7.5 deployed with CM & CD farms in Azure along with Coveo for Sitecore 3.0.1016.0.</p> \n<p>There are two \"web\" indexes: Coveo_CM_web_index and Coveo_CD_web_index; both of which are maintained on the CM envirionment as items are published to the respective \"web\" databases for each farm.</p> \n<p>We have the following four lines of code that are calling ToCoveoFieldName():</p> \n<pre><code>         var itemPath = SitecoreUtilities.ToCoveoFieldName(\"_path\");\n         var latestVersion = SitecoreUtilities.ToCoveoFieldName(\"_latestversion\");\n         var datasource = SitecoreUtilities.ToCoveoFieldName(\"_datasource\");\n         var fullPath = SitecoreUtilities.ToCoveoFieldName(\"fullpath\");\n\n\n</code></pre> \n<p>We are seeing repeated exceptions within GetFieldNameTranslator() the p_Index cannot be null. Here's a complete exception:</p> \n<pre><code>         Event code: 3005 \n         Event message: An unhandled exception has occurred. \n         Event time: 7/28/2015 5:58:09 AM \n         Event time (UTC): 7/28/2015 5:58:09 AM \n         Event ID: 4633cd8365ef443886dcc3330d434e64 \n         Event sequence: 22 \n         Event occurrence: 1 \n         Event detail code: 0 \n \n         Application information: \n             Application domain: /LM/W3SVC/2051247599/ROOT-1-130825365626609127 \n             Trust level: Full \n             Application Virtual Path: / \n             Application Path: E:\\approot\\ \n             Machine name: XXXXXXX \n \n         Process information: \n             Process ID: 4644 \n             Process name: w3wp.exe \n             Account name: NT AUTHORITY\\NETWORK SERVICE \n \n         Exception information: \n             Exception type: ArgumentNullException \n             Exception message: Precondition failed: The parameter 'p_Index' must not be null\n         Parameter name: p_Index\n            at Coveo.Framework.CNL.Precondition.NotNull(Object p_Parameter, String p_ParameterName)\n            at Coveo.UI.Helpers.SitecoreHelper.GetFieldNameTranslator(ISearchIndex p_Index)\n            at Coveo.UI.Helpers.FieldHelper.ToCoveoFieldName(IIndexable p_Indexable, String p_SitecoreField, Boolean p_UsePrefix)\n            at XXXXXXXXX.Web.SearchIndices.testing.Services.CoveoSearchProvider.GetResult(CoveoSearchParams searchParams)\n            at XXXXXXXXX.Web.Controllers.AhcoSearchRenderingsController.GetSearchResults(String searchQuery, String refinement, Nullable`1 currentPage)\n            at XXXXXXXXX.Web.Controllers.AhcoSearchRenderingsController.SearchDetailed(String searchQuery, Nullable`1 currentPage)\n            at lambda_method(Closure , ControllerBase , Object[] )\n            at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)\n            at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)\n            at System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass15.<InvokeActionMethodWithFilters>b__12()\n            at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)\n            at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)\n            at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodWithFilters(ControllerContext controllerContext, IList`1 filters, ActionDescriptor actionDescriptor, IDictionary`2 parameters)\n            at System.Web.Mvc.ControllerActionInvoker.InvokeAction(ControllerContext controllerContext, String actionName)\n\n \n \n         Request information: \n             Request URL: https://XXXXXXXX/api/sitecore/XXXXXXX/SearchDetailed \n             Request path: /api/sitecore/XXXXXXXX/SearchDetailed \n             User host address: XXXXXXX\n             User: extranet\\Anonymous \n             Is authenticated: False \n             Authentication Type:  \n             Thread account name: NT AUTHORITY\\NETWORK SERVICE \n \n         Thread information: \n             Thread ID: 40 \n             Thread account name: NT AUTHORITY\\NETWORK SERVICE \n             Is impersonating: False \n             Stack trace:    at Coveo.Framework.CNL.Precondition.NotNull(Object p_Parameter, String p_ParameterName)\n            at Coveo.UI.Helpers.SitecoreHelper.GetFieldNameTranslator(ISearchIndex p_Index)\n            at Coveo.UI.Helpers.FieldHelper.ToCoveoFieldName(IIndexable p_Indexable, String p_SitecoreField, Boolean             p_UsePrefix)\n            at XXXXXXXXX.Web.SearchIndices.testing.Services.CoveoSearchProvider.GetResult(CoveoSearchParams searchParams)\n            at XXXXXXXXX.Web.Controllers.AhcoSearchRenderingsController.GetSearchResults(String searchQuery, String refinement, Nullable`1 currentPage)\n            at XXXXXXXXX.Web.Controllers.AhcoSearchRenderingsController.SearchDetailed(String searchQuery, Nullable`1 currentPage)\n            at lambda_method(Closure , ControllerBase , Object[] )\n            at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)\n            at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)\n            at System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass15.<InvokeActionMethodWithFilters>b__12()\n            at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)\n            at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)\n            at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodWithFilters(ControllerContext controllerContext, IList`1 filters, ActionDescriptor actionDescriptor, IDictionary`2 parameters)\n            at System.Web.Mvc.ControllerActionInvoker.InvokeAction(ControllerContext controllerContext, String actionName)\n\n\n</code></pre> \n<p>Any ideas what might be causing GetSearchIndex() within ToCoveoFieldName() to return null?</p> \n<p>Thanks, Jim </p>\n                </div>",
      "sitemaplastmodified" : 1453852800000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517942462000,
      "questionnumber" : 5620,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "jimschram",
      "sitename" : "Answers",
      "sysrowid" : 5448035,
      "uri" : "https://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "Call to SitecoreUtilities.ToCoveoFieldName() generating exception",
    "Uri" : "http://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
    "PrintableUri" : "https://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
    "ClickUri" : "https://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/5620/call-to-sitecoreutilitiestocoveofieldname-generati.html",
    "Excerpt" : "There are two \"web\" indexes: Coveo_CM_web_index and Coveo_CD_web_index; both of which are maintained on the CM envirionment as items are published to the respective \"web\" databases for each farm.",
    "FirstSentences" : null
  }