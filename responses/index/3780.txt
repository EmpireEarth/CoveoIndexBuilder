{
    "title" : "Issue configuring Content Delivery machine.",
    "uri" : "http://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
    "printableUri" : "https://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
    "clickUri" : "https://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
    "excerpt" : "I am having an issue with the CD nodes. ... I get an error when rendering the Coveo search view. ... I no longer get the error but it is showing me the content from my web database instead of my pr...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1337,
    "percentScore" : 82.2777,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Issue configuring Content Delivery machine.",
      "sysauthor" : "eat-sleep-code.com",
      "sysurihash" : "lEJG9z5GginfNLlE",
      "urihash" : "lEJG9z5GginfNLlE",
      "numberofanswers" : 1,
      "sysuri" : "https://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160371,
      "questionaskeddatestring" : "·\n            Jan 16 at 03:23 PM ·",
      "tags" : [ "coveoforsitecore4", "cdserver" ],
      "sysconcepts" : "web database ; pipeline ; accepted answer ; config transformation ; ShowConfig ; ID ; Unable ; FallbackOnFirstIndexWithSameDatabaseProcessor ; FetchCoveoIndexOnly",
      "concepts" : "web database ; pipeline ; accepted answer ; config transformation ; ShowConfig ; ID ; Unable ; FallbackOnFirstIndexWithSameDatabaseProcessor ; FetchCoveoIndexOnly",
      "printableuri" : "https://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517943517000,
      "permanentid" : "7e5a69d006f00f5cd574686cc0603d911e04a362242534a86d7578b835fd",
      "syslanguage" : [ "English" ],
      "transactionid" : 160371,
      "title" : "Issue configuring Content Delivery machine.",
      "date" : 1516147200000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "François Lachance-Guillemette" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "Simon \u2666\u2666", "eat-sleep-code.com", "eat-sleep-code.com" ],
      "hasacceptedanswer" : "true",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5449441,
      "numberofcomments" : 2,
      "size" : 87530,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911579722,
      "acceptedanswers" : 1,
      "syssize" : 87530,
      "sysdate" : 1516147200000,
      "author" : "eat-sleep-code.com",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>\n<p>I am having an issue with the CD nodes. I followed the guide here (except our database) is \"production\" instead of \"pub\": <a rel=\"nofollow\" href=\"https://developers.coveo.com/display/public/SitecoreV4/Deploying+Coveo+for+Sitecore+on+the+Content+Delivery+Servers\">https://developers.coveo.com/display/public/SitecoreV4/Deploying+Coveo+for+Sitecore+on+the+Content+Delivery+Servers</a> </p>\n<p> However, when I switch my <strong>SwitchMasterToWeb.Coveo.config</strong> to this:</p><configuration xmlns:patch=\"http://www.sitecore.net/xmlconfig/\"> <sitecore> <coveo> <defaultIndexConfiguration> <skipFirstTimeSetupCheck>true</skipFirstTimeSetupCheck> <securityConfiguration> <skipSitecoreCredentialsUpdate>true</skipSitecoreCredentialsUpdate> <skipSitecoreLoginCheck>true</skipSitecoreLoginCheck> </securityConfiguration> </defaultIndexConfiguration> </coveo> <contentSearch> <indexConfigurations> <indexUpdateStrategies> <coveoSyncMaster name=\"CoveoSyncMaster\"> <patch:attribute name=\"type\" value=\"Sitecore.ContentSearch.Maintenance.Strategies.ManualStrategy, Sitecore.ContentSearch\" /> <param desc=\"database\"> <patch:delete /> </param> </coveoSyncMaster> <coveoOnPublishEndAsync name=\"CoveoOnPublishEndAsync\"> <patch:attribute name=\"type\" value=\"Sitecore.ContentSearch.Maintenance.Strategies.ManualStrategy, Sitecore.ContentSearch\" /> <param desc=\"database\"> <patch:delete /> </param> <CheckForThreshold> <patch:delete /> </CheckForThreshold> </coveoOnPublishEndAsync> </indexUpdateStrategies> </indexConfigurations> <configuration> <indexes> <index id=\"Coveo_master_index\"> <patch:delete /> </index> <index id=\"Coveo_web_index\"> <patch:delete/> </index> <index id=\"Coveo_production_index\"> <strategies> <patch:delete/> </strategies> </index> </indexes> </configuration> </contentSearch> <scheduling> <agent name=\"CoveoSynchronizeTopResults\"> <patch:delete /> </agent> </scheduling> <sites> <site name=\"coveorest\"> <patch:attribute name=\"database\">production</patch:attribute> </site> <site name=\"coveoanalytics\"> <patch:attribute name=\"database\">production</patch:attribute> </site> <site name=\"coveo_website\"> <patch:attribute name=\"database\">production</patch:attribute> </site> <site name=\"website\"> <patch:attribute name=\"database\">production</patch:attribute> </site> </sites> </sitecore> </configuration>\n<p> \n<p>\n<p>... I get an error when rendering the Coveo search view.<br><br>If I remove this:</p>\n<pre> <index id=\"Coveo_web_index\">\n      <patch:delete/>\n </index>\n</pre> ... I no longer get the error but it is showing me the content from my \n<strong><em>web</em> </strong>database instead of my \n<strong>production </strong>database. \n<p>I have the following in my <strong>Coveo.SearchProvider.Custom.config</strong>:<br></p>\n<pre>...<br><br><contentSearch>\n      <configuration>\n        <indexes>\n          <index id=\"Coveo_production_index\" type=\"Coveo.SearchProvider.ProviderIndex, Coveo.SearchProvider\" patch:before=\"*[3]\">\n            <param desc=\"p_Name\">$(id)</param>\n            <configuration ref=\"coveo/defaultIndexConfiguration\"/>\n            <locations hint=\"list:AddCrawler\">\n              <crawler name=\"ContentCrawler\" type=\"Sitecore.ContentSearch.SitecoreItemCrawler, Sitecore.ContentSearch\">\n                <database>production</database>\n                <root>/sitecore/content/Sites/MySite</root>\n                <stopOnError>true</stopOnError>\n              </crawler>\n            </locations>\n            <propertyStore ref=\"coveo/databasePropertyStore\" param1=\"$(id)\"/>\n            <enableItemLanguageFallback>false</enableItemLanguageFallback>\n            <enableFieldLanguageFallback>false</enableFieldLanguageFallback>\n          </index>\n        </indexes>\n      </configuration>\n    </contentSearch>\n</pre>\n<p>I am running Sitecore 8.2 Update 2, and Coveo for Sitecore Enterprise Cloud 4.1.125.11</p> \n<p>\n                </div>",
      "sitemaplastmodified" : 1516147200000,
      "collection" : "default",
      "questionbodytext" : "<configuration xmlns:patch=\"http://www.sitecore.net/xmlconfig/\"> <sitecore> <coveo> <defaultIndexConfiguration> <skipFirstTimeSetupCheck>true</skipFirstTimeSetupCheck> <securityConfiguration> <skipSitecoreCredentialsUpdate>true</skipSitecoreCredentialsUpdate> <skipSitecoreLoginCheck>true</skipSitecoreLoginCheck> </securityConfiguration> </defaultIndexConfiguration> </coveo> <contentSearch> <indexConfigurations> <indexUpdateStrategies> <coveoSyncMaster name=\"CoveoSyncMaster\"> <patch:attribute name=\"type\" value=\"Sitecore.ContentSearch.Maintenance.Strategies.ManualStrategy, Sitecore.ContentSearch\" /> <param desc=\"database\"> <patch:delete /> </param> </coveoSyncMaster> <coveoOnPublishEndAsync name=\"CoveoOnPublishEndAsync\"> <patch:attribute name=\"type\" value=\"Sitecore.ContentSearch.Maintenance.Strategies.ManualStrategy, Sitecore.ContentSearch\" /> <param desc=\"database\"> <patch:delete /> </param> <CheckForThreshold> <patch:delete /> </CheckForThreshold> </coveoOnPublishEndAsync> </indexUpdateStrategies> </indexConfigurations> <configuration> <indexes> <index id=\"Coveo_master_index\"> <patch:delete /> </index> <index id=\"Coveo_web_index\"> <patch:delete/> </index> <index id=\"Coveo_production_index\"> <strategies> <patch:delete/> </strategies> </index> </indexes> </configuration> </contentSearch> <scheduling> <agent name=\"CoveoSynchronizeTopResults\"> <patch:delete /> </agent> </scheduling> <sites> <site name=\"coveorest\"> <patch:attribute name=\"database\">production</patch:attribute> </site> <site name=\"coveoanalytics\"> <patch:attribute name=\"database\">production</patch:attribute> </site> <site name=\"coveo_website\"> <patch:attribute name=\"database\">production</patch:attribute> </site> <site name=\"website\"> <patch:attribute name=\"database\">production</patch:attribute> </site> </sites> </sitecore> </configuration>\n\n ... I no longer get the error but it is showing me the content from my \ndatabase instead of my \ndatabase.",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517943517000,
      "questionnumber" : 14169,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "eat-sleep-code.com",
      "sitename" : "Answers",
      "sysrowid" : 5449441,
      "uri" : "https://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "Issue configuring Content Delivery machine.",
    "Uri" : "http://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
    "PrintableUri" : "https://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
    "ClickUri" : "https://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/14169/issue-configuring-content-delivery-machine.html",
    "Excerpt" : "I am having an issue with the CD nodes. ... I get an error when rendering the Coveo search view. ... I no longer get the error but it is showing me the content from my web database instead of my pr...",
    "FirstSentences" : null
  }