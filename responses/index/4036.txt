{
    "title" : "Unable to read any component attribute values in Coveo event \"doneBuildingQuery\"",
    "uri" : "http://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
    "printableUri" : "https://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
    "clickUri" : "https://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
    "excerpt" : "Unable to read any component attribute values in Coveo event \"doneBuildingQuery\" ... We are integrating a Coveo Lightning component with community builder page and need to apply some filters based ...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1221,
    "percentScore" : 78.627464,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Unable to read any component attribute values in Coveo event \"doneBuildingQuery\"",
      "sysauthor" : "Alok Gupta",
      "sysurihash" : "PC31FGza6vESðIuv",
      "urihash" : "PC31FGza6vESðIuv",
      "numberofanswers" : 2,
      "sysuri" : "https://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160368,
      "questionaskeddatestring" : "·\n            Aug 23, 2017 at 10:32 PM ·",
      "tags" : [ "salesforce", "lightning component", "coveo for salesforce", "community builder" ],
      "sysconcepts" : "Coveo event doneBuildingQuery ; customers ; lightning ; userType ; framework ; query call ; use getCallback ; life cycle ; Salesforce product ; community builder",
      "concepts" : "Coveo event doneBuildingQuery ; customers ; lightning ; userType ; framework ; query call ; use getCallback ; life cycle ; Salesforce product ; community builder",
      "printableuri" : "https://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517943325000,
      "permanentid" : "e452fc3d2a797679906864ae1fa824abbd305dd6bb995174309c4cf65195",
      "syslanguage" : [ "English" ],
      "transactionid" : 160368,
      "title" : "Unable to read any component attribute values in Coveo event \"doneBuildingQuery\"",
      "date" : 1504137600000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "maveilleux", "jmdrolet" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "Alok Gupta", "maveilleux \u2666", "Alok Gupta" ],
      "hasacceptedanswer" : "false",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5449185,
      "numberofcomments" : 2,
      "size" : 85715,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911579465,
      "acceptedanswers" : 0,
      "syssize" : 85715,
      "sysdate" : 1504137600000,
      "author" : "Alok Gupta",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>\n<p>We are integrating a Coveo Lightning component with community builder page and need to apply some filters based on the user type (customers, partners) on Coveo event doneBuildingQuery. </p>\n<p>Coveo is not allowing you to read any component attributes (values are coming as \"undefined\") from the \"doneBuildingQuery\" event method. Whereas, you can read the component attributes in the event method \"newResultsDisplayed\" successfully. </p>\n<p>Is this a bug in the Coveo for Salesforce product or there is a reason Coveo does not allow accessing component attributes from \"doneBuildingQuery\"?</p>-Coveo wrapper component-\n<p> \n<p><aura:component implements='forceCommunity:availableForAllPageTypes' controller='ApexCommunityController'></p> \n<pre><code> &lt;aura:attribute name=\"name\" type=\"String\" default=\"ShoreTelCommunityCoveo\"/&gt;\n &lt;aura:attribute name=\"autoInitialize\" type=\"Boolean\" default=\"true\"/&gt;\n &lt;aura:attribute name=\"autoInjectBasicQuery\" type=\"Boolean\" default=\"true\"/&gt;\n &lt;aura:attribute name=\"autoInjectBasicOptions\" type=\"Boolean\" default=\"true\"/&gt;\n &lt;aura:attribute name=\"debug\" type=\"Boolean\" default=\"false\"/&gt;\n &lt;aura:attribute name=\"searchHub\" type=\"String\" default=\"\"/&gt;\n &lt;aura:attribute name=\"userType\" type=\"String\" default=\"Unauthenticated\"/&gt;\n     \n &lt;CoveoV2:Search aura:id=\"communitySearch\" \n                name=\"{!v.name}\" \n     searchHub=\"{!v.searchHub}\" \n     autoInitialize=\"{!v.autoInitialize}\" \n     autoInjectBasicQuery=\"{!v.autoInjectBasicQuery}\" \n     autoInjectBasicOptions=\"{!v.autoInjectBasicOptions}\" \n             GetSearchToken=\"{!c.generateSearchToken}\"\n             ResourcesLoaded=\"{!c.onResourcesLoaded}\" \n     InterfaceContentLoaded=\"{!c.onInterfaceContentLoaded}\"\n      /&gt;\n</code></pre> \n<p></aura:component> -lightning controller -</p> \n<p>onInterfaceContentLoaded: function(component, event, helper) {</p> \n<pre><code> Coveo.$('.CoveoSearchInterface').on(Coveo.QueryEvents.doneBuildingQuery, function(e, args) {\n         // -------------&gt; value is coming as \"undefined\" here\n         console.log('---&gt; doneBuildingQuery, userType: ' + component.get(\"v.userType\"));\n     });\n\n     Coveo.$('#search').on('newResultsDisplayed', function(e, args) {\n         var userType = component.get(\"v.userType\");\n         console.log('---&gt; newResultsDisplayed, userType: ' + userType);\n     });\n</code></pre> \n<p>} </p>\n                </div>",
      "sitemaplastmodified" : 1504137600000,
      "collection" : "default",
      "questionbodytext" : "-Coveo wrapper component-",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517943325000,
      "questionnumber" : 12598,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "Alok Gupta",
      "sitename" : "Answers",
      "sysrowid" : 5449185,
      "uri" : "https://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "Unable to read any component attribute values in Coveo event \"doneBuildingQuery\"",
    "Uri" : "http://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
    "PrintableUri" : "https://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
    "ClickUri" : "https://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/12598/unable-to-read-component-attribute-values-in-coveo.html",
    "Excerpt" : "Unable to read any component attribute values in Coveo event \"doneBuildingQuery\" ... We are integrating a Coveo Lightning component with community builder page and need to apply some filters based ...",
    "FirstSentences" : null
  }