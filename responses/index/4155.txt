{
    "title" : "Unable to Index sitecore",
    "uri" : "http://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
    "printableUri" : "https://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
    "clickUri" : "https://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
    "uniqueId" : "42.4247$http://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
    "excerpt" : "I just installed coveo on my Sitecore 8 CMS and after running though the coveo configuration my unable to execute an index operation. ... The error that is reported from the UI is: ... 8860 00:35:2...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1206,
    "percentScore" : 78.143005,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Unable to Index sitecore",
      "sysauthor" : "aga",
      "sysurihash" : "CKLdYLjynlWMTQZg",
      "urihash" : "CKLdYLjynlWMTQZg",
      "numberofanswers" : 1,
      "sysuri" : "https://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
      "sysprintableuri" : "https://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
      "sitemappriority" : 0.1,
      "systransactionid" : 160367,
      "questionaskeddatestring" : "·\n            Oct 31, 2015 at 01:05 AM ·",
      "tags" : [ "coveoforsitecore", "ces" ],
      "sysconcepts" : "coveo ; sitecore ; user identity ; lucene ; exceptions ; François Lachance-Guillemette ; new question ; tool security ; admin service ; worth mentioning ; index operation ; workaround",
      "concepts" : "coveo ; sitecore ; user identity ; lucene ; exceptions ; François Lachance-Guillemette ; new question ; tool security ; admin service ; worth mentioning ; index operation ; workaround",
      "printableuri" : "https://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
      "documenttype" : "WebPage",
      "sysindexeddate" : 1517943236000,
      "permanentid" : "5bd8f59b96349d1cf4f98f181398d7f5f65ec1eba67e332d6061637da0d6",
      "syslanguage" : [ "English" ],
      "transactionid" : 160367,
      "title" : "Unable to Index sitecore",
      "date" : 1500249600000,
      "objecttype" : "Answers",
      "sitemapchangefrequency" : "Monthly",
      "answerauthor" : [ "sholmesby" ],
      "hasanswer" : "true",
      "audience" : [ "Administrator", "Developer" ],
      "commentauthor" : [ "Simon \u2666\u2666", "aga", "Simon \u2666\u2666", "rizki.eka.satria", "François Lachance-Guillemette \u2666\u2666", "rizki.eka.satria", "Simon \u2666\u2666" ],
      "hasacceptedanswer" : "false",
      "sourcetype" : "Sitemap",
      "sysconnectortype" : "SitemapCrawler",
      "rowid" : 5449066,
      "numberofcomments" : 5,
      "size" : 88991,
      "sysdocumenttype" : "WebPage",
      "questionvotes" : 0,
      "clickableuri" : "https://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
      "syssource" : "AnswersCloud",
      "orderingid" : 212384744911579346,
      "acceptedanswers" : 0,
      "syssize" : 88991,
      "sysdate" : 1500249600000,
      "author" : "aga",
      "source" : "AnswersCloud",
      "questionbodyhtml" : "<div class=\"question-body\">\n                <p>Hi,</p> \n<p>I just installed coveo on my Sitecore 8 CMS and after running though the coveo configuration my unable to execute an index operation. The error that is reported from the UI is:</p> \n<blockquote>\n <p> Exception: System.NullReferenceException Message: Object reference not set to an instance of an object. Source: Sitecore.Kernel at Sitecore.Security.Authentication.FormsAuthenticationHelper.GetTicket() at Sitecore.Security.Authentication.FormsAuthenticationHelper.GetAuthenticationData(String key) at Sitecore.SecurityModel.UserRuntimeSettings.Load() at Sitecore.Security.Accounts.User.get_RuntimeSettings() at Sitecore.ExperienceExplorer.Business.Pipelines.HttpRequestProcessed.LoginVirtualUser.Process(HttpRequestArgs args) at (Object , Object[] ) at Sitecore.Pipelines.CorePipeline.Run(PipelineArgs args) at Sitecore.Nexus.Web.HttpModule. (Object , EventArgs ) at System.Web.HttpApplication.SyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)</p> \n</blockquote> \n<p> But after looking through the logs I also found this one</p> \n<blockquote>\n <p> 8860 00:35:28 ERROR An error occurred while trying to update the user identity. It probably doesn't exist in CES yet. Exception: System.ServiceModel.FaultException`1[[System.ServiceModel.ExceptionDetail, System.ServiceModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]] Message: Value does not fall within the expected range. Source: mscorlib </p> \n <p> Server stack trace: at System.ServiceModel.Channels.ServiceChannel.ThrowIfFaultUnderstood(Message reply, MessageFault fault, String action, MessageVersion version, FaultConverter faultConverter) at System.ServiceModel.Channels.ServiceChannel.HandleReply(ProxyOperationRuntime operation, ProxyRpc& rpc) at System.ServiceModel.Channels.ServiceChannel.Call(String action, Boolean oneway, ProxyOperationRuntime operation, Object[] ins, Object[] outs, TimeSpan timeout) at System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage methodCall, ProxyOperationRuntime operation) at System.ServiceModel.Channels.ServiceChannelProxy.Invoke(IMessage message) </p> \n <p> Exception rethrown at [0]: at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg) at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 type) at Coveo.AdminService.AdminService.IAdminService.UpdateUserIdentity(CesMasterInformation p_Info, UserIdentityConfig p_UserIdentityConfig) at Coveo.AdminService.AdminServiceClientWrapper.PerformAdminServiceCall(Action p_Action) at Coveo.AdminService.AdminServiceClientWrapper.UpdateUserIdentity(UserIdentityConfig p_UserIdentityConfig) at Coveo.AbstractLayer.Communication.CES.AdminModule.UpdateUserIdentity(String p_Username, String p_Password) at Coveo.AbstractLayer.Communication.CES.CESCommunication.UpdateUserIdentity(String p_Username, String p_Password) at Coveo.SearchProvider.ProviderIndexUserIdentityHelper.VerifyUserIdentity(IIndexPropertyStore p_PropertyStore, CoveoIndexConfiguration p_Configuration)</p> \n</blockquote> \n<p>And even this:</p> \n<blockquote>\n <p> 8860 00:35:29 ERROR CreateInstanceGeneric (Type > p_Type, object[] p_Params): > Sitecore.ContentSearch.LuceneProvider.LuceneSearchFieldConfiguration > failed. Exception: > System.MissingMethodException Message: > Constructor on type > 'Sitecore.ContentSearch.LuceneProvider.LuceneSearchFieldConfiguration' > not found. Source: mscorlib at > System.RuntimeType.CreateInstanceImpl(BindingFlags > bindingAttr, Binder binder, Object[] > args, CultureInfo culture, Object[] > activationAttributes, StackCrawlMark& > stackMark) at > System.Activator.CreateInstance(Type > type, BindingFlags bindingAttr, Binder > binder, Object[] args, CultureInfo > culture, Object[] > activationAttributes) at > System.Activator.CreateInstance(Type > type, Object[] args)</p> \n</blockquote> \n<p>My CES server is remote and I've followed this <a rel=\"nofollow\" href=\"https://developers.coveo.com/pages/viewpage.action?pageId=2955699\">guide</a>. Also, it's worth mentioning that at first I had tried to secure the admin service but ran into issues so I re-installed CES without admin tool security and then reinstalled the same coveo for Sitecore package.</p> \n<p>Sitecore 8.0 (rev. 150621) Coveo for Sitecore 80 3.0 (1123) Coveo Enterprise Search 7.0 x64 (7914) for Sitecore</p> \n<p><strong>UPDATE 1</strong></p> \n<p>I've gotten past the lucene exceptions and now the exception that is logged profusely is: </p> \n<blockquote>\n <p> 3248 12:55:33 ERROR An error while Initializing occurred Exception: System.NullReferenceException Message: Object reference not set to an instance of an object. Source: System.Web at System.Web.Security.FormsAuthentication.SetAuthCookie(String userName, Boolean createPersistentCookie, String strCookiePath) at Sitecore.Security.Authentication.FormsAuthenticationProvider.Login(String userName, Boolean persistent) at Coveo.Framework.Configuration.CoveoIndexConfiguration.ValidateSitecoreCredentials() at Coveo.Framework.Configuration.CoveoIndexConfiguration.Validate() at Coveo.SearchProvider.ProviderIndexBase.Initialize(IIndexDocumentPropertyMapper`1 p_DocumentTypeMapper)</p> \n</blockquote> \n<p>I've ensured that the sitecore creds are valid in coveo configuration. </p>\n                </div>",
      "sitemaplastmodified" : 1500249600000,
      "collection" : "default",
      "syssourcetype" : "Sitemap",
      "indexeddate" : 1517943236000,
      "questionnumber" : 6504,
      "connectortype" : "SitemapCrawler",
      "filetype" : "html",
      "sysclickableuri" : "https://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
      "sysfiletype" : "html",
      "language" : [ "English" ],
      "sitemapparenturl" : "http://answers.coveo.com/questions/1.xml",
      "questionauthor" : "aga",
      "sitename" : "Answers",
      "sysrowid" : 5449066,
      "uri" : "https://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
      "syscollection" : "default",
      "sitelanguage" : [ "English" ]
    },
    "Title" : "Unable to Index sitecore",
    "Uri" : "http://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
    "PrintableUri" : "https://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
    "ClickUri" : "https://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
    "UniqueId" : "42.4247$http://answers.coveo.com/questions/6504/unable-to-index-sitecore.html",
    "Excerpt" : "I just installed coveo on my Sitecore 8 CMS and after running though the coveo configuration my unable to execute an index operation. ... The error that is reported from the UI is: ... 8860 00:35:2...",
    "FirstSentences" : null
  }