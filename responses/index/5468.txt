{
    "title" : "Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable",
    "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US",
    "printableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US",
    "clickUri" : "https://na61.salesforce.com/kA132000000087W",
    "uniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US",
    "excerpt" : "This article explains what you need to do on the Coveo side if you decide enable ONLY TLS 1.1 and TLS 1.2 protocols. ... Environment ... Cause ... CMF is doing something to force itself working in ...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1435,
    "percentScore" : 85.2398,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable",
      "sysurihash" : "QQ3K9GaNCa0gTV27",
      "urihash" : "QQ3K9GaNCa0gTV27",
      "parents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable\" uri=\"https://na61.salesforce.com/kA132000000087W\" /></parents>",
      "sfdcarticletype" : "Problem/Fix",
      "sfresolutionc" : "The solution is to upgrade both the Back-End and .NET Front-End to at least June 2017 Build.<br> <br><b><span style=\"color: #FF0000;\">Note: .NET Framework at least 4.5 needs to installed on the server for the fix to work. Normally the </span><a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/coveo_platform_hardware_and_software_requirements.htm#ThirdParty\" target=\"_blank\"><span style=\"color: #FF0000;\">CES installer</span></a><span style=\"color: #FF0000;\"> adds Microsoft .NET Framework 3.5 SP1 and 4.5.2 (side by side) when not already installed.</span></b><br><br>1) Once the Back-End and Front-End on June 2017 Build ( or later), you need to perform manual changes into their WEB.config file:<br> \n<ul><li style=\"margin-left: 0cm;\">Front-End web.config is:</li></ul>\n&quot;C:\\Program Files\\Coveo .NET Front-End 12\\Web\\Web.config&quot;<br> \n<ul><li style=\"margin-left: 0cm;\">Back-End web.config is:</li></ul>\n&quot;C:\\Program Files\\Coveo Enterprise Search 7\\Web\\Admin\\Web.config&quot;<br> <br>2) A numeric value will have to be specified for the &quot;sslAllowedProtocols&quot; attribute on the &quot;server&quot; line to enable the fix.<br><br>Here is an example:<br> \n<pre class=\"ckeditor_codeblock\">\n&lt;coveoEnterpriseSearch&gt;\n&lt;server hostname=&quot;. . .&quot; port=&quot;52800&quot; servicesHostname=&quot;. . .&quot; servicesPort=&quot;52810&quot; sslCertificatePath=&quot;. . .&quot; sslAllowedProtocols=&quot;N&quot; /&gt;\n. . .\n&lt;/coveoEnterpriseSearch&gt;</pre>\n<br>Where &quot;N&quot; is one of the following values:\n<ul><li>&quot;768&quot; = TLS 1.1 (only)</li><li>&quot;3072&quot; = TLS 1.2 (only)</li><li>&quot;3840&quot; = TLS 1.1 and 1.2 (768 + 3072 = 3840)</li></ul>\nSo the &lt;CoveoEnterpriseSearch&gt; section in the WEB.config file should similar to this:<br><br><img alt=\"User-added image\" height=\"90\" src=\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5K\" width=\"500\"></img><br><br><i><b>Coveo .NET Front-End can now communicate with Coveo Back-End</b></i><br><br>3) Perform the first time setup.<br><br><span style=\"color: #FF0000;\"><b>Note: After specifying the &quot;sslAllowedProtocols&quot; attribute, you might be getting &quot;The requested security protocol is not supported&quot; error:</b></span><br><br><img alt=\"User-added image\" height=\"208\" src=\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5A\" width=\"500\"></img><br><img alt=\"User-added image\" height=\"132\" src=\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5F\" width=\"500\"></img><br> \n<p>If that&#39;s the case, then you need to upgrade the &quot;CESAppPool Front-End&quot; .NET version manually:</p>\n\n<ul><li>Open IIS Manager</li><li>In the left pane, click on the computer name</li><li>In IIS section, open &quot;ISAPI and CGI Restrictions&quot;</li><li>Ensure that all entries starting with &quot;ASP .NET v4.0&quot; have the &quot;Restriction&quot; value to &quot;Allowed&quot;</li><li>In the left menu, expand the computer name item</li><li>Choose &quot;Application Pools&quot;</li><li>Click on &quot;CESAppPool Front-End&quot;</li><li>In the right panel, choose &quot;Basic Settings...&quot;</li><li>Switch &quot;.NET CLR Version&quot; to &quot;.NET CLR Version v4.0.30319&quot; and click OK</li><li>In the right pane, Stop and then Start the &quot;CESAppPool Front-End&quot; app pool</li></ul>",
      "sysuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US",
      "sfreleasedatec" : "2017-05-30",
      "sysprintableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US",
      "sflastpublisheddate" : 1498224318000,
      "systransactionid" : 161139,
      "sfurlname" : "2364",
      "sfsystemmodstamp" : 1518004058000,
      "sfisvisibleinapp" : "true",
      "sfcoveoversionc" : ".NET Search Interface\nCoveo Enterprise Search",
      "sysconcepts" : "NET Front-End ; Coveo ; Back-End ; protocols ; sslAllowedProtocols ; fix ; server ; requested security ; Microsoft ; Environment",
      "sfkbversionnumber" : "1",
      "concepts" : "NET Front-End ; Coveo ; Back-End ; protocols ; sslAllowedProtocols ; fix ; server ; requested security ; Microsoft ; Environment",
      "printableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US",
      "documenttype" : "article",
      "sfkbarticlekavid" : "ka1320000000G95AAE",
      "sysindexeddate" : 1518187571000,
      "sfknowledgearticleid" : "kA132000000087WCAQ",
      "sfcreatedbyid" : "00560000002MKBSAA4",
      "sfconnectorc" : "N/A",
      "permanentid" : "b28adc973dc550e8cbaa9a32fad58d0c03c071a972d20b2c48ad6e000094",
      "syslanguage" : [ "English" ],
      "transactionid" : 161139,
      "sfisvisibleinprm" : "true",
      "title" : "Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable",
      "sfversionnumber" : 1,
      "sfarticlenumber" : "000002364",
      "date" : 1518004058000,
      "objecttype" : "KB Article",
      "allmetadatavalues" : "{\"kav_lastmodifiedby.attribute.type\": [\"User\"], \"coveo_short_id\": [\"kA132000000087W\"], \"sflastmodifiedbyname\": [\"Karel Mpungi\"], \"kav_coveo_version__c__html_stripped\": [\".NET Search Interface\\r\\nCoveo Enterprise Search\"], \"fileextension\": [\"\"], \"sfdcexpandedproduct\": [\"All;All|.NET Search Interface;All|Coveo Enterprise Search\"], \"kav_createdby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000002MKBSAA4\"], \"sflanguage\": [\"en_US\"], \"kav_createdby.attribute.type\": [\"User\"], \"kav_createdby.id\": [\"00560000002MKBSAA4\"], \"kav_language\": [\"en_US\"], \"sfsitecoreversionc\": [\"N/A\"], \"sourcetype\": [\"Salesforce\"], \"title\": [\"Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable\"], \"source\": [\"Salesforce Public Items\"], \"kav_owner.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000002MKBSAA4\"], \"parents\": [\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-16\\\"?><parents><parent name=\\\"Organization\\\" uri=\\\"https://na61.salesforce.com/home/home.jsp\\\" /><parent name=\\\"KB_Article__ka\\\" uri=\\\"http://www.salesforce.com/org:organization/articletype:KB_Article\\\" /><parent name=\\\"Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable\\\" uri=\\\"https://na61.salesforce.com/kA132000000087W\\\" /></parents>\"], \"sfisvisibleinprm\": [true], \"kav_title\": [\"Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable\"], \"kav_isvisibleincsp\": [true], \"hashtmlversion\": [true], \"kav_versionnumber\": [1], \"sfcreatedbyname\": [\"Karel Mpungi\"], \"sflastpublisheddate\": [1498224318], \"objecttypelabel\": [\"KB Article\"], \"kav_cause__c__html_stripped\": [\"CMF is doing something to force itself working in TLS 1.0 only.\\u00a0 \\n CMF is a Coveo API from which the Coveo .NET Front-End talks with the Index (Back-End). Basicaly, it's one of Coveo DLL.\\u00a0 \\n \\n \\u00a0\"], \"originalhtmlcharset\": [1200], \"coveo_connector_hasbinarydata\": [false], \"kav_lastpublisheddate\": [1498224318], \"sfsystemmodstamp\": [1518004058], \"ka_attribute.type\": [\"KB_Article__ka\"], \"sfdcproduct\": [\".NET Search Interface;Coveo Enterprise Search\"], \"kav_resolution__c__html_stripped\": [\"The solution is to upgrade both the Back-End and .NET Front-End to at least June 2017 Build. \\n \\u00a0 \\n Note: .NET Framework at least 4.5 needs to installed on the server for the fix to work. Normally the  CES\\u00a0installer  adds Microsoft .NET Framework 3.5 SP1 and 4.5.2 (side by side) when not already installed. \\n \\n 1) Once the Back-End and Front-End on June 2017 Build ( or later), you need to perform manual changes into their WEB.config file: \\n \\u00a0\\n Front-End web.config is: \\n\\\"C:\\\\Program Files\\\\Coveo .NET Front-End 12\\\\Web\\\\Web.config\\\" \\n \\u00a0\\n Back-End web.config is: \\n\\\"C:\\\\Program Files\\\\Coveo Enterprise Search 7\\\\Web\\\\Admin\\\\Web.config\\\" \\n \\u00a0 \\n 2) A numeric value will have to be specified for the \\\"sslAllowedProtocols\\\" attribute on the \\\"server\\\" line to enable the fix. \\n \\n Here is an example: \\n \\u00a0\\n \\n<coveoEnterpriseSearch>\\n<server hostname=\\\". . .\\\" port=\\\"52800\\\" servicesHostname=\\\". . .\\\" servicesPort=\\\"52810\\\" sslCertificatePath=\\\". . .\\\" sslAllowedProtocols=\\\"N\\\" />\\n. . .\\n</coveoEnterpriseSearch> \\n \\n Where \\\"N\\\" is one of the following values:\\n \\\"768\\\" = TLS 1.1 (only) \\\"3072\\\" = TLS 1.2 (only) \\\"3840\\\" = TLS 1.1 and 1.2 (768 + 3072 = 3840) \\nSo the <CoveoEnterpriseSearch> section in the WEB.config file should similar to this: \\n \\n  \\n \\n Coveo .NET Front-End can now communicate with Coveo Back-End \\n \\n 3) Perform the first time setup. \\n \\n Note: After specifying the \\\"sslAllowedProtocols\\\" attribute, you might be getting \\\"The requested security protocol is not supported\\\" error: \\n \\n  \\n  \\n \\u00a0\\n If that's the case, then you need to upgrade the \\\"CESAppPool Front-End\\\" .NET version manually:\\n \\n\\n Open IIS Manager In the left pane, click on the computer name In IIS section, open \\\"ISAPI and CGI Restrictions\\\" Ensure that all entries starting with \\\"ASP .NET v4.0\\\" have the \\\"Restriction\\\" value to \\\"Allowed\\\" In the left menu, expand the computer name item Choose \\\"Application Pools\\\" Click on \\\"CESAppPool Front-End\\\" In the right panel, choose \\\"Basic Settings...\\\" Switch \\\".NET CLR Version\\\" to \\\".NET CLR Version v4.0.30319\\\" and click OK In the right pane, Stop and then Start the \\\"CESAppPool Front-End\\\" app pool\"], \"clickableuri\": [\"https://na61.salesforce.com/kA132000000087W\"], \"sftitle\": [\"Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable\"], \"kav_owner.id\": [\"00560000002MKBSAA4\"], \"sfbuildc\": [\"Prior 7.0.8996 and Prior 12.0.1883\"], \"sfisvisibleinapp\": [true], \"ka_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__ka/kA132000000087WCAQ\"], \"sfdcarticletype\": [\"Problem/Fix\"], \"kav_cause__c\": [\"CMF is doing something to force itself working in TLS 1.0 only.\\u00a0<br>CMF is a Coveo API from which the Coveo .NET Front-End talks with the Index (Back-End). Basicaly, it&#39;s one of Coveo DLL.\\u00a0<br><br>\\u00a0\"], \"sfislatestversion\": [true], \"kav_release_date__c\": [\"2017-05-30\"], \"contenttype\": [\"binarydata\"], \"sfurlname\": [\"2364\"], \"ka_id\": [\"kA132000000087WCAQ\"], \"kav_datacategoryselections.datacategoryname\": [\"NET_Search_Interface;Coveo_Enterprise_Search;Configuration\"], \"coveo_url\": [\"https://na61.salesforce.com/kA132000000087W\"], \"kav_urlname\": [\"2364\"], \"sfreleasedatec\": [\"2017-05-30\"], \"kav_dc_expanded_product\": [\"All;All|.NET Search Interface;All|Coveo Enterprise Search\"], \"foldingcollection\": [\"e20fd71973e048b7a3d6ef5fa3b9b497e0b33010f70174f047e6ab7cea1a\"], \"body\": [\"<html>   <body>     <div style=\\\"background-color: #fff;border: 2px solid #BBC5CC;border-radius: 4px;float: left;font-family: lato;margin-left: 15px;margin-right: 15px;margin-bottom: 4%;padding: 10px;width: 60%;\\\">       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Description         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> This article explains what you need to do on the Coveo side if you decide enable ONLY\\u00a0\\u00a0TLS 1.1 and TLS 1.2 protocols.<br><br><img alt=\\\"User-added image\\\" height=\\\"387\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy14&amp;refid=0EM32000000Ai55\\\" width=\\\"500\\\"></img></div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Environment         </div>       </div>       <br/>       <table>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Product</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Sitecore Version</td>           <td>N/A</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Connector</td>           <td>N/A</td>         </tr>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Published</td>           <td>1498224318</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Version</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Build</td>           <td>Prior 7.0.8996 and Prior 12.0.1883</td>         </tr>       </table>       <br/>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Cause         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> CMF is doing something to force itself working in TLS 1.0 only.\\u00a0<br>CMF is a Coveo API from which the Coveo .NET Front-End talks with the Index (Back-End). Basicaly, it&#39;s one of Coveo DLL.\\u00a0<br><br>\\u00a0</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Resolution         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> The solution is to upgrade both the Back-End and .NET Front-End to at least June 2017 Build.<br>\\u00a0<br><b><span style=\\\"color: #FF0000;\\\">Note: .NET Framework at least 4.5 needs to installed on the server for the fix to work. Normally the </span><a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/coveo_platform_hardware_and_software_requirements.htm#ThirdParty\\\" target=\\\"_blank\\\"><span style=\\\"color: #FF0000;\\\">CES\\u00a0installer</span></a><span style=\\\"color: #FF0000;\\\"> adds Microsoft .NET Framework 3.5 SP1 and 4.5.2 (side by side) when not already installed.</span></b><br><br>1) Once the Back-End and Front-End on June 2017 Build ( or later), you need to perform manual changes into their WEB.config file:<br>\\u00a0\\n<ul><li style=\\\"margin-left: 0cm;\\\">Front-End web.config is:</li></ul>\\n&quot;C:\\\\Program Files\\\\Coveo .NET Front-End 12\\\\Web\\\\Web.config&quot;<br>\\u00a0\\n<ul><li style=\\\"margin-left: 0cm;\\\">Back-End web.config is:</li></ul>\\n&quot;C:\\\\Program Files\\\\Coveo Enterprise Search 7\\\\Web\\\\Admin\\\\Web.config&quot;<br>\\u00a0<br>2) A numeric value will have to be specified for the &quot;sslAllowedProtocols&quot; attribute on the &quot;server&quot; line to enable the fix.<br><br>Here is an example:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\n&lt;coveoEnterpriseSearch&gt;\\n&lt;server hostname=&quot;. . .&quot; port=&quot;52800&quot; servicesHostname=&quot;. . .&quot; servicesPort=&quot;52810&quot; sslCertificatePath=&quot;. . .&quot; sslAllowedProtocols=&quot;N&quot; /&gt;\\n. . .\\n&lt;/coveoEnterpriseSearch&gt;</pre>\\n<br>Where &quot;N&quot; is one of the following values:\\n<ul><li>&quot;768&quot; = TLS 1.1 (only)</li><li>&quot;3072&quot; = TLS 1.2 (only)</li><li>&quot;3840&quot; = TLS 1.1 and 1.2 (768 + 3072 = 3840)</li></ul>\\nSo the &lt;CoveoEnterpriseSearch&gt; section in the WEB.config file should similar to this:<br><br><img alt=\\\"User-added image\\\" height=\\\"90\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5K\\\" width=\\\"500\\\"></img><br><br><i><b>Coveo .NET Front-End can now communicate with Coveo Back-End</b></i><br><br>3) Perform the first time setup.<br><br><span style=\\\"color: #FF0000;\\\"><b>Note: After specifying the &quot;sslAllowedProtocols&quot; attribute, you might be getting &quot;The requested security protocol is not supported&quot; error:</b></span><br><br><img alt=\\\"User-added image\\\" height=\\\"208\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5A\\\" width=\\\"500\\\"></img><br><img alt=\\\"User-added image\\\" height=\\\"132\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5F\\\" width=\\\"500\\\"></img><br>\\u00a0\\n<p>If that&#39;s the case, then you need to upgrade the &quot;CESAppPool Front-End&quot; .NET version manually:</p>\\n\\n<ul><li>Open IIS Manager</li><li>In the left pane, click on the computer name</li><li>In IIS section, open &quot;ISAPI and CGI Restrictions&quot;</li><li>Ensure that all entries starting with &quot;ASP .NET v4.0&quot; have the &quot;Restriction&quot; value to &quot;Allowed&quot;</li><li>In the left menu, expand the computer name item</li><li>Choose &quot;Application Pools&quot;</li><li>Click on &quot;CESAppPool Front-End&quot;</li><li>In the right panel, choose &quot;Basic Settings...&quot;</li><li>Switch &quot;.NET CLR Version&quot; to &quot;.NET CLR Version v4.0.30319&quot; and click OK</li><li>In the right pane, Stop and then Start the &quot;CESAppPool Front-End&quot; app pool</li></ul></div>     </div>   </body> </html>\"], \"sfpublishstatus\": [\"Online\"], \"sfcreatedbyid\": [\"00560000002MKBSAA4\"], \"kav_description__c__html_stripped\": [\"This article explains what you need to do on the Coveo side if you decide enable ONLY\\u00a0\\u00a0TLS 1.1 and TLS 1.2 protocols. \\n \\n \"], \"kav_islatestversion\": [true], \"kav_knowledgearticleid\": [\"kA132000000087WCAQ\"], \"sfknowledgearticleid\": [\"kA132000000087WCAQ\"], \"sfownername\": [\"Karel Mpungi\"], \"kav_datacategoryselections.attribute.type\": [\"KB_Article__DataCategorySelection;KB_Article__DataCategorySelection;KB_Article__DataCategorySelection\"], \"detectedtitle\": [\"Description\"], \"kav_createddate\": [1498223831], \"kav_build__c\": [\"Prior 7.0.8996 and Prior 12.0.1883\"], \"language\": [\"English\"], \"coveo_foldingchild\": [\"465144d1d2f7ef1cecf2499fd680a98bd6b28327e0ea7dbc9bdc80ae4251\"], \"sfownerid\": [\"00560000002MKBSAA4\"], \"kav_createdby.coveo_record_size\": [2], \"kav_systemmodstamp\": [1518004058], \"objecttype\": [\"KB Article\"], \"connectortype\": [\"Salesforce2\"], \"kav_coveo_record_size\": [4], \"originaluri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US\"], \"sfisvisibleincsp\": [true], \"convertertype\": [\"TYPE_HTML\"], \"filetype\": [\"SalesforceItem\"], \"kav_owner.name\": [\"Karel Mpungi\"], \"sfcoveoversionc\": [\".NET Search Interface\\r\\nCoveo Enterprise Search\"], \"sfdcexpandedarticletype\": [\"All;All|Problem/Fix\"], \"objecttypelabelplural\": [\"KB Articles\"], \"sfcurrencyisocode\": [\"USD\"], \"sfisdeleted\": [false], \"extractedsize\": [5102], \"size\": [9147], \"kav_publishstatus\": [\"Online\"], \"kav_connector__c\": [\"N/A\"], \"generateexcerpt\": [true], \"sfdescriptionc\": [\"This article explains what you need to do on the Coveo side if you decide enable ONLY\\u00a0\\u00a0TLS 1.1 and TLS 1.2 protocols.<br><br><img alt=\\\"User-added image\\\" height=\\\"387\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy14&amp;refid=0EM32000000Ai55\\\" width=\\\"500\\\"></img>\"], \"sfarticletype\": [\"KB_Article__kav\"], \"kav_articletype\": [\"KB_Article__kav\"], \"kav_lastmodifieddate\": [1498224318], \"documenttype\": [\"article\"], \"sfkbarticlekavid\": [\"ka1320000000G95AAE\"], \"kav_currencyisocode\": [\"USD\"], \"foldingparent\": [\"465144d1d2f7ef1cecf2499fd680a98bd6b28327e0ea7dbc9bdc80ae4251\"], \"mappingtype\": [\"KB_Article\"], \"kav_isvisibleinpkb\": [true], \"kav_sourceid\": [\"5003200001CJdmcAAD\"], \"sfkbversionnumber\": [1], \"kav_isvisibleinapp\": [true], \"kav_resolution__c\": [\"The solution is to upgrade both the Back-End and .NET Front-End to at least June 2017 Build.<br>\\u00a0<br><b><span style=\\\"color: #FF0000;\\\">Note: .NET Framework at least 4.5 needs to installed on the server for the fix to work. Normally the </span><a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/coveo_platform_hardware_and_software_requirements.htm#ThirdParty\\\" target=\\\"_blank\\\"><span style=\\\"color: #FF0000;\\\">CES\\u00a0installer</span></a><span style=\\\"color: #FF0000;\\\"> adds Microsoft .NET Framework 3.5 SP1 and 4.5.2 (side by side) when not already installed.</span></b><br><br>1) Once the Back-End and Front-End on June 2017 Build ( or later), you need to perform manual changes into their WEB.config file:<br>\\u00a0\\n<ul><li style=\\\"margin-left: 0cm;\\\">Front-End web.config is:</li></ul>\\n&quot;C:\\\\Program Files\\\\Coveo .NET Front-End 12\\\\Web\\\\Web.config&quot;<br>\\u00a0\\n<ul><li style=\\\"margin-left: 0cm;\\\">Back-End web.config is:</li></ul>\\n&quot;C:\\\\Program Files\\\\Coveo Enterprise Search 7\\\\Web\\\\Admin\\\\Web.config&quot;<br>\\u00a0<br>2) A numeric value will have to be specified for the &quot;sslAllowedProtocols&quot; attribute on the &quot;server&quot; line to enable the fix.<br><br>Here is an example:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\n&lt;coveoEnterpriseSearch&gt;\\n&lt;server hostname=&quot;. . .&quot; port=&quot;52800&quot; servicesHostname=&quot;. . .&quot; servicesPort=&quot;52810&quot; sslCertificatePath=&quot;. . .&quot; sslAllowedProtocols=&quot;N&quot; /&gt;\\n. . .\\n&lt;/coveoEnterpriseSearch&gt;</pre>\\n<br>Where &quot;N&quot; is one of the following values:\\n<ul><li>&quot;768&quot; = TLS 1.1 (only)</li><li>&quot;3072&quot; = TLS 1.2 (only)</li><li>&quot;3840&quot; = TLS 1.1 and 1.2 (768 + 3072 = 3840)</li></ul>\\nSo the &lt;CoveoEnterpriseSearch&gt; section in the WEB.config file should similar to this:<br><br><img alt=\\\"User-added image\\\" height=\\\"90\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5K\\\" width=\\\"500\\\"></img><br><br><i><b>Coveo .NET Front-End can now communicate with Coveo Back-End</b></i><br><br>3) Perform the first time setup.<br><br><span style=\\\"color: #FF0000;\\\"><b>Note: After specifying the &quot;sslAllowedProtocols&quot; attribute, you might be getting &quot;The requested security protocol is not supported&quot; error:</b></span><br><br><img alt=\\\"User-added image\\\" height=\\\"208\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5A\\\" width=\\\"500\\\"></img><br><img alt=\\\"User-added image\\\" height=\\\"132\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5F\\\" width=\\\"500\\\"></img><br>\\u00a0\\n<p>If that&#39;s the case, then you need to upgrade the &quot;CESAppPool Front-End&quot; .NET version manually:</p>\\n\\n<ul><li>Open IIS Manager</li><li>In the left pane, click on the computer name</li><li>In IIS section, open &quot;ISAPI and CGI Restrictions&quot;</li><li>Ensure that all entries starting with &quot;ASP .NET v4.0&quot; have the &quot;Restriction&quot; value to &quot;Allowed&quot;</li><li>In the left menu, expand the computer name item</li><li>Choose &quot;Application Pools&quot;</li><li>Click on &quot;CESAppPool Front-End&quot;</li><li>In the right panel, choose &quot;Basic Settings...&quot;</li><li>Switch &quot;.NET CLR Version&quot; to &quot;.NET CLR Version v4.0.30319&quot; and click OK</li><li>In the right pane, Stop and then Start the &quot;CESAppPool Front-End&quot; app pool</li></ul>\"], \"coveo_objecttype\": [\"KB_Article\"], \"printableuri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US\"], \"kav_datacategoryselections.attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o320000004chBAAQ;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o320000004chCAAQ;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o320000004chDAAQ\"], \"kav_id\": [\"ka1320000000G95AAE\"], \"sfresolutionc\": [\"The solution is to upgrade both the Back-End and .NET Front-End to at least June 2017 Build.<br>\\u00a0<br><b><span style=\\\"color: #FF0000;\\\">Note: .NET Framework at least 4.5 needs to installed on the server for the fix to work. Normally the </span><a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/coveo_platform_hardware_and_software_requirements.htm#ThirdParty\\\" target=\\\"_blank\\\"><span style=\\\"color: #FF0000;\\\">CES\\u00a0installer</span></a><span style=\\\"color: #FF0000;\\\"> adds Microsoft .NET Framework 3.5 SP1 and 4.5.2 (side by side) when not already installed.</span></b><br><br>1) Once the Back-End and Front-End on June 2017 Build ( or later), you need to perform manual changes into their WEB.config file:<br>\\u00a0\\n<ul><li style=\\\"margin-left: 0cm;\\\">Front-End web.config is:</li></ul>\\n&quot;C:\\\\Program Files\\\\Coveo .NET Front-End 12\\\\Web\\\\Web.config&quot;<br>\\u00a0\\n<ul><li style=\\\"margin-left: 0cm;\\\">Back-End web.config is:</li></ul>\\n&quot;C:\\\\Program Files\\\\Coveo Enterprise Search 7\\\\Web\\\\Admin\\\\Web.config&quot;<br>\\u00a0<br>2) A numeric value will have to be specified for the &quot;sslAllowedProtocols&quot; attribute on the &quot;server&quot; line to enable the fix.<br><br>Here is an example:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\n&lt;coveoEnterpriseSearch&gt;\\n&lt;server hostname=&quot;. . .&quot; port=&quot;52800&quot; servicesHostname=&quot;. . .&quot; servicesPort=&quot;52810&quot; sslCertificatePath=&quot;. . .&quot; sslAllowedProtocols=&quot;N&quot; /&gt;\\n. . .\\n&lt;/coveoEnterpriseSearch&gt;</pre>\\n<br>Where &quot;N&quot; is one of the following values:\\n<ul><li>&quot;768&quot; = TLS 1.1 (only)</li><li>&quot;3072&quot; = TLS 1.2 (only)</li><li>&quot;3840&quot; = TLS 1.1 and 1.2 (768 + 3072 = 3840)</li></ul>\\nSo the &lt;CoveoEnterpriseSearch&gt; section in the WEB.config file should similar to this:<br><br><img alt=\\\"User-added image\\\" height=\\\"90\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5K\\\" width=\\\"500\\\"></img><br><br><i><b>Coveo .NET Front-End can now communicate with Coveo Back-End</b></i><br><br>3) Perform the first time setup.<br><br><span style=\\\"color: #FF0000;\\\"><b>Note: After specifying the &quot;sslAllowedProtocols&quot; attribute, you might be getting &quot;The requested security protocol is not supported&quot; error:</b></span><br><br><img alt=\\\"User-added image\\\" height=\\\"208\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5A\\\" width=\\\"500\\\"></img><br><img alt=\\\"User-added image\\\" height=\\\"132\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy1J&amp;refid=0EM32000000Ai5F\\\" width=\\\"500\\\"></img><br>\\u00a0\\n<p>If that&#39;s the case, then you need to upgrade the &quot;CESAppPool Front-End&quot; .NET version manually:</p>\\n\\n<ul><li>Open IIS Manager</li><li>In the left pane, click on the computer name</li><li>In IIS section, open &quot;ISAPI and CGI Restrictions&quot;</li><li>Ensure that all entries starting with &quot;ASP .NET v4.0&quot; have the &quot;Restriction&quot; value to &quot;Allowed&quot;</li><li>In the left menu, expand the computer name item</li><li>Choose &quot;Application Pools&quot;</li><li>Click on &quot;CESAppPool Front-End&quot;</li><li>In the right panel, choose &quot;Basic Settings...&quot;</li><li>Switch &quot;.NET CLR Version&quot; to &quot;.NET CLR Version v4.0.30319&quot; and click OK</li><li>In the right pane, Stop and then Start the &quot;CESAppPool Front-End&quot; app pool</li></ul>\"], \"foldingchild\": [\"465144d1d2f7ef1cecf2499fd680a98bd6b28327e0ea7dbc9bdc80ae4251\"], \"sfcreateddate\": [1498223831], \"kav_sitecore_version__c\": [\"N/A\"], \"kav_owner.coveo_record_size\": [2], \"kav_coveo_effective_modstamp\": [1518004058], \"kav_summary__html_stripped\": [\"\"], \"kav_dc_article_type\": [\"Problem/Fix\"], \"sfconnectorc\": [\"N/A\"], \"kav_dc_product\": [\".NET Search Interface;Coveo Enterprise Search\"], \"ka_coveo_record_size\": [2], \"kav_dc_expanded_article_type\": [\"All;All|Problem/Fix\"], \"kav_datacategoryselections.coveo_record_size\": [\"2;2;2\"], \"concepts\": [\"NET Front-End ; Coveo ; Back-End ; protocols ; sslAllowedProtocols ; fix ; server ; requested security ; Microsoft ; Environment\"], \"sfkbid\": [\"kA132000000087WCAQ\"], \"kav_firstpublisheddate\": [1498224318], \"coveo_organization_id\": [\"00D3000000007r2\"], \"coveo_foldingcollection\": [\"e20fd71973e048b7a3d6ef5fa3b9b497e0b33010f70174f047e6ab7cea1a\"], \"sffirstpublisheddate\": [1498224318], \"sflastmodifieddate\": [1498224318], \"kav_coveo_version__c\": [\".NET Search Interface\\r\\nCoveo Enterprise Search\"], \"kav_vendor_version__c__html_stripped\": [\"\"], \"detectedlanguage\": [1], \"kav_isvisibleinprm\": [true], \"kav_owner.attribute.type\": [\"Name\"], \"kav_lastmodifiedby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000002MKBSAA4\"], \"sitename\": [\"Community\"], \"kav_createdby.name\": [\"Karel Mpungi\"], \"sfarticlenumber\": [\"000002364\"], \"kav_lastmodifiedby.coveo_record_size\": [2], \"sfisvisibleinpkb\": [true], \"kav_datacategoryselections.id\": [\"02o320000004chBAAQ;02o320000004chCAAQ;02o320000004chDAAQ\"], \"kav_description__c\": [\"This article explains what you need to do on the Coveo side if you decide enable ONLY\\u00a0\\u00a0TLS 1.1 and TLS 1.2 protocols.<br><br><img alt=\\\"User-added image\\\" height=\\\"387\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy14&amp;refid=0EM32000000Ai55\\\" width=\\\"500\\\"></img>\"], \"kav_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__kav/ka1320000000G95AAE\"], \"kav_articlenumber__stripped\": [\"2364\"], \"sfversionnumber\": [1], \"kav_attribute.type\": [\"KB_Article__kav\"], \"kav_validationstatus\": [\"Reviewed\"], \"coveo_foldingparent\": [\"465144d1d2f7ef1cecf2499fd680a98bd6b28327e0ea7dbc9bdc80ae4251\"], \"collection\": [\"default\"], \"sfcausec\": [\"CMF is doing something to force itself working in TLS 1.0 only.\\u00a0<br>CMF is a Coveo API from which the Coveo .NET Front-End talks with the Index (Back-End). Basicaly, it&#39;s one of Coveo DLL.\\u00a0<br><br>\\u00a0\"], \"sfsourceid\": [\"5003200001CJdmcAAD\"], \"date\": [1518004058], \"kav_lastmodifiedby.id\": [\"00560000002MKBSAA4\"], \"kav_datacategoryselections.datacategorygroupname\": [\"Product;Product;Article_Type\"], \"conversionstate\": [0], \"sfvalidationstatus\": [\"Reviewed\"], \"kav_isdeleted\": [false], \"sflastmodifiedbyid\": [\"00560000002MKBSAA4\"], \"kav_lastmodifiedby.name\": [\"Karel Mpungi\"], \"kav_articlenumber\": [\"000002364\"], \"permanentid\": [\"b28adc973dc550e8cbaa9a32fad58d0c03c071a972d20b2c48ad6e000094\"]}",
      "sfbuildc" : "Prior 7.0.8996 and Prior 12.0.1883",
      "sflastmodifiedbyid" : "00560000002MKBSAA4",
      "syssfownerid" : "00560000002MKBSAA4",
      "sfsitecoreversionc" : "N/A",
      "sourcetype" : "Salesforce",
      "sysconnectortype" : "Salesforce2",
      "sftitle" : "Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable",
      "rowid" : 5492873,
      "syssfcreatedbyid" : "00560000002MKBSAA4",
      "sfdescriptionc" : "This article explains what you need to do on the Coveo side if you decide enable ONLY  TLS 1.1 and TLS 1.2 protocols.<br><br><img alt=\"User-added image\" height=\"387\" src=\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka1320000000G95&amp;feoid=00N32000002zy14&amp;refid=0EM32000000Ai55\" width=\"500\"></img>",
      "size" : 9147,
      "sfislatestversion" : "true",
      "sysdocumenttype" : "article",
      "sfcreateddate" : 1498223831000,
      "sfsourceid" : "5003200001CJdmcAAD",
      "clickableuri" : "https://na61.salesforce.com/kA132000000087W",
      "syssource" : "Salesforce Public Items",
      "sfownerid" : "00560000002MKBSAA4",
      "orderingid" : 212384990660371679,
      "sfpublishstatus" : "Online",
      "syssize" : 9147,
      "sysdate" : 1518004058000,
      "sflanguage" : "en_US",
      "sysparents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable\" uri=\"https://na61.salesforce.com/kA132000000087W\" /></parents>",
      "sfdcexpandedarticletype" : "All;All|Problem/Fix",
      "sfcurrencyisocode" : "USD",
      "sfkbid" : "kA132000000087WCAQ",
      "sfcausec" : "CMF is doing something to force itself working in TLS 1.0 only. <br>CMF is a Coveo API from which the Coveo .NET Front-End talks with the Index (Back-End). Basicaly, it&#39;s one of Coveo DLL. <br><br> ",
      "sfdcexpandedproduct" : "All;All|.NET Search Interface;All|Coveo Enterprise Search",
      "syssfcreateddate" : 1498223831000,
      "sflastmodifieddate" : 1498224318000,
      "sfisvisibleinpkb" : "true",
      "source" : "Salesforce Public Items",
      "sfisdeleted" : "false",
      "sfisvisibleincsp" : "true",
      "sfvalidationstatus" : "Reviewed",
      "sflastmodifiedbyname" : "Karel Mpungi",
      "collection" : "default",
      "sfdcproduct" : [ ".NET Search Interface", "Coveo Enterprise Search" ],
      "syssourcetype" : "Salesforce",
      "sfarticletype" : "KB_Article__kav",
      "indexeddate" : 1518187571000,
      "connectortype" : "Salesforce2",
      "filetype" : "SalesforceItem",
      "sfcreatedbyname" : "Karel Mpungi",
      "sysclickableuri" : "https://na61.salesforce.com/kA132000000087W",
      "sysfiletype" : "SalesforceItem",
      "language" : [ "English" ],
      "sffirstpublisheddate" : 1498224318000,
      "sfownername" : "Karel Mpungi",
      "sitename" : "Community",
      "sysrowid" : 5492873,
      "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US",
      "syscollection" : "default"
    },
    "Title" : "Coveo .NET Front-End cannot communicate with Coveo Back-End when only TLS 1.1 and TLS 1.2 are enable",
    "Uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US",
    "PrintableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US",
    "ClickUri" : "https://na61.salesforce.com/kA132000000087W",
    "UniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000087WCAQ/language:en_US",
    "Excerpt" : "This article explains what you need to do on the Coveo side if you decide enable ONLY TLS 1.1 and TLS 1.2 protocols. ... Environment ... Cause ... CMF is doing something to force itself working in ...",
    "FirstSentences" : null
  }