{
    "title" : "How to Safely Delete the Content of an On-Premises CES Index",
    "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US",
    "printableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US",
    "clickUri" : "https://na61.salesforce.com/kA132000000L7Om",
    "uniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US",
    "excerpt" : "WARNING: Before applying this procedure, we strongly recommend you contact Coveo Support to discuss the situation. ... This article explains how to: ... In this scenario, we'll consider the followi...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1427,
    "percentScore" : 85.00186,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "How to Safely Delete the Content of an On-Premises CES Index",
      "sysurihash" : "lSw1946u6Kg2FTx5",
      "urihash" : "lSw1946u6Kg2FTx5",
      "parents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"How to Safely Delete the Content of an On-Premises CES Index\" uri=\"https://na61.salesforce.com/kA132000000L7Om\" /></parents>",
      "sfdcarticletype" : "How To/Question",
      "sfresolutionc" : "In this scenario, we&#39;ll consider the following setup:<br><br>1 CES Master Mirror - Outside of the the load Balancer and not responding to end users queries.<br>2 CES Mirror Server (Mirror1 and Mirror2) - On the Load Balancer and responding to users queries\n<h2><u><b>Step 1 - Disconnect the mirrors from the Master</b></u></h2>\n<br>Follow this procedure to disconnect the Master Server from its Mirrors <a href=\"/articles/KB_Article/1875\" target=\"_blank\">How to Temporary Cut The Connection Between an On-Premises CES Master and CES Mirror Server</a>\n\n<h2><u><b>Step 2 - Delete the Index </b></u></h2>\n\n<ol><li>On your CES Master server, stop Coveo Enterprise Search 7 Service </li><li>In your CES Index Folder (CES7), take a backup of those folders:\n\t<ul><li>Index folder</li><li>Slices folder (could be on another drive than the index one)\n\t\t<ul><li>You can find the slices folder in the <a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\" target=\"_blank\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name -&gt; Slices</a></li></ul>\n\t\t</li><li>Temp folder </li></ul>\n\t</li><li>In your CES Index Folder (CES7), delete only these folders: \n\t<ul><li>Index folder </li><li>Slices folder (could be on another drive than the index one)\n\t\t<ul><li>You can find the slices folder in the <a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\" target=\"_blank\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name.</a></li></ul>\n\t\t</li><li>Temp folder </li></ul>\n\t</li><li>Restart CES7 Service </li></ol>\n\n<h2><u><b>Step 3 - Rebuild Sources</b></u></h2>\nLaunch a rebuild for your Sources on your Master Server\n\n<h2><u><b>Step 4 - Place the Master Server on the Load Balancer and Remove the Mirrors from it</b></u></h2>\nBecause the Mirrors are not completely out of sync with the master server, we will need to delete their content before. <br>To ensure that end-user queries are stil getting served, we need to:\n<ol><li>Add the Master server to the load balancer</li><li>Remove the Mirrors from the load balancer</li></ol>\n\n<h2><u><b>Step 5 - Deleting the Mirror Servers Content</b></u></h2>\nOnce the Mirror Servers are outside the load balancer, each servers you have:\n\n<ol><li>Connect to the Mirror</li><li>Stop the CES7 Mirror Service Windows Service</li><li>In [Drive]\\CES7\\[Mirror Name]\\Index, delete the content of these folders:\n\t<ul><li>Index</li><li>Slices folder (could be on another drive than the mirror one)\u200b\n\t\t<ul><li>You can find the slices folder in the <a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\" target=\"_blank\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name.</a></li></ul>\n\t\t</li><li>Tmp</li></ul>\n\t</li><li>Restart the CES7 Mirror Service Windows Service</li></ol>\n\n<h2><u><b>Step 6 - Restarting the Connection between Master and Mirror Servers</b></u></h2>\nRe-enable the connection between the Master and its Mirrors as described in this procedure <a href=\"/articles/KB_Article/1875\" target=\"_blank\">How to Temporary Cut The Connection Between an On-Premises CES Master and CES Mirror Server</a>\u200b.\n\n<h2><u><b>Step 7 - Sync the Master Server with its Mirrors</b></u></h2>\n\n<ol><li>In CES Master Server Admin Tool ­­&gt;&gt; Index &gt;&gt; Mirror &gt;&gt; Mirror1, click on Sync to start the synchronization</li><li>Repeat step 1 for each Mirror you have</li></ol>\n\n<h2><u><b>Step 8 - Removing CES Master Server from Load Balancing and Putting the MIrrors Back into the Load Balancer</b></u></h2>\nOnce the Synchronization is completed, it will be stated in green in CES Master Server Admin Tool ­­&gt;&gt; Index &gt;&gt; Mirror &gt;&gt; Mirror1, add the Mirror back into the load balancer.<br><br><br><br><br> ",
      "sysuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US",
      "sysprintableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US",
      "sflastpublisheddate" : 1489065195000,
      "systransactionid" : 161138,
      "sfurlname" : "1874",
      "sfsystemmodstamp" : 1517917571000,
      "sfisvisibleinapp" : "true",
      "sfcoveoversionc" : "Coveo Enteprise Search 7.0",
      "sysconcepts" : "load balancer ; mirror ; master ; Slices folder ; queries ; stil ; sync ; setup ; scenario",
      "sfkbversionnumber" : "7",
      "concepts" : "load balancer ; mirror ; master ; Slices folder ; queries ; stil ; sync ; setup ; scenario",
      "printableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US",
      "documenttype" : "article",
      "sfkbarticlekavid" : "ka132000000LMQ9AAO",
      "sysindexeddate" : 1518187553000,
      "sfknowledgearticleid" : "kA132000000L7OmCAK",
      "sfcreatedbyid" : "00560000003q7JgAAI",
      "sfconnectorc" : "N/A",
      "permanentid" : "2337f62ad6a5af6dcafe962eb763678c4c813146403c8455cc0c9a79d100",
      "syslanguage" : [ "English" ],
      "transactionid" : 161138,
      "sfisvisibleinprm" : "true",
      "title" : "How to Safely Delete the Content of an On-Premises CES Index",
      "sfversionnumber" : 7,
      "sfarticlenumber" : "000001874",
      "date" : 1517917571000,
      "objecttype" : "KB Article",
      "allmetadatavalues" : "{\"kav_lastmodifiedby.attribute.type\": [\"User\"], \"coveo_short_id\": [\"kA132000000L7Om\"], \"sflastmodifiedbyname\": [\"Frederic Cote\"], \"kav_coveo_version__c__html_stripped\": [\"Coveo Enteprise Search 7.0\"], \"fileextension\": [\"\"], \"sfdcexpandedproduct\": [\"All;All|Coveo Enterprise Search\"], \"kav_createdby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000003q7JgAAI\"], \"sflanguage\": [\"en_US\"], \"kav_createdby.attribute.type\": [\"User\"], \"kav_createdby.id\": [\"00560000003q7JgAAI\"], \"kav_language\": [\"en_US\"], \"sfsitecoreversionc\": [\"N/A\"], \"sourcetype\": [\"Salesforce\"], \"title\": [\"How to Safely Delete the Content of an On-Premises CES Index\"], \"source\": [\"Salesforce Public Items\"], \"kav_owner.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000003q7JgAAI\"], \"parents\": [\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-16\\\"?><parents><parent name=\\\"Organization\\\" uri=\\\"https://na61.salesforce.com/home/home.jsp\\\" /><parent name=\\\"KB_Article__ka\\\" uri=\\\"http://www.salesforce.com/org:organization/articletype:KB_Article\\\" /><parent name=\\\"How to Safely Delete the Content of an On-Premises CES Index\\\" uri=\\\"https://na61.salesforce.com/kA132000000L7Om\\\" /></parents>\"], \"sfisvisibleinprm\": [true], \"kav_title\": [\"How to Safely Delete the Content of an On-Premises CES Index\"], \"kav_isvisibleincsp\": [true], \"hashtmlversion\": [true], \"kav_versionnumber\": [7], \"sfcreatedbyname\": [\"Frederic Cote\"], \"sflastpublisheddate\": [1489065195], \"objecttypelabel\": [\"KB Article\"], \"kav_cause__c__html_stripped\": [\"\"], \"originalhtmlcharset\": [1200], \"coveo_connector_hasbinarydata\": [false], \"kav_lastpublisheddate\": [1489065195], \"sfsystemmodstamp\": [1517917571], \"ka_attribute.type\": [\"KB_Article__ka\"], \"sfdcproduct\": [\"Coveo Enterprise Search\"], \"kav_resolution__c__html_stripped\": [\"In this scenario, we'll consider the following setup: \\n \\n 1 CES Master Mirror - Outside of the the load Balancer and not responding to end users queries. \\n 2 CES Mirror Server (Mirror1 and Mirror2) - On the Load Balancer and responding to users queries\\n Step 1 - Disconnect the mirrors from the Master \\n \\n Follow this procedure to disconnect the Master Server from its Mirrors\\u00a0 How to Temporary Cut The Connection Between an On-Premises CES Master and CES Mirror Server \\n\\n Step 2 - Delete the Index\\u00a0 \\n\\n On your CES Master server, stop Coveo Enterprise Search 7 Service\\u00a0 In your CES Index Folder (CES7), take a backup of those folders:\\n\\t Index folder Slices folder (could be on another drive than the index one)\\n\\t\\t You can find the slices folder in the  Administration tools -> Index -> Mirrors -> Then click on the \\\"Mirror\\\" name\\u00a0-> Slices \\n\\t\\t Temp folder\\u00a0 \\n\\t In your CES Index Folder (CES7), delete only these folders:\\u00a0\\n\\t Index folder\\u00a0 Slices folder\\u00a0(could be on another drive than the index one)\\n\\t\\t You can find the slices folder in the  Administration tools -> Index -> Mirrors -> Then click on the \\\"Mirror\\\" name. \\n\\t\\t Temp folder\\u00a0 \\n\\t Restart CES7 Service\\u00a0 \\n\\n Step 3 - Rebuild Sources \\nLaunch a rebuild for your Sources on your Master Server\\n\\n Step 4 - Place the Master Server on the Load Balancer and Remove the Mirrors from it \\nBecause the Mirrors are not completely out of sync with the master server, we will need to delete their content before.\\u00a0 \\n To ensure that end-user queries are stil getting served, we need to:\\n Add the Master server to the load balancer Remove the Mirrors from the load balancer \\n\\n Step 5 - Deleting the Mirror Servers Content \\nOnce the Mirror Servers are outside the load balancer, each servers you have:\\n\\n Connect to the Mirror Stop the CES7 Mirror Service Windows Service In [Drive]\\\\CES7\\\\[Mirror Name]\\\\Index, delete the content of these folders:\\n\\t Index Slices folder\\u00a0(could be on another drive than the mirror one)\\u200b\\n\\t\\t You can find the slices folder in the  Administration tools -> Index -> Mirrors -> Then click on the \\\"Mirror\\\" name. \\n\\t\\t Tmp \\n\\t Restart the\\u00a0CES7 Mirror Service Windows Service \\n\\n Step 6 - Restarting the Connection between Master and Mirror Servers \\nRe-enable the connection between the Master and its Mirrors as described in this procedure\\u00a0 How to Temporary Cut The Connection Between an On-Premises CES Master and CES Mirror Server \\u200b.\\n\\n Step 7 - Sync the Master Server with its Mirrors \\n\\n In CES Master Server Admin Tool \\u00ad\\u00ad>> Index >> Mirror >> Mirror1, click on Sync to start the synchronization Repeat step 1 for each Mirror you have \\n\\n Step 8 - Removing CES Master Server from Load Balancing and Putting the MIrrors Back into the Load Balancer \\nOnce the Synchronization is completed, it will be stated in green in\\u00a0CES Master Server Admin Tool \\u00ad\\u00ad>> Index >> Mirror >> Mirror1, add the Mirror back into the load balancer. \\n \\n \\n \\n \\n \\u00a0\"], \"clickableuri\": [\"https://na61.salesforce.com/kA132000000L7Om\"], \"sftitle\": [\"How to Safely Delete the Content of an On-Premises CES Index\"], \"kav_owner.id\": [\"00560000003q7JgAAI\"], \"sfbuildc\": [\"All\"], \"sfisvisibleinapp\": [true], \"ka_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__ka/kA132000000L7OmCAK\"], \"sfdcarticletype\": [\"How To/Question\"], \"sfislatestversion\": [true], \"sfarticlenumber\": [\"000001874\"], \"contenttype\": [\"binarydata\"], \"sfurlname\": [\"1874\"], \"ka_id\": [\"kA132000000L7OmCAK\"], \"kav_datacategoryselections.datacategoryname\": [\"How_To;Coveo_Enterprise_Search\"], \"coveo_url\": [\"https://na61.salesforce.com/kA132000000L7Om\"], \"kav_urlname\": [\"1874\"], \"kav_dc_expanded_product\": [\"All;All|Coveo Enterprise Search\"], \"foldingcollection\": [\"1c94c3e689b24cd4684b538677e1c58aa666ca919eddcfac4aeb1b2431d6\"], \"body\": [\"<html>   <body>     <div style=\\\"background-color: #fff;border: 2px solid #BBC5CC;border-radius: 4px;float: left;font-family: lato;margin-left: 15px;margin-right: 15px;margin-bottom: 4%;padding: 10px;width: 60%;\\\">       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Description         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> WARNING: Before applying this procedure, we strongly recommend you contact Coveo Support to discuss the situation.<br><br>This article explains how to:\\n<ol><li>Safely delete all the content\\u00a0your CES Indexes without causing any corruption</li><li>Starting rebuilding all your sources</li><li>Ensuring that the content hosted on the Mirror Servers is not delete with the content of the Master Server is rebuileded</li><li>Sync your Mirrors Servers with the Master</li></ol>\\n<br>\\u00a0</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Environment         </div>       </div>       <br/>       <table>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Product</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Sitecore Version</td>           <td>N/A</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Connector</td>           <td>N/A</td>         </tr>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Published</td>           <td>1489065195</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Version</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Build</td>           <td>All</td>         </tr>       </table>       <br/>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Cause         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> </div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Resolution         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> In this scenario, we&#39;ll consider the following setup:<br><br>1 CES Master Mirror - Outside of the the load Balancer and not responding to end users queries.<br>2 CES Mirror Server (Mirror1 and Mirror2) - On the Load Balancer and responding to users queries\\n<h2><u><b>Step 1 - Disconnect the mirrors from the Master</b></u></h2>\\n<br>Follow this procedure to disconnect the Master Server from its Mirrors\\u00a0<a href=\\\"/articles/KB_Article/1875\\\" target=\\\"_blank\\\">How to Temporary Cut The Connection Between an On-Premises CES Master and CES Mirror Server</a>\\n\\n<h2><u><b>Step 2 - Delete the Index\\u00a0</b></u></h2>\\n\\n<ol><li>On your CES Master server, stop Coveo Enterprise Search 7 Service\\u00a0</li><li>In your CES Index Folder (CES7), take a backup of those folders:\\n\\t<ul><li>Index folder</li><li>Slices folder (could be on another drive than the index one)\\n\\t\\t<ul><li>You can find the slices folder in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\\\" target=\\\"_blank\\\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name\\u00a0-&gt; Slices</a></li></ul>\\n\\t\\t</li><li>Temp folder\\u00a0</li></ul>\\n\\t</li><li>In your CES Index Folder (CES7), delete only these folders:\\u00a0\\n\\t<ul><li>Index folder\\u00a0</li><li>Slices folder\\u00a0(could be on another drive than the index one)\\n\\t\\t<ul><li>You can find the slices folder in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\\\" target=\\\"_blank\\\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name.</a></li></ul>\\n\\t\\t</li><li>Temp folder\\u00a0</li></ul>\\n\\t</li><li>Restart CES7 Service\\u00a0</li></ol>\\n\\n<h2><u><b>Step 3 - Rebuild Sources</b></u></h2>\\nLaunch a rebuild for your Sources on your Master Server\\n\\n<h2><u><b>Step 4 - Place the Master Server on the Load Balancer and Remove the Mirrors from it</b></u></h2>\\nBecause the Mirrors are not completely out of sync with the master server, we will need to delete their content before.\\u00a0<br>To ensure that end-user queries are stil getting served, we need to:\\n<ol><li>Add the Master server to the load balancer</li><li>Remove the Mirrors from the load balancer</li></ol>\\n\\n<h2><u><b>Step 5 - Deleting the Mirror Servers Content</b></u></h2>\\nOnce the Mirror Servers are outside the load balancer, each servers you have:\\n\\n<ol><li>Connect to the Mirror</li><li>Stop the CES7 Mirror Service Windows Service</li><li>In [Drive]\\\\CES7\\\\[Mirror Name]\\\\Index, delete the content of these folders:\\n\\t<ul><li>Index</li><li>Slices folder\\u00a0(could be on another drive than the mirror one)\\u200b\\n\\t\\t<ul><li>You can find the slices folder in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\\\" target=\\\"_blank\\\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name.</a></li></ul>\\n\\t\\t</li><li>Tmp</li></ul>\\n\\t</li><li>Restart the\\u00a0CES7 Mirror Service Windows Service</li></ol>\\n\\n<h2><u><b>Step 6 - Restarting the Connection between Master and Mirror Servers</b></u></h2>\\nRe-enable the connection between the Master and its Mirrors as described in this procedure\\u00a0<a href=\\\"/articles/KB_Article/1875\\\" target=\\\"_blank\\\">How to Temporary Cut The Connection Between an On-Premises CES Master and CES Mirror Server</a>\\u200b.\\n\\n<h2><u><b>Step 7 - Sync the Master Server with its Mirrors</b></u></h2>\\n\\n<ol><li>In CES Master Server Admin Tool \\u00ad\\u00ad&gt;&gt; Index &gt;&gt; Mirror &gt;&gt; Mirror1, click on Sync to start the synchronization</li><li>Repeat step 1 for each Mirror you have</li></ol>\\n\\n<h2><u><b>Step 8 - Removing CES Master Server from Load Balancing and Putting the MIrrors Back into the Load Balancer</b></u></h2>\\nOnce the Synchronization is completed, it will be stated in green in\\u00a0CES Master Server Admin Tool \\u00ad\\u00ad&gt;&gt; Index &gt;&gt; Mirror &gt;&gt; Mirror1, add the Mirror back into the load balancer.<br><br><br><br><br>\\u00a0</div>     </div>   </body> </html>\"], \"sfpublishstatus\": [\"Online\"], \"sfcreatedbyid\": [\"00560000003q7JgAAI\"], \"kav_description__c__html_stripped\": [\"WARNING: Before applying this procedure, we strongly recommend you contact Coveo Support to discuss the situation. \\n \\n This article explains how to:\\n Safely delete all the content\\u00a0your CES Indexes without causing any corruption Starting rebuilding all your sources Ensuring that the content hosted on the Mirror Servers is not delete with the content of the Master Server is rebuileded Sync your Mirrors Servers with the Master \\n \\n \\u00a0\"], \"kav_islatestversion\": [true], \"kav_knowledgearticleid\": [\"kA132000000L7OmCAK\"], \"sfknowledgearticleid\": [\"kA132000000L7OmCAK\"], \"sfownername\": [\"Frederic Cote\"], \"kav_datacategoryselections.attribute.type\": [\"KB_Article__DataCategorySelection;KB_Article__DataCategorySelection\"], \"detectedtitle\": [\"Safely delete all the content your CES Indexes without causing any corruption\"], \"kav_createddate\": [1487585225], \"kav_build__c\": [\"All\"], \"language\": [\"English\"], \"coveo_foldingchild\": [\"7242d9e0e7011f331a7440d0d9a9ff1430b33dfcb1a78ee3215618f704d2\"], \"sfownerid\": [\"00560000003q7JgAAI\"], \"kav_createdby.coveo_record_size\": [2], \"kav_systemmodstamp\": [1517917571], \"objecttype\": [\"KB Article\"], \"connectortype\": [\"Salesforce2\"], \"kav_coveo_record_size\": [4], \"originaluri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US\"], \"sfisvisibleincsp\": [true], \"convertertype\": [\"TYPE_HTML\"], \"filetype\": [\"SalesforceItem\"], \"kav_owner.name\": [\"Frederic Cote\"], \"sfcoveoversionc\": [\"Coveo Enteprise Search 7.0\"], \"sfdcexpandedarticletype\": [\"All;All|How To/Question\"], \"objecttypelabelplural\": [\"KB Articles\"], \"sfcurrencyisocode\": [\"CAD\"], \"sfisdeleted\": [false], \"extractedsize\": [6926], \"size\": [10033], \"kav_publishstatus\": [\"Online\"], \"kav_connector__c\": [\"N/A\"], \"generateexcerpt\": [true], \"sfdescriptionc\": [\"WARNING: Before applying this procedure, we strongly recommend you contact Coveo Support to discuss the situation.<br><br>This article explains how to:\\n<ol><li>Safely delete all the content\\u00a0your CES Indexes without causing any corruption</li><li>Starting rebuilding all your sources</li><li>Ensuring that the content hosted on the Mirror Servers is not delete with the content of the Master Server is rebuileded</li><li>Sync your Mirrors Servers with the Master</li></ol>\\n<br>\\u00a0\"], \"sfarticletype\": [\"KB_Article__kav\"], \"kav_articletype\": [\"KB_Article__kav\"], \"kav_lastmodifieddate\": [1489065195], \"documenttype\": [\"article\"], \"sfkbarticlekavid\": [\"ka132000000LMQ9AAO\"], \"kav_currencyisocode\": [\"CAD\"], \"foldingparent\": [\"7242d9e0e7011f331a7440d0d9a9ff1430b33dfcb1a78ee3215618f704d2\"], \"mappingtype\": [\"KB_Article\"], \"kav_isvisibleinpkb\": [true], \"kav_sourceid\": [\"50032000016azHOAAY\"], \"sfkbversionnumber\": [7], \"kav_isvisibleinapp\": [true], \"kav_resolution__c\": [\"In this scenario, we&#39;ll consider the following setup:<br><br>1 CES Master Mirror - Outside of the the load Balancer and not responding to end users queries.<br>2 CES Mirror Server (Mirror1 and Mirror2) - On the Load Balancer and responding to users queries\\n<h2><u><b>Step 1 - Disconnect the mirrors from the Master</b></u></h2>\\n<br>Follow this procedure to disconnect the Master Server from its Mirrors\\u00a0<a href=\\\"/articles/KB_Article/1875\\\" target=\\\"_blank\\\">How to Temporary Cut The Connection Between an On-Premises CES Master and CES Mirror Server</a>\\n\\n<h2><u><b>Step 2 - Delete the Index\\u00a0</b></u></h2>\\n\\n<ol><li>On your CES Master server, stop Coveo Enterprise Search 7 Service\\u00a0</li><li>In your CES Index Folder (CES7), take a backup of those folders:\\n\\t<ul><li>Index folder</li><li>Slices folder (could be on another drive than the index one)\\n\\t\\t<ul><li>You can find the slices folder in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\\\" target=\\\"_blank\\\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name\\u00a0-&gt; Slices</a></li></ul>\\n\\t\\t</li><li>Temp folder\\u00a0</li></ul>\\n\\t</li><li>In your CES Index Folder (CES7), delete only these folders:\\u00a0\\n\\t<ul><li>Index folder\\u00a0</li><li>Slices folder\\u00a0(could be on another drive than the index one)\\n\\t\\t<ul><li>You can find the slices folder in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\\\" target=\\\"_blank\\\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name.</a></li></ul>\\n\\t\\t</li><li>Temp folder\\u00a0</li></ul>\\n\\t</li><li>Restart CES7 Service\\u00a0</li></ol>\\n\\n<h2><u><b>Step 3 - Rebuild Sources</b></u></h2>\\nLaunch a rebuild for your Sources on your Master Server\\n\\n<h2><u><b>Step 4 - Place the Master Server on the Load Balancer and Remove the Mirrors from it</b></u></h2>\\nBecause the Mirrors are not completely out of sync with the master server, we will need to delete their content before.\\u00a0<br>To ensure that end-user queries are stil getting served, we need to:\\n<ol><li>Add the Master server to the load balancer</li><li>Remove the Mirrors from the load balancer</li></ol>\\n\\n<h2><u><b>Step 5 - Deleting the Mirror Servers Content</b></u></h2>\\nOnce the Mirror Servers are outside the load balancer, each servers you have:\\n\\n<ol><li>Connect to the Mirror</li><li>Stop the CES7 Mirror Service Windows Service</li><li>In [Drive]\\\\CES7\\\\[Mirror Name]\\\\Index, delete the content of these folders:\\n\\t<ul><li>Index</li><li>Slices folder\\u00a0(could be on another drive than the mirror one)\\u200b\\n\\t\\t<ul><li>You can find the slices folder in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\\\" target=\\\"_blank\\\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name.</a></li></ul>\\n\\t\\t</li><li>Tmp</li></ul>\\n\\t</li><li>Restart the\\u00a0CES7 Mirror Service Windows Service</li></ol>\\n\\n<h2><u><b>Step 6 - Restarting the Connection between Master and Mirror Servers</b></u></h2>\\nRe-enable the connection between the Master and its Mirrors as described in this procedure\\u00a0<a href=\\\"/articles/KB_Article/1875\\\" target=\\\"_blank\\\">How to Temporary Cut The Connection Between an On-Premises CES Master and CES Mirror Server</a>\\u200b.\\n\\n<h2><u><b>Step 7 - Sync the Master Server with its Mirrors</b></u></h2>\\n\\n<ol><li>In CES Master Server Admin Tool \\u00ad\\u00ad&gt;&gt; Index &gt;&gt; Mirror &gt;&gt; Mirror1, click on Sync to start the synchronization</li><li>Repeat step 1 for each Mirror you have</li></ol>\\n\\n<h2><u><b>Step 8 - Removing CES Master Server from Load Balancing and Putting the MIrrors Back into the Load Balancer</b></u></h2>\\nOnce the Synchronization is completed, it will be stated in green in\\u00a0CES Master Server Admin Tool \\u00ad\\u00ad&gt;&gt; Index &gt;&gt; Mirror &gt;&gt; Mirror1, add the Mirror back into the load balancer.<br><br><br><br><br>\\u00a0\"], \"coveo_objecttype\": [\"KB_Article\"], \"printableuri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US\"], \"kav_datacategoryselections.attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o32000000q2IBAAY;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o32000000q2IAAAY\"], \"kav_id\": [\"ka132000000LMQ9AAO\"], \"sfresolutionc\": [\"In this scenario, we&#39;ll consider the following setup:<br><br>1 CES Master Mirror - Outside of the the load Balancer and not responding to end users queries.<br>2 CES Mirror Server (Mirror1 and Mirror2) - On the Load Balancer and responding to users queries\\n<h2><u><b>Step 1 - Disconnect the mirrors from the Master</b></u></h2>\\n<br>Follow this procedure to disconnect the Master Server from its Mirrors\\u00a0<a href=\\\"/articles/KB_Article/1875\\\" target=\\\"_blank\\\">How to Temporary Cut The Connection Between an On-Premises CES Master and CES Mirror Server</a>\\n\\n<h2><u><b>Step 2 - Delete the Index\\u00a0</b></u></h2>\\n\\n<ol><li>On your CES Master server, stop Coveo Enterprise Search 7 Service\\u00a0</li><li>In your CES Index Folder (CES7), take a backup of those folders:\\n\\t<ul><li>Index folder</li><li>Slices folder (could be on another drive than the index one)\\n\\t\\t<ul><li>You can find the slices folder in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\\\" target=\\\"_blank\\\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name\\u00a0-&gt; Slices</a></li></ul>\\n\\t\\t</li><li>Temp folder\\u00a0</li></ul>\\n\\t</li><li>In your CES Index Folder (CES7), delete only these folders:\\u00a0\\n\\t<ul><li>Index folder\\u00a0</li><li>Slices folder\\u00a0(could be on another drive than the index one)\\n\\t\\t<ul><li>You can find the slices folder in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\\\" target=\\\"_blank\\\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name.</a></li></ul>\\n\\t\\t</li><li>Temp folder\\u00a0</li></ul>\\n\\t</li><li>Restart CES7 Service\\u00a0</li></ol>\\n\\n<h2><u><b>Step 3 - Rebuild Sources</b></u></h2>\\nLaunch a rebuild for your Sources on your Master Server\\n\\n<h2><u><b>Step 4 - Place the Master Server on the Load Balancer and Remove the Mirrors from it</b></u></h2>\\nBecause the Mirrors are not completely out of sync with the master server, we will need to delete their content before.\\u00a0<br>To ensure that end-user queries are stil getting served, we need to:\\n<ol><li>Add the Master server to the load balancer</li><li>Remove the Mirrors from the load balancer</li></ol>\\n\\n<h2><u><b>Step 5 - Deleting the Mirror Servers Content</b></u></h2>\\nOnce the Mirror Servers are outside the load balancer, each servers you have:\\n\\n<ol><li>Connect to the Mirror</li><li>Stop the CES7 Mirror Service Windows Service</li><li>In [Drive]\\\\CES7\\\\[Mirror Name]\\\\Index, delete the content of these folders:\\n\\t<ul><li>Index</li><li>Slices folder\\u00a0(could be on another drive than the mirror one)\\u200b\\n\\t\\t<ul><li>You can find the slices folder in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_an_index_slice_to_the_master_server.htm\\\" target=\\\"_blank\\\">Administration tools -&gt; Index -&gt; Mirrors -&gt; Then click on the &quot;Mirror&quot; name.</a></li></ul>\\n\\t\\t</li><li>Tmp</li></ul>\\n\\t</li><li>Restart the\\u00a0CES7 Mirror Service Windows Service</li></ol>\\n\\n<h2><u><b>Step 6 - Restarting the Connection between Master and Mirror Servers</b></u></h2>\\nRe-enable the connection between the Master and its Mirrors as described in this procedure\\u00a0<a href=\\\"/articles/KB_Article/1875\\\" target=\\\"_blank\\\">How to Temporary Cut The Connection Between an On-Premises CES Master and CES Mirror Server</a>\\u200b.\\n\\n<h2><u><b>Step 7 - Sync the Master Server with its Mirrors</b></u></h2>\\n\\n<ol><li>In CES Master Server Admin Tool \\u00ad\\u00ad&gt;&gt; Index &gt;&gt; Mirror &gt;&gt; Mirror1, click on Sync to start the synchronization</li><li>Repeat step 1 for each Mirror you have</li></ol>\\n\\n<h2><u><b>Step 8 - Removing CES Master Server from Load Balancing and Putting the MIrrors Back into the Load Balancer</b></u></h2>\\nOnce the Synchronization is completed, it will be stated in green in\\u00a0CES Master Server Admin Tool \\u00ad\\u00ad&gt;&gt; Index &gt;&gt; Mirror &gt;&gt; Mirror1, add the Mirror back into the load balancer.<br><br><br><br><br>\\u00a0\"], \"foldingchild\": [\"7242d9e0e7011f331a7440d0d9a9ff1430b33dfcb1a78ee3215618f704d2\"], \"sfcreateddate\": [1487585225], \"kav_sitecore_version__c\": [\"N/A\"], \"kav_owner.coveo_record_size\": [2], \"kav_coveo_effective_modstamp\": [1517917571], \"kav_summary__html_stripped\": [\"\"], \"kav_dc_article_type\": [\"How To/Question\"], \"sfconnectorc\": [\"N/A\"], \"kav_dc_product\": [\"Coveo Enterprise Search\"], \"ka_coveo_record_size\": [2], \"kav_dc_expanded_article_type\": [\"All;All|How To/Question\"], \"kav_datacategoryselections.coveo_record_size\": [\"2;2\"], \"concepts\": [\"load balancer ; mirror ; master ; Slices folder ; queries ; stil ; sync ; setup ; scenario\"], \"sfkbid\": [\"kA132000000L7OmCAK\"], \"kav_firstpublisheddate\": [1479223098], \"coveo_organization_id\": [\"00D3000000007r2\"], \"coveo_foldingcollection\": [\"1c94c3e689b24cd4684b538677e1c58aa666ca919eddcfac4aeb1b2431d6\"], \"sffirstpublisheddate\": [1479223098], \"sflastmodifieddate\": [1489065195], \"kav_coveo_version__c\": [\"Coveo Enteprise Search 7.0\"], \"kav_vendor_version__c__html_stripped\": [\"\"], \"detectedlanguage\": [1], \"kav_isvisibleinprm\": [true], \"kav_owner.attribute.type\": [\"Name\"], \"kav_lastmodifiedby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000003q7JgAAI\"], \"sitename\": [\"Community\"], \"kav_createdby.name\": [\"Frederic Cote\"], \"kav_lastmodifiedby.coveo_record_size\": [2], \"sfisvisibleinpkb\": [true], \"kav_datacategoryselections.id\": [\"02o32000000q2IBAAY;02o32000000q2IAAAY\"], \"kav_description__c\": [\"WARNING: Before applying this procedure, we strongly recommend you contact Coveo Support to discuss the situation.<br><br>This article explains how to:\\n<ol><li>Safely delete all the content\\u00a0your CES Indexes without causing any corruption</li><li>Starting rebuilding all your sources</li><li>Ensuring that the content hosted on the Mirror Servers is not delete with the content of the Master Server is rebuileded</li><li>Sync your Mirrors Servers with the Master</li></ol>\\n<br>\\u00a0\"], \"kav_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__kav/ka132000000LMQ9AAO\"], \"kav_articlenumber__stripped\": [\"1874\"], \"sfversionnumber\": [7], \"kav_attribute.type\": [\"KB_Article__kav\"], \"kav_validationstatus\": [\"Reviewed\"], \"coveo_foldingparent\": [\"7242d9e0e7011f331a7440d0d9a9ff1430b33dfcb1a78ee3215618f704d2\"], \"collection\": [\"default\"], \"sfsourceid\": [\"50032000016azHOAAY\"], \"date\": [1517917571], \"kav_lastmodifiedby.id\": [\"00560000003q7JgAAI\"], \"kav_datacategoryselections.datacategorygroupname\": [\"Article_Type;Product\"], \"conversionstate\": [0], \"sfvalidationstatus\": [\"Reviewed\"], \"kav_isdeleted\": [false], \"sflastmodifiedbyid\": [\"00560000003q7JgAAI\"], \"kav_lastmodifiedby.name\": [\"Frederic Cote\"], \"kav_articlenumber\": [\"000001874\"], \"permanentid\": [\"2337f62ad6a5af6dcafe962eb763678c4c813146403c8455cc0c9a79d100\"]}",
      "sfbuildc" : "All",
      "sflastmodifiedbyid" : "00560000003q7JgAAI",
      "syssfownerid" : "00560000003q7JgAAI",
      "sfsitecoreversionc" : "N/A",
      "sourcetype" : "Salesforce",
      "sysconnectortype" : "Salesforce2",
      "sftitle" : "How to Safely Delete the Content of an On-Premises CES Index",
      "rowid" : 5492607,
      "syssfcreatedbyid" : "00560000003q7JgAAI",
      "sfdescriptionc" : "WARNING: Before applying this procedure, we strongly recommend you contact Coveo Support to discuss the situation.<br><br>This article explains how to:\n<ol><li>Safely delete all the content your CES Indexes without causing any corruption</li><li>Starting rebuilding all your sources</li><li>Ensuring that the content hosted on the Mirror Servers is not delete with the content of the Master Server is rebuileded</li><li>Sync your Mirrors Servers with the Master</li></ol>\n<br> ",
      "size" : 10033,
      "sfislatestversion" : "true",
      "sysdocumenttype" : "article",
      "sfcreateddate" : 1487585225000,
      "sfsourceid" : "50032000016azHOAAY",
      "clickableuri" : "https://na61.salesforce.com/kA132000000L7Om",
      "syssource" : "Salesforce Public Items",
      "sfownerid" : "00560000003q7JgAAI",
      "orderingid" : 212384990660371411,
      "sfpublishstatus" : "Online",
      "syssize" : 10033,
      "sysdate" : 1517917571000,
      "sflanguage" : "en_US",
      "sysparents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"How to Safely Delete the Content of an On-Premises CES Index\" uri=\"https://na61.salesforce.com/kA132000000L7Om\" /></parents>",
      "sfdcexpandedarticletype" : "All;All|How To/Question",
      "sfcurrencyisocode" : "CAD",
      "sfkbid" : "kA132000000L7OmCAK",
      "sfdcexpandedproduct" : "All;All|Coveo Enterprise Search",
      "syssfcreateddate" : 1487585225000,
      "sflastmodifieddate" : 1489065195000,
      "sfisvisibleinpkb" : "true",
      "source" : "Salesforce Public Items",
      "sfisdeleted" : "false",
      "sfisvisibleincsp" : "true",
      "sfvalidationstatus" : "Reviewed",
      "sflastmodifiedbyname" : "Frederic Cote",
      "collection" : "default",
      "sfdcproduct" : [ "Coveo Enterprise Search" ],
      "syssourcetype" : "Salesforce",
      "sfarticletype" : "KB_Article__kav",
      "indexeddate" : 1518187553000,
      "connectortype" : "Salesforce2",
      "filetype" : "SalesforceItem",
      "sfcreatedbyname" : "Frederic Cote",
      "sysclickableuri" : "https://na61.salesforce.com/kA132000000L7Om",
      "sysfiletype" : "SalesforceItem",
      "language" : [ "English" ],
      "sffirstpublisheddate" : 1479223098000,
      "sfownername" : "Frederic Cote",
      "sitename" : "Community",
      "sysrowid" : 5492607,
      "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US",
      "syscollection" : "default"
    },
    "Title" : "How to Safely Delete the Content of an On-Premises CES Index",
    "Uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US",
    "PrintableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US",
    "ClickUri" : "https://na61.salesforce.com/kA132000000L7Om",
    "UniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L7OmCAK/language:en_US",
    "Excerpt" : "WARNING: Before applying this procedure, we strongly recommend you contact Coveo Support to discuss the situation. ... This article explains how to: ... In this scenario, we'll consider the followi...",
    "FirstSentences" : null
  }