{
    "title" : "Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)",
    "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US",
    "printableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US",
    "clickUri" : "https://na61.salesforce.com/kA13200000005fL",
    "uniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US",
    "excerpt" : "When trying to access a Coveo search page in Sitecore 8.1, through the Publish/Experience Editor or from the client side, an error is thrown. ... Full stack as follows : ... Cause ... This is cause...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1378,
    "percentScore" : 83.529724,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)",
      "sfsummary" : "Adding a search page in sitecore 8.1 throws a LicenseException",
      "sysurihash" : "0ñl4fPhNcLYL8Lvñ",
      "urihash" : "0ñl4fPhNcLYL8Lvñ",
      "parents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)\" uri=\"https://na61.salesforce.com/kA13200000005fL\" /></parents>",
      "sfdcarticletype" : "Problem/Fix",
      "sfresolutionc" : "<h2>Quick workaround :</h2>\nEdit the Sitecore.Xdb.config file and set those two nodes to false :\n\n<ul><li><span style=\"\">Xdb.Enabled</span></li><li><span style=\"\">Xdb.Tracking.Enabled</span></li></ul>\n\n<h2><br>Permanent solution : </h2>\nContact Sitecore licensing to get an up to date license that includes the experience database (xDB) and revert the changes made in the Sitecore.Xdb.config file.",
      "sysuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US",
      "sysprintableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US",
      "sflastpublisheddate" : 1482519579000,
      "systransactionid" : 161138,
      "sfversionc" : "3.0",
      "sfurlname" : "1142",
      "sfsystemmodstamp" : 1517225582000,
      "sfisvisibleinapp" : "true",
      "sysconcepts" : "Contact Sitecore ; Coveo ; config file ; exception ; workaround ; inclusion ; stack ; thrown ; Resolution",
      "sfkbversionnumber" : "1",
      "concepts" : "Contact Sitecore ; Coveo ; config file ; exception ; workaround ; inclusion ; stack ; thrown ; Resolution",
      "printableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US",
      "documenttype" : "article",
      "sfkbarticlekavid" : "ka1320000000AU7AAM",
      "sysindexeddate" : 1518187524000,
      "sfknowledgearticleid" : "kA13200000005fLCAQ",
      "sfcreatedbyid" : "00560000004BtvyAAC",
      "sfconnectorc" : "N/A",
      "permanentid" : "feba0ad31881f0115fe535aa99c353c665fcddbfbe36046b7d23d959ef90",
      "syslanguage" : [ "English" ],
      "transactionid" : 161138,
      "sfisvisibleinprm" : "true",
      "title" : "Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)",
      "sfversionnumber" : 1,
      "sfarticlenumber" : "000001142",
      "date" : 1517225582000,
      "objecttype" : "KB Article",
      "allmetadatavalues" : "{\"kav_lastmodifiedby.attribute.type\": [\"User\"], \"coveo_short_id\": [\"kA13200000005fL\"], \"sflastmodifiedbyname\": [\"Frederic Cote\"], \"kav_coveo_version__c__html_stripped\": [\"\"], \"fileextension\": [\"\"], \"sfdcexpandedproduct\": [\"All;All|Other;All|Sitecore\"], \"kav_createdby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000004BtvyAAC\"], \"sflanguage\": [\"en_US\"], \"kav_createdby.attribute.type\": [\"User\"], \"kav_createdby.id\": [\"00560000004BtvyAAC\"], \"kav_language\": [\"en_US\"], \"sfsitecoreversionc\": [\"8.1;N/A\"], \"sourcetype\": [\"Salesforce\"], \"title\": [\"Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)\"], \"source\": [\"Salesforce Public Items\"], \"kav_owner.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000004BtvyAAC\"], \"parents\": [\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-16\\\"?><parents><parent name=\\\"Organization\\\" uri=\\\"https://na61.salesforce.com/home/home.jsp\\\" /><parent name=\\\"KB_Article__ka\\\" uri=\\\"http://www.salesforce.com/org:organization/articletype:KB_Article\\\" /><parent name=\\\"Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)\\\" uri=\\\"https://na61.salesforce.com/kA13200000005fL\\\" /></parents>\"], \"sfisvisibleinprm\": [true], \"kav_title\": [\"Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)\"], \"kav_isvisibleincsp\": [true], \"sfcreateddate\": [1454950711], \"hashtmlversion\": [true], \"sfarticletypec\": [\"Configuration\"], \"kav_version__c\": [\"3.0\"], \"kav_versionnumber\": [1], \"sfcreatedbyname\": [\"Benoit Garneau\"], \"sflastpublisheddate\": [1482519579], \"objecttypelabel\": [\"KB Article\"], \"kav_cause__c__html_stripped\": [\"This is caused by the new license model introduced in Sitecore 8.1. \\n The Experience database, or xDB, has to be explicitly included in the license. Seeing this exception means that this inclusion is absent from the license. \\n While loading a search page, Coveo will attempt to reach the Sitecore xDB, thus throwing a runtime exception.\"], \"originalhtmlcharset\": [1200], \"coveo_connector_hasbinarydata\": [false], \"kav_lastpublisheddate\": [1482519579], \"sfsystemmodstamp\": [1517225582], \"ka_attribute.type\": [\"KB_Article__ka\"], \"sfdcproduct\": [\"Other;Sitecore\"], \"sfvendorversionc\": [\"Sitecore 8.1\"], \"clickableuri\": [\"https://na61.salesforce.com/kA13200000005fL\"], \"kav_dc_expanded_product\": [\"All;All|Other;All|Sitecore\"], \"sftitle\": [\"Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)\"], \"kav_owner.id\": [\"00560000004BtvyAAC\"], \"sfisvisibleinapp\": [true], \"ka_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__ka/kA13200000005fLCAQ\"], \"sfdcarticletype\": [\"Problem/Fix\"], \"kav_cause__c\": [\"This is caused by the new license model introduced in Sitecore 8.1.<br>The Experience database, or xDB, has to be explicitly included in the license. Seeing this exception means that this inclusion is absent from the license.<br>While loading a search page, Coveo will attempt to reach the Sitecore xDB, thus throwing a runtime exception.\"], \"sfislatestversion\": [true], \"sfcausec\": [\"This is caused by the new license model introduced in Sitecore 8.1.<br>The Experience database, or xDB, has to be explicitly included in the license. Seeing this exception means that this inclusion is absent from the license.<br>While loading a search page, Coveo will attempt to reach the Sitecore xDB, thus throwing a runtime exception.\"], \"contenttype\": [\"binarydata\"], \"sfurlname\": [\"1142\"], \"ka_id\": [\"kA13200000005fLCAQ\"], \"kav_datacategoryselections.datacategoryname\": [\"Sitecore;Other;Configuration\"], \"coveo_url\": [\"https://na61.salesforce.com/kA13200000005fL\"], \"kav_urlname\": [\"1142\"], \"kav_validationstatus\": [\"Approved\"], \"foldingcollection\": [\"cfc16bb91c1ac5c8b790ca85e73c836546571087f5f4156193bf5877d816\"], \"body\": [\"<html>   <body>     <div style=\\\"background-color: #fff;border: 2px solid #BBC5CC;border-radius: 4px;float: left;font-family: lato;margin-left: 15px;margin-right: 15px;margin-bottom: 4%;padding: 10px;width: 60%;\\\">       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Description         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> When trying to access a Coveo search page in Sitecore 8.1, through the Publish/Experience Editor or from the client side, an error is thrown.<br><br>Full stack as follows :\\n<div style=\\\"margin-left: 40px; color: rgb(85, 84, 89); font-family: monospace; font-size: 12.8px;\\\">\\n<pre style=\\\"font-size: inherit; color: inherit; display: inline-block;\\\">\\n\\n\\u00a0</pre>\\n</div>\\n\\n<pre class=\\\"ckeditor_codeblock\\\">\\n[LicenseException: Required license is missing: Runtime]\\n   Sitecore.Analytics.DataAccess.DataAdapterProvider..ctor() +159\\n   Sitecore.Analytics.Data.DataAccess.MongoDb.MongoDbDataAdapterProvider..ctor(Func`2 driverFactory) +21\\n\\n\\u00a0\\n[TargetInvocationException: Exception has been thrown by the target of an invocation.]\\n   System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor) +0\\n   System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) +743\\n   Sitecore.Reflection.ReflectionUtil.CreateObject(Type type, Object[] parameters) +229\\n   Sitecore.Configuration.Factory.CreateFromTypeName(XmlNode configNode, String[] parameters, Boolean assert) +120\\n   Sitecore.Configuration.Factory.CreateObject(XmlNode configNode, String[] parameters, Boolean assert, IFactoryHelper helper) +141\\n   Sitecore.Configuration.Factory.GetProviders(List`1 nodes) +504\\n   Sitecore.Configuration.Factory.GetProviders(String rootPath, TProvider&amp; defaultProvider) +359\\n   Sitecore.Configuration.ProviderHelper`2.ReadProviders() +80\\n   Sitecore.Configuration.ProviderHelper`2.get_Provider() +105\\n   Sitecore.Analytics.Data.ContactRepository..ctor() +49</pre>\\n<br>This error is thrown at this line in the SiteNavigation.cshtml :\\n<pre class=\\\"ckeditor_codeblock\\\">\\n@Html.Sitecore().Placeholder(&quot;globalsearch&quot;)</pre>\\n<br>\\u00a0</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Environment         </div>       </div>       <br/>       <table>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Product</td>           <td>Sitecore</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Sitecore Version</td>           <td>8.1;N/A</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Connector</td>           <td>N/A</td>         </tr>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Published</td>           <td>1482519579</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Version</td>           <td>3.0</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Build</td>           <td></td>         </tr>       </table>       <br/>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Cause         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> This is caused by the new license model introduced in Sitecore 8.1.<br>The Experience database, or xDB, has to be explicitly included in the license. Seeing this exception means that this inclusion is absent from the license.<br>While loading a search page, Coveo will attempt to reach the Sitecore xDB, thus throwing a runtime exception.</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Resolution         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> <h2>Quick workaround :</h2>\\nEdit the Sitecore.Xdb.config file and set those two nodes to false :\\n\\n<ul><li><span style=\\\"\\\">Xdb.Enabled</span></li><li><span style=\\\"\\\">Xdb.Tracking.Enabled</span></li></ul>\\n\\n<h2><br>Permanent solution :\\u00a0</h2>\\nContact Sitecore licensing to get an up to date license that includes the experience database (xDB) and revert the changes made in the Sitecore.Xdb.config file.</div>     </div>   </body> </html>\"], \"kav_product__c\": [\"Sitecore\"], \"kav_article_type__c\": [\"Configuration\"], \"sfpublishstatus\": [\"Online\"], \"sfcreatedbyid\": [\"00560000004BtvyAAC\"], \"kav_description__c__html_stripped\": [\"When trying to access a Coveo search page in Sitecore 8.1, through the Publish/Experience Editor or from the client side, an error is thrown. \\n \\n Full stack as follows :\\n \\n \\n\\n\\u00a0 \\n \\n\\n \\n[LicenseException: Required license is missing: Runtime]\\n   Sitecore.Analytics.DataAccess.DataAdapterProvider..ctor() +159\\n   Sitecore.Analytics.Data.DataAccess.MongoDb.MongoDbDataAdapterProvider..ctor(Func`2 driverFactory) +21\\n\\n\\u00a0\\n[TargetInvocationException: Exception has been thrown by the target of an invocation.]\\n   System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor) +0\\n   System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) +743\\n   Sitecore.Reflection.ReflectionUtil.CreateObject(Type type, Object[] parameters) +229\\n   Sitecore.Configuration.Factory.CreateFromTypeName(XmlNode configNode, String[] parameters, Boolean assert) +120\\n   Sitecore.Configuration.Factory.CreateObject(XmlNode configNode, String[] parameters, Boolean assert, IFactoryHelper helper) +141\\n   Sitecore.Configuration.Factory.GetProviders(List`1 nodes) +504\\n   Sitecore.Configuration.Factory.GetProviders(String rootPath, TProvider& defaultProvider) +359\\n   Sitecore.Configuration.ProviderHelper`2.ReadProviders() +80\\n   Sitecore.Configuration.ProviderHelper`2.get_Provider() +105\\n   Sitecore.Analytics.Data.ContactRepository..ctor() +49 \\n \\n This error is thrown at this line in the SiteNavigation.cshtml :\\n \\n@Html.Sitecore().Placeholder(\\\"globalsearch\\\") \\n \\n \\u00a0\"], \"kav_islatestversion\": [true], \"kav_knowledgearticleid\": [\"kA13200000005fLCAQ\"], \"sfknowledgearticleid\": [\"kA13200000005fLCAQ\"], \"sfownername\": [\"Benoit Garneau\"], \"kav_datacategoryselections.attribute.type\": [\"KB_Article__DataCategorySelection;KB_Article__DataCategorySelection;KB_Article__DataCategorySelection\"], \"detectedtitle\": [\"[LicenseException: Required license is missing: Runtime]\"], \"kav_createddate\": [1454950711], \"language\": [\"English\"], \"coveo_foldingchild\": [\"4dfdecdb5669c08af0509308d752fc0b855edc06fd8b785a34e58e1bc643\"], \"sfownerid\": [\"00560000004BtvyAAC\"], \"kav_createdby.coveo_record_size\": [2], \"kav_vendor_version__c\": [\"Sitecore 8.1\"], \"kav_systemmodstamp\": [1517225582], \"objecttype\": [\"KB Article\"], \"connectortype\": [\"Salesforce2\"], \"kav_coveo_record_size\": [4], \"originaluri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US\"], \"sfisvisibleincsp\": [true], \"convertertype\": [\"TYPE_HTML\"], \"filetype\": [\"SalesforceItem\"], \"kav_owner.name\": [\"Benoit Garneau\"], \"sfdcexpandedarticletype\": [\"All;All|Problem/Fix\"], \"objecttypelabelplural\": [\"KB Articles\"], \"sfcurrencyisocode\": [\"USD\"], \"sfisdeleted\": [false], \"extractedsize\": [4612], \"size\": [7373], \"kav_summary\": [\"Adding a search page in sitecore 8.1 throws a LicenseException\"], \"kav_publishstatus\": [\"Online\"], \"kav_connector__c\": [\"N/A\"], \"generateexcerpt\": [true], \"sfdescriptionc\": [\"When trying to access a Coveo search page in Sitecore 8.1, through the Publish/Experience Editor or from the client side, an error is thrown.<br><br>Full stack as follows :\\n<div style=\\\"margin-left: 40px; color: rgb(85, 84, 89); font-family: monospace; font-size: 12.8px;\\\">\\n<pre style=\\\"font-size: inherit; color: inherit; display: inline-block;\\\">\\n\\n\\u00a0</pre>\\n</div>\\n\\n<pre class=\\\"ckeditor_codeblock\\\">\\n[LicenseException: Required license is missing: Runtime]\\n   Sitecore.Analytics.DataAccess.DataAdapterProvider..ctor() +159\\n   Sitecore.Analytics.Data.DataAccess.MongoDb.MongoDbDataAdapterProvider..ctor(Func`2 driverFactory) +21\\n\\n\\u00a0\\n[TargetInvocationException: Exception has been thrown by the target of an invocation.]\\n   System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor) +0\\n   System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) +743\\n   Sitecore.Reflection.ReflectionUtil.CreateObject(Type type, Object[] parameters) +229\\n   Sitecore.Configuration.Factory.CreateFromTypeName(XmlNode configNode, String[] parameters, Boolean assert) +120\\n   Sitecore.Configuration.Factory.CreateObject(XmlNode configNode, String[] parameters, Boolean assert, IFactoryHelper helper) +141\\n   Sitecore.Configuration.Factory.GetProviders(List`1 nodes) +504\\n   Sitecore.Configuration.Factory.GetProviders(String rootPath, TProvider&amp; defaultProvider) +359\\n   Sitecore.Configuration.ProviderHelper`2.ReadProviders() +80\\n   Sitecore.Configuration.ProviderHelper`2.get_Provider() +105\\n   Sitecore.Analytics.Data.ContactRepository..ctor() +49</pre>\\n<br>This error is thrown at this line in the SiteNavigation.cshtml :\\n<pre class=\\\"ckeditor_codeblock\\\">\\n@Html.Sitecore().Placeholder(&quot;globalsearch&quot;)</pre>\\n<br>\\u00a0\"], \"sfarticletype\": [\"KB_Article__kav\"], \"kav_lastmodifieddate\": [1482519579], \"documenttype\": [\"article\"], \"sfkbarticlekavid\": [\"ka1320000000AU7AAM\"], \"kav_currencyisocode\": [\"USD\"], \"sfproductc\": [\"Sitecore\"], \"foldingparent\": [\"4dfdecdb5669c08af0509308d752fc0b855edc06fd8b785a34e58e1bc643\"], \"mappingtype\": [\"KB_Article\"], \"kav_isvisibleinpkb\": [true], \"kav_sourceid\": [\"5003200000xgKFHAA2\"], \"sfkbversionnumber\": [1], \"kav_isvisibleinapp\": [true], \"kav_resolution__c\": [\"<h2>Quick workaround :</h2>\\nEdit the Sitecore.Xdb.config file and set those two nodes to false :\\n\\n<ul><li><span style=\\\"\\\">Xdb.Enabled</span></li><li><span style=\\\"\\\">Xdb.Tracking.Enabled</span></li></ul>\\n\\n<h2><br>Permanent solution :\\u00a0</h2>\\nContact Sitecore licensing to get an up to date license that includes the experience database (xDB) and revert the changes made in the Sitecore.Xdb.config file.\"], \"coveo_objecttype\": [\"KB_Article\"], \"printableuri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US\"], \"kav_datacategoryselections.attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o320000003hadAAA;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o32000000pvhIAAQ;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o320000003haeAAA\"], \"kav_id\": [\"ka1320000000AU7AAM\"], \"sfresolutionc\": [\"<h2>Quick workaround :</h2>\\nEdit the Sitecore.Xdb.config file and set those two nodes to false :\\n\\n<ul><li><span style=\\\"\\\">Xdb.Enabled</span></li><li><span style=\\\"\\\">Xdb.Tracking.Enabled</span></li></ul>\\n\\n<h2><br>Permanent solution :\\u00a0</h2>\\nContact Sitecore licensing to get an up to date license that includes the experience database (xDB) and revert the changes made in the Sitecore.Xdb.config file.\"], \"foldingchild\": [\"4dfdecdb5669c08af0509308d752fc0b855edc06fd8b785a34e58e1bc643\"], \"sfsummary\": [\"Adding a search page in sitecore 8.1 throws a LicenseException\"], \"kav_sitecore_version__c\": [\"8.1;N/A\"], \"kav_owner.coveo_record_size\": [2], \"kav_coveo_effective_modstamp\": [1517225582], \"kav_summary__html_stripped\": [\"Adding a search page in sitecore 8.1 throws a LicenseException\"], \"kav_dc_article_type\": [\"Problem/Fix\"], \"sfconnectorc\": [\"N/A\"], \"kav_dc_product\": [\"Other;Sitecore\"], \"ka_coveo_record_size\": [2], \"kav_dc_expanded_article_type\": [\"All;All|Problem/Fix\"], \"kav_datacategoryselections.coveo_record_size\": [\"2;2;2\"], \"concepts\": [\"Contact Sitecore ; Coveo ; config file ; exception ; workaround ; inclusion ; stack ; thrown ; Resolution\"], \"sfkbid\": [\"kA13200000005fLCAQ\"], \"kav_firstpublisheddate\": [1482519579], \"coveo_organization_id\": [\"00D3000000007r2\"], \"coveo_foldingcollection\": [\"cfc16bb91c1ac5c8b790ca85e73c836546571087f5f4156193bf5877d816\"], \"sffirstpublisheddate\": [1482519579], \"sflastmodifieddate\": [1482519579], \"kav_resolution__c__html_stripped\": [\"Quick workaround : \\nEdit the Sitecore.Xdb.config file and set those two nodes to false :\\n\\n Xdb.Enabled Xdb.Tracking.Enabled \\n\\n \\n Permanent solution :\\u00a0 \\nContact Sitecore licensing to get an up to date license that includes the experience database (xDB) and revert the changes made in the Sitecore.Xdb.config file.\"], \"kav_vendor_version__c__html_stripped\": [\"Sitecore 8.1\"], \"detectedlanguage\": [1], \"kav_isvisibleinprm\": [true], \"kav_owner.attribute.type\": [\"Name\"], \"kav_lastmodifiedby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000003q7JgAAI\"], \"sfversionc\": [\"3.0\"], \"sitename\": [\"Community\"], \"kav_createdby.name\": [\"Benoit Garneau\"], \"sfarticlenumber\": [\"000001142\"], \"kav_lastmodifiedby.coveo_record_size\": [2], \"sfisvisibleinpkb\": [true], \"kav_datacategoryselections.id\": [\"02o320000003hadAAA;02o32000000pvhIAAQ;02o320000003haeAAA\"], \"kav_description__c\": [\"When trying to access a Coveo search page in Sitecore 8.1, through the Publish/Experience Editor or from the client side, an error is thrown.<br><br>Full stack as follows :\\n<div style=\\\"margin-left: 40px; color: rgb(85, 84, 89); font-family: monospace; font-size: 12.8px;\\\">\\n<pre style=\\\"font-size: inherit; color: inherit; display: inline-block;\\\">\\n\\n\\u00a0</pre>\\n</div>\\n\\n<pre class=\\\"ckeditor_codeblock\\\">\\n[LicenseException: Required license is missing: Runtime]\\n   Sitecore.Analytics.DataAccess.DataAdapterProvider..ctor() +159\\n   Sitecore.Analytics.Data.DataAccess.MongoDb.MongoDbDataAdapterProvider..ctor(Func`2 driverFactory) +21\\n\\n\\u00a0\\n[TargetInvocationException: Exception has been thrown by the target of an invocation.]\\n   System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor) +0\\n   System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) +743\\n   Sitecore.Reflection.ReflectionUtil.CreateObject(Type type, Object[] parameters) +229\\n   Sitecore.Configuration.Factory.CreateFromTypeName(XmlNode configNode, String[] parameters, Boolean assert) +120\\n   Sitecore.Configuration.Factory.CreateObject(XmlNode configNode, String[] parameters, Boolean assert, IFactoryHelper helper) +141\\n   Sitecore.Configuration.Factory.GetProviders(List`1 nodes) +504\\n   Sitecore.Configuration.Factory.GetProviders(String rootPath, TProvider&amp; defaultProvider) +359\\n   Sitecore.Configuration.ProviderHelper`2.ReadProviders() +80\\n   Sitecore.Configuration.ProviderHelper`2.get_Provider() +105\\n   Sitecore.Analytics.Data.ContactRepository..ctor() +49</pre>\\n<br>This error is thrown at this line in the SiteNavigation.cshtml :\\n<pre class=\\\"ckeditor_codeblock\\\">\\n@Html.Sitecore().Placeholder(&quot;globalsearch&quot;)</pre>\\n<br>\\u00a0\"], \"kav_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__kav/ka1320000000AU7AAM\"], \"kav_articlenumber__stripped\": [\"1142\"], \"sfversionnumber\": [1], \"kav_attribute.type\": [\"KB_Article__kav\"], \"kav_articletype\": [\"KB_Article__kav\"], \"coveo_foldingparent\": [\"4dfdecdb5669c08af0509308d752fc0b855edc06fd8b785a34e58e1bc643\"], \"collection\": [\"default\"], \"sfsourceid\": [\"5003200000xgKFHAA2\"], \"date\": [1517225582], \"kav_lastmodifiedby.id\": [\"00560000003q7JgAAI\"], \"kav_datacategoryselections.datacategorygroupname\": [\"Product;Product;Article_Type\"], \"conversionstate\": [0], \"sfvalidationstatus\": [\"Approved\"], \"kav_isdeleted\": [false], \"sflastmodifiedbyid\": [\"00560000003q7JgAAI\"], \"kav_lastmodifiedby.name\": [\"Frederic Cote\"], \"kav_articlenumber\": [\"000001142\"], \"permanentid\": [\"feba0ad31881f0115fe535aa99c353c665fcddbfbe36046b7d23d959ef90\"]}",
      "sflastmodifiedbyid" : "00560000003q7JgAAI",
      "sfproductc" : "Sitecore",
      "syssfownerid" : "00560000004BtvyAAC",
      "sfsitecoreversionc" : "8.1;N/A",
      "sourcetype" : "Salesforce",
      "sysconnectortype" : "Salesforce2",
      "sftitle" : "Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)",
      "rowid" : 5492257,
      "syssfcreatedbyid" : "00560000004BtvyAAC",
      "sfdescriptionc" : "When trying to access a Coveo search page in Sitecore 8.1, through the Publish/Experience Editor or from the client side, an error is thrown.<br><br>Full stack as follows :\n<div style=\"margin-left: 40px; color: rgb(85, 84, 89); font-family: monospace; font-size: 12.8px;\">\n<pre style=\"font-size: inherit; color: inherit; display: inline-block;\">\n\n </pre>\n</div>\n\n<pre class=\"ckeditor_codeblock\">\n[LicenseException: Required license is missing: Runtime]\n   Sitecore.Analytics.DataAccess.DataAdapterProvider..ctor() +159\n   Sitecore.Analytics.Data.DataAccess.MongoDb.MongoDbDataAdapterProvider..ctor(Func`2 driverFactory) +21\n\n \n[TargetInvocationException: Exception has been thrown by the target of an invocation.]\n   System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor) +0\n   System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) +743\n   Sitecore.Reflection.ReflectionUtil.CreateObject(Type type, Object[] parameters) +229\n   Sitecore.Configuration.Factory.CreateFromTypeName(XmlNode configNode, String[] parameters, Boolean assert) +120\n   Sitecore.Configuration.Factory.CreateObject(XmlNode configNode, String[] parameters, Boolean assert, IFactoryHelper helper) +141\n   Sitecore.Configuration.Factory.GetProviders(List`1 nodes) +504\n   Sitecore.Configuration.Factory.GetProviders(String rootPath, TProvider&amp; defaultProvider) +359\n   Sitecore.Configuration.ProviderHelper`2.ReadProviders() +80\n   Sitecore.Configuration.ProviderHelper`2.get_Provider() +105\n   Sitecore.Analytics.Data.ContactRepository..ctor() +49</pre>\n<br>This error is thrown at this line in the SiteNavigation.cshtml :\n<pre class=\"ckeditor_codeblock\">\n@Html.Sitecore().Placeholder(&quot;globalsearch&quot;)</pre>\n<br> ",
      "size" : 7373,
      "sfislatestversion" : "true",
      "sysdocumenttype" : "article",
      "sfcreateddate" : 1454950711000,
      "sfsourceid" : "5003200000xgKFHAA2",
      "clickableuri" : "https://na61.salesforce.com/kA13200000005fL",
      "syssource" : "Salesforce Public Items",
      "sfownerid" : "00560000004BtvyAAC",
      "orderingid" : 212384990660371061,
      "sfpublishstatus" : "Online",
      "syssize" : 7373,
      "sysdate" : 1517225582000,
      "sflanguage" : "en_US",
      "sysparents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)\" uri=\"https://na61.salesforce.com/kA13200000005fL\" /></parents>",
      "sfdcexpandedarticletype" : "All;All|Problem/Fix",
      "sfcurrencyisocode" : "USD",
      "sfkbid" : "kA13200000005fLCAQ",
      "sfcausec" : "This is caused by the new license model introduced in Sitecore 8.1.<br>The Experience database, or xDB, has to be explicitly included in the license. Seeing this exception means that this inclusion is absent from the license.<br>While loading a search page, Coveo will attempt to reach the Sitecore xDB, thus throwing a runtime exception.",
      "sfdcexpandedproduct" : "All;All|Other;All|Sitecore",
      "syssfcreateddate" : 1454950711000,
      "sflastmodifieddate" : 1482519579000,
      "sfisvisibleinpkb" : "true",
      "source" : "Salesforce Public Items",
      "sfarticletypec" : "Configuration",
      "sfisdeleted" : "false",
      "sfisvisibleincsp" : "true",
      "sfvalidationstatus" : "Approved",
      "sflastmodifiedbyname" : "Frederic Cote",
      "collection" : "default",
      "sfdcproduct" : [ "Other", "Sitecore" ],
      "syssourcetype" : "Salesforce",
      "sfarticletype" : "KB_Article__kav",
      "indexeddate" : 1518187524000,
      "connectortype" : "Salesforce2",
      "filetype" : "SalesforceItem",
      "sfcreatedbyname" : "Benoit Garneau",
      "sysclickableuri" : "https://na61.salesforce.com/kA13200000005fL",
      "sysfiletype" : "SalesforceItem",
      "sfvendorversionc" : "Sitecore 8.1",
      "language" : [ "English" ],
      "sffirstpublisheddate" : 1482519579000,
      "sfownername" : "Benoit Garneau",
      "sitename" : "Community",
      "sysrowid" : 5492257,
      "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US",
      "syscollection" : "default"
    },
    "Title" : "Coveo causing LicenseException when upgrading to sitecore 8.1 (xDB license issue)",
    "Uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US",
    "PrintableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US",
    "ClickUri" : "https://na61.salesforce.com/kA13200000005fL",
    "UniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000005fLCAQ/language:en_US",
    "Excerpt" : "When trying to access a Coveo search page in Sitecore 8.1, through the Publish/Experience Editor or from the client side, an error is thrown. ... Full stack as follows : ... Cause ... This is cause...",
    "FirstSentences" : null
  }