{
    "title" : "Coveo REST issues HSTS header",
    "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US",
    "printableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US",
    "clickUri" : "https://na61.salesforce.com/kA132000000Ceh7",
    "uniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US",
    "excerpt" : "When using the Coveo Cloud with Coveo for Sitecore 4.0, connecting to the main domain in https will force the connection to all subdomain to also be in https ... For Example ... The browser now iss...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1341,
    "percentScore" : 82.40069,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Coveo REST issues HSTS header",
      "sysurihash" : "G8To1lLTNKTQs1ðW",
      "urihash" : "G8To1lLTNKTQs1ðW",
      "parents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Coveo REST issues HSTS header\" uri=\"https://na61.salesforce.com/kA132000000Ceh7\" /></parents>",
      "sfdcarticletype" : "Product Issue",
      "sfresolutionc" : "A new feature that allows the Administrator to enforce the HSTS header will be available in the September release of Coveo for Sitecore 4.0<br><br>It will allow administrators<span style=\"\">  to strip the </span><tt style=\"\">Strict-Transport-Security</tt><span style=\"\"> header from the requests made to the Search API through the Coveo proxy. It can be done easily with the </span><tt style=\"\">web.config</tt><span style=\"\"> file. </span><br> \n<pre>\n&lt;configuration&gt;\n  &lt;system.webServer&gt;\n    &lt;httpProtocol&gt;\n      &lt;customHeaders&gt;\n        &lt;add name=&quot;Strict-Transport-Security&quot; value=&quot;max-age=31536000&quot; /&gt;\n      &lt;/customHeaders&gt;\n    &lt;/httpProtocol&gt;\n  &lt;/system.webServer&gt;\n&lt;/configuration&gt;</pre>\n<br><br>Hotfix available for July 2016 (4.0.290) of Coveo for Sitecore.",
      "sysuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US",
      "sfreleasedatec" : "July 2016 and bellow",
      "sysprintableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US",
      "sflastpublisheddate" : 1481839836000,
      "systransactionid" : 161138,
      "sfversionc" : "4.0",
      "sfurlname" : "1631",
      "sfsystemmodstamp" : 1516275942000,
      "sfisvisibleinapp" : "true",
      "sfcoveoversionc" : "Coveo for Sitecore 4.0",
      "sysconcepts" : "Coveo Cloud ; subdomains ; redirect ; Sitecore ; mysite ; header ; administrators ; Strict-Transport-Security ; config file ; new feature ; expected behavior ; user visits ; configuration ; Non-Authoritative",
      "sfkbversionnumber" : "2",
      "concepts" : "Coveo Cloud ; subdomains ; redirect ; Sitecore ; mysite ; header ; administrators ; Strict-Transport-Security ; config file ; new feature ; expected behavior ; user visits ; configuration ; Non-Authoritative",
      "printableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US",
      "documenttype" : "article",
      "sfkbarticlekavid" : "ka132000000LJsAAAW",
      "sysindexeddate" : 1518187519000,
      "sfknowledgearticleid" : "kA132000000Ceh7CAC",
      "sfcreatedbyid" : "00560000003q7JgAAI",
      "sfconnectorc" : "N/A",
      "permanentid" : "9031e311e8fd9e8711aa533404b0e8b7c6680a586015c518488ed2f095fb",
      "syslanguage" : [ "English" ],
      "transactionid" : 161138,
      "sfisvisibleinprm" : "true",
      "title" : "Coveo REST issues HSTS header",
      "sfversionnumber" : 2,
      "sfarticlenumber" : "000001631",
      "date" : 1516275942000,
      "objecttype" : "KB Article",
      "allmetadatavalues" : "{\"kav_lastmodifiedby.attribute.type\": [\"User\"], \"coveo_short_id\": [\"kA132000000Ceh7\"], \"sflastmodifiedbyname\": [\"Frederic Cote\"], \"kav_coveo_version__c__html_stripped\": [\"Coveo for Sitecore 4.0\"], \"fileextension\": [\"\"], \"sfdcexpandedproduct\": [\"All;All|Sitecore\"], \"kav_createdby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000003q7JgAAI\"], \"sflanguage\": [\"en_US\"], \"kav_createdby.attribute.type\": [\"User\"], \"kav_createdby.id\": [\"00560000003q7JgAAI\"], \"kav_language\": [\"en_US\"], \"sfsitecoreversionc\": [\"7.1;7.2;7.5;8.0;8.1;N/A\"], \"sourcetype\": [\"Salesforce\"], \"title\": [\"Coveo REST issues HSTS header\"], \"source\": [\"Salesforce Public Items\"], \"kav_owner.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000003q7JgAAI\"], \"parents\": [\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-16\\\"?><parents><parent name=\\\"Organization\\\" uri=\\\"https://na61.salesforce.com/home/home.jsp\\\" /><parent name=\\\"KB_Article__ka\\\" uri=\\\"http://www.salesforce.com/org:organization/articletype:KB_Article\\\" /><parent name=\\\"Coveo REST issues HSTS header\\\" uri=\\\"https://na61.salesforce.com/kA132000000Ceh7\\\" /></parents>\"], \"sfisvisibleinprm\": [true], \"kav_title\": [\"Coveo REST issues HSTS header\"], \"kav_isvisibleincsp\": [true], \"hashtmlversion\": [true], \"sfarticletypec\": [\"Product Issue\"], \"kav_version__c\": [\"4.0\"], \"kav_versionnumber\": [2], \"sfcreatedbyname\": [\"Frederic Cote\"], \"sflastpublisheddate\": [1481839836], \"objecttypelabel\": [\"KB Article\"], \"kav_cause__c__html_stripped\": [\"The root cause is that The Coveo Cloud REST api is issuing an Strict-Transport-Security: max-age=31536000; includeSubDomains header which is forcing all mysite.com\\u00a0subdomains to require browser to redirect to HTTPS after a user visits mysite.com \\n \\n This is an expected behavior of the Coveo Cloud.\"], \"originalhtmlcharset\": [1200], \"coveo_connector_hasbinarydata\": [false], \"kav_lastpublisheddate\": [1481839836], \"sfsystemmodstamp\": [1516275942], \"ka_attribute.type\": [\"KB_Article__ka\"], \"sfdcproduct\": [\"Sitecore\"], \"kav_resolution__c__html_stripped\": [\"A new feature that allows the Administrator to enforce the HSTS header will be available in the September release of Coveo for Sitecore 4.0 \\n \\n It will allow administrators \\u00a0 to strip the\\u00a0 Strict-Transport-Security \\u00a0header from the requests made to the Search API through the Coveo proxy. It can be done easily with the\\u00a0 web.config \\u00a0file.\\u00a0 \\n \\u00a0\\n \\n<configuration>\\n  <system.webServer>\\n    <httpProtocol>\\n      <customHeaders>\\n        <add name=\\\"Strict-Transport-Security\\\" value=\\\"max-age=31536000\\\" />\\n      </customHeaders>\\n    </httpProtocol>\\n  </system.webServer>\\n</configuration> \\n \\n \\n Hotfix available for July 2016 (4.0.290) of Coveo for Sitecore.\"], \"clickableuri\": [\"https://na61.salesforce.com/kA132000000Ceh7\"], \"kav_dc_expanded_product\": [\"All;All|Sitecore\"], \"sftitle\": [\"Coveo REST issues HSTS header\"], \"kav_owner.id\": [\"00560000003q7JgAAI\"], \"sfbuildc\": [\"4.0.290 and bellow\"], \"sfisvisibleinapp\": [true], \"ka_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__ka/kA132000000Ceh7CAC\"], \"sfdcarticletype\": [\"Product Issue\"], \"kav_cause__c\": [\"The root cause is that The Coveo Cloud REST api is issuing an Strict-Transport-Security: max-age=31536000; includeSubDomains header which is forcing all mysite.com\\u00a0subdomains to require browser to redirect to HTTPS after a user visits mysite.com<br><br>This is an expected behavior of the Coveo Cloud.\"], \"sfislatestversion\": [true], \"kav_release_date__c\": [\"July 2016 and bellow\"], \"contenttype\": [\"binarydata\"], \"sfurlname\": [\"1631\"], \"ka_id\": [\"kA132000000Ceh7CAC\"], \"kav_datacategoryselections.datacategoryname\": [\"Product_Issue;Sitecore\"], \"coveo_url\": [\"https://na61.salesforce.com/kA132000000Ceh7\"], \"kav_urlname\": [\"1631\"], \"sfreleasedatec\": [\"July 2016 and bellow\"], \"kav_articletype\": [\"KB_Article__kav\"], \"foldingcollection\": [\"42a439ca081fb5b7b3330214fd27b39003c1638e6b509e589729d5417cc8\"], \"body\": [\"<html>   <body>     <div style=\\\"background-color: #fff;border: 2px solid #BBC5CC;border-radius: 4px;float: left;font-family: lato;margin-left: 15px;margin-right: 15px;margin-bottom: 4%;padding: 10px;width: 60%;\\\">       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Description         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> When using the Coveo Cloud with Coveo for Sitecore 4.0, connecting to the main domain in https will force the connection to all subdomain to also be in https\\u00a0<br><br><br>For Example<br>1. Clear all history from browser go to http://subdomain.mysite.com<br>2. Now go to https://mysite.com<br>3. Try to visit again\\u00a0http://subdomain.mysite.com. The browser now issues by itself the Non-Authoritative HSTS aka Internal Redirect 307 forcing itself to visit https://subdomain.mysite.com\\u00a0instead of\\u00a0http://subdomain.mysite.com</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Environment         </div>       </div>       <br/>       <table>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Product</td>           <td>Sitecore</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Sitecore Version</td>           <td>7.1;7.2;7.5;8.0;8.1;N/A</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Connector</td>           <td>N/A</td>         </tr>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Published</td>           <td>1481839836</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Version</td>           <td>4.0</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Build</td>           <td>4.0.290 and bellow</td>         </tr>       </table>       <br/>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Cause         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> The root cause is that The Coveo Cloud REST api is issuing an Strict-Transport-Security: max-age=31536000; includeSubDomains header which is forcing all mysite.com\\u00a0subdomains to require browser to redirect to HTTPS after a user visits mysite.com<br><br>This is an expected behavior of the Coveo Cloud.</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Resolution         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> A new feature that allows the Administrator to enforce the HSTS header will be available in the September release of Coveo for Sitecore 4.0<br><br>It will allow administrators<span style=\\\"\\\">\\u00a0 to strip the\\u00a0</span><tt style=\\\"\\\">Strict-Transport-Security</tt><span style=\\\"\\\">\\u00a0header from the requests made to the Search API through the Coveo proxy. It can be done easily with the\\u00a0</span><tt style=\\\"\\\">web.config</tt><span style=\\\"\\\">\\u00a0file.\\u00a0</span><br>\\u00a0\\n<pre>\\n&lt;configuration&gt;\\n  &lt;system.webServer&gt;\\n    &lt;httpProtocol&gt;\\n      &lt;customHeaders&gt;\\n        &lt;add name=&quot;Strict-Transport-Security&quot; value=&quot;max-age=31536000&quot; /&gt;\\n      &lt;/customHeaders&gt;\\n    &lt;/httpProtocol&gt;\\n  &lt;/system.webServer&gt;\\n&lt;/configuration&gt;</pre>\\n<br><br>Hotfix available for July 2016 (4.0.290) of Coveo for Sitecore.</div>     </div>   </body> </html>\"], \"kav_product__c\": [\"Sitecore\"], \"kav_article_type__c\": [\"Product Issue\"], \"sfpublishstatus\": [\"Online\"], \"sfcreatedbyid\": [\"00560000003q7JgAAI\"], \"kav_description__c__html_stripped\": [\"When using the Coveo Cloud with Coveo for Sitecore 4.0, connecting to the main domain in https will force the connection to all subdomain to also be in https\\u00a0 \\n \\n \\n For Example \\n 1. Clear all history from browser go to http://subdomain.mysite.com \\n 2. Now go to https://mysite.com \\n 3. Try to visit again\\u00a0http://subdomain.mysite.com. The browser now issues by itself the Non-Authoritative HSTS aka Internal Redirect 307 forcing itself to visit https://subdomain.mysite.com\\u00a0instead of\\u00a0http://subdomain.mysite.com\"], \"kav_islatestversion\": [true], \"kav_knowledgearticleid\": [\"kA132000000Ceh7CAC\"], \"sfknowledgearticleid\": [\"kA132000000Ceh7CAC\"], \"sfownername\": [\"Frederic Cote\"], \"kav_datacategoryselections.attribute.type\": [\"KB_Article__DataCategorySelection;KB_Article__DataCategorySelection\"], \"detectedtitle\": [\"1. Clear all history from browser go to http://subdomain.mysite.com\"], \"kav_createddate\": [1481839751], \"kav_build__c\": [\"4.0.290 and bellow\"], \"language\": [\"English\"], \"coveo_foldingchild\": [\"064043c9d5d1b99cbfe3a7ff9b06197ea2b2b2eefa568e980dd28a0f1d05\"], \"sfownerid\": [\"00560000003q7JgAAI\"], \"kav_createdby.coveo_record_size\": [2], \"kav_systemmodstamp\": [1516275942], \"objecttype\": [\"KB Article\"], \"connectortype\": [\"Salesforce2\"], \"kav_coveo_record_size\": [4], \"originaluri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US\"], \"sfisvisibleincsp\": [true], \"convertertype\": [\"TYPE_HTML\"], \"filetype\": [\"SalesforceItem\"], \"kav_owner.name\": [\"Frederic Cote\"], \"sfcoveoversionc\": [\"Coveo for Sitecore 4.0\"], \"sfdcexpandedarticletype\": [\"All;All|Product Issue\"], \"objecttypelabelplural\": [\"KB Articles\"], \"sfcurrencyisocode\": [\"CAD\"], \"sfisdeleted\": [false], \"extractedsize\": [3192], \"size\": [5346], \"kav_publishstatus\": [\"Online\"], \"kav_connector__c\": [\"N/A\"], \"generateexcerpt\": [true], \"sfdescriptionc\": [\"When using the Coveo Cloud with Coveo for Sitecore 4.0, connecting to the main domain in https will force the connection to all subdomain to also be in https\\u00a0<br><br><br>For Example<br>1. Clear all history from browser go to http://subdomain.mysite.com<br>2. Now go to https://mysite.com<br>3. Try to visit again\\u00a0http://subdomain.mysite.com. The browser now issues by itself the Non-Authoritative HSTS aka Internal Redirect 307 forcing itself to visit https://subdomain.mysite.com\\u00a0instead of\\u00a0http://subdomain.mysite.com\"], \"sfarticletype\": [\"KB_Article__kav\"], \"kav_lastmodifieddate\": [1481839836], \"documenttype\": [\"article\"], \"sfkbarticlekavid\": [\"ka132000000LJsAAAW\"], \"kav_currencyisocode\": [\"CAD\"], \"sfproductc\": [\"Sitecore\"], \"foldingparent\": [\"064043c9d5d1b99cbfe3a7ff9b06197ea2b2b2eefa568e980dd28a0f1d05\"], \"mappingtype\": [\"KB_Article\"], \"kav_isvisibleinpkb\": [true], \"kav_sourceid\": [\"50032000013Ds3aAAC\"], \"sfkbversionnumber\": [2], \"kav_isvisibleinapp\": [true], \"kav_resolution__c\": [\"A new feature that allows the Administrator to enforce the HSTS header will be available in the September release of Coveo for Sitecore 4.0<br><br>It will allow administrators<span style=\\\"\\\">\\u00a0 to strip the\\u00a0</span><tt style=\\\"\\\">Strict-Transport-Security</tt><span style=\\\"\\\">\\u00a0header from the requests made to the Search API through the Coveo proxy. It can be done easily with the\\u00a0</span><tt style=\\\"\\\">web.config</tt><span style=\\\"\\\">\\u00a0file.\\u00a0</span><br>\\u00a0\\n<pre>\\n&lt;configuration&gt;\\n  &lt;system.webServer&gt;\\n    &lt;httpProtocol&gt;\\n      &lt;customHeaders&gt;\\n        &lt;add name=&quot;Strict-Transport-Security&quot; value=&quot;max-age=31536000&quot; /&gt;\\n      &lt;/customHeaders&gt;\\n    &lt;/httpProtocol&gt;\\n  &lt;/system.webServer&gt;\\n&lt;/configuration&gt;</pre>\\n<br><br>Hotfix available for July 2016 (4.0.290) of Coveo for Sitecore.\"], \"coveo_objecttype\": [\"KB_Article\"], \"printableuri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US\"], \"kav_datacategoryselections.attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o32000000puRzAAI;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o32000000puRyAAI\"], \"kav_id\": [\"ka132000000LJsAAAW\"], \"sfresolutionc\": [\"A new feature that allows the Administrator to enforce the HSTS header will be available in the September release of Coveo for Sitecore 4.0<br><br>It will allow administrators<span style=\\\"\\\">\\u00a0 to strip the\\u00a0</span><tt style=\\\"\\\">Strict-Transport-Security</tt><span style=\\\"\\\">\\u00a0header from the requests made to the Search API through the Coveo proxy. It can be done easily with the\\u00a0</span><tt style=\\\"\\\">web.config</tt><span style=\\\"\\\">\\u00a0file.\\u00a0</span><br>\\u00a0\\n<pre>\\n&lt;configuration&gt;\\n  &lt;system.webServer&gt;\\n    &lt;httpProtocol&gt;\\n      &lt;customHeaders&gt;\\n        &lt;add name=&quot;Strict-Transport-Security&quot; value=&quot;max-age=31536000&quot; /&gt;\\n      &lt;/customHeaders&gt;\\n    &lt;/httpProtocol&gt;\\n  &lt;/system.webServer&gt;\\n&lt;/configuration&gt;</pre>\\n<br><br>Hotfix available for July 2016 (4.0.290) of Coveo for Sitecore.\"], \"foldingchild\": [\"064043c9d5d1b99cbfe3a7ff9b06197ea2b2b2eefa568e980dd28a0f1d05\"], \"sfcreateddate\": [1481839751], \"kav_sitecore_version__c\": [\"7.1;7.2;7.5;8.0;8.1;N/A\"], \"kav_owner.coveo_record_size\": [2], \"kav_coveo_effective_modstamp\": [1516275942], \"kav_summary__html_stripped\": [\"\"], \"kav_dc_article_type\": [\"Product Issue\"], \"sfconnectorc\": [\"N/A\"], \"kav_dc_product\": [\"Sitecore\"], \"ka_coveo_record_size\": [2], \"kav_dc_expanded_article_type\": [\"All;All|Product Issue\"], \"kav_datacategoryselections.coveo_record_size\": [\"2;2\"], \"concepts\": [\"Coveo Cloud ; subdomains ; redirect ; Sitecore ; mysite ; header ; administrators ; Strict-Transport-Security ; config file ; new feature ; expected behavior ; user visits ; configuration ; Non-Authoritative\"], \"sfkbid\": [\"kA132000000Ceh7CAC\"], \"kav_firstpublisheddate\": [1470238815], \"coveo_organization_id\": [\"00D3000000007r2\"], \"coveo_foldingcollection\": [\"42a439ca081fb5b7b3330214fd27b39003c1638e6b509e589729d5417cc8\"], \"sffirstpublisheddate\": [1470238815], \"sflastmodifieddate\": [1481839836], \"kav_coveo_version__c\": [\"Coveo for Sitecore 4.0\"], \"kav_vendor_version__c__html_stripped\": [\"\"], \"detectedlanguage\": [1], \"kav_isvisibleinprm\": [true], \"kav_owner.attribute.type\": [\"Name\"], \"kav_lastmodifiedby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000003q7JgAAI\"], \"sfversionc\": [\"4.0\"], \"sitename\": [\"Community\"], \"kav_createdby.name\": [\"Frederic Cote\"], \"sfarticlenumber\": [\"000001631\"], \"kav_lastmodifiedby.coveo_record_size\": [2], \"sfisvisibleinpkb\": [true], \"kav_datacategoryselections.id\": [\"02o32000000puRzAAI;02o32000000puRyAAI\"], \"kav_description__c\": [\"When using the Coveo Cloud with Coveo for Sitecore 4.0, connecting to the main domain in https will force the connection to all subdomain to also be in https\\u00a0<br><br><br>For Example<br>1. Clear all history from browser go to http://subdomain.mysite.com<br>2. Now go to https://mysite.com<br>3. Try to visit again\\u00a0http://subdomain.mysite.com. The browser now issues by itself the Non-Authoritative HSTS aka Internal Redirect 307 forcing itself to visit https://subdomain.mysite.com\\u00a0instead of\\u00a0http://subdomain.mysite.com\"], \"kav_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__kav/ka132000000LJsAAAW\"], \"kav_articlenumber__stripped\": [\"1631\"], \"sfversionnumber\": [2], \"kav_attribute.type\": [\"KB_Article__kav\"], \"kav_validationstatus\": [\"Reviewed\"], \"coveo_foldingparent\": [\"064043c9d5d1b99cbfe3a7ff9b06197ea2b2b2eefa568e980dd28a0f1d05\"], \"collection\": [\"default\"], \"sfcausec\": [\"The root cause is that The Coveo Cloud REST api is issuing an Strict-Transport-Security: max-age=31536000; includeSubDomains header which is forcing all mysite.com\\u00a0subdomains to require browser to redirect to HTTPS after a user visits mysite.com<br><br>This is an expected behavior of the Coveo Cloud.\"], \"sfsourceid\": [\"50032000013Ds3aAAC\"], \"date\": [1516275942], \"kav_lastmodifiedby.id\": [\"00560000003q7JgAAI\"], \"kav_datacategoryselections.datacategorygroupname\": [\"Article_Type;Product\"], \"conversionstate\": [0], \"sfvalidationstatus\": [\"Reviewed\"], \"kav_isdeleted\": [false], \"sflastmodifiedbyid\": [\"00560000003q7JgAAI\"], \"kav_lastmodifiedby.name\": [\"Frederic Cote\"], \"kav_articlenumber\": [\"000001631\"], \"permanentid\": [\"9031e311e8fd9e8711aa533404b0e8b7c6680a586015c518488ed2f095fb\"]}",
      "sfbuildc" : "4.0.290 and bellow",
      "sflastmodifiedbyid" : "00560000003q7JgAAI",
      "sfproductc" : "Sitecore",
      "syssfownerid" : "00560000003q7JgAAI",
      "sfsitecoreversionc" : "7.1;7.2;7.5;8.0;8.1;N/A",
      "sourcetype" : "Salesforce",
      "sysconnectortype" : "Salesforce2",
      "sftitle" : "Coveo REST issues HSTS header",
      "rowid" : 5492176,
      "syssfcreatedbyid" : "00560000003q7JgAAI",
      "sfdescriptionc" : "When using the Coveo Cloud with Coveo for Sitecore 4.0, connecting to the main domain in https will force the connection to all subdomain to also be in https <br><br><br>For Example<br>1. Clear all history from browser go to http://subdomain.mysite.com<br>2. Now go to https://mysite.com<br>3. Try to visit again http://subdomain.mysite.com. The browser now issues by itself the Non-Authoritative HSTS aka Internal Redirect 307 forcing itself to visit https://subdomain.mysite.com instead of http://subdomain.mysite.com",
      "size" : 5346,
      "sfislatestversion" : "true",
      "sysdocumenttype" : "article",
      "sfcreateddate" : 1481839751000,
      "sfsourceid" : "50032000013Ds3aAAC",
      "clickableuri" : "https://na61.salesforce.com/kA132000000Ceh7",
      "syssource" : "Salesforce Public Items",
      "sfownerid" : "00560000003q7JgAAI",
      "orderingid" : 212384990660370981,
      "sfpublishstatus" : "Online",
      "syssize" : 5346,
      "sysdate" : 1516275942000,
      "sflanguage" : "en_US",
      "sysparents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Coveo REST issues HSTS header\" uri=\"https://na61.salesforce.com/kA132000000Ceh7\" /></parents>",
      "sfdcexpandedarticletype" : "All;All|Product Issue",
      "sfcurrencyisocode" : "CAD",
      "sfkbid" : "kA132000000Ceh7CAC",
      "sfcausec" : "The root cause is that The Coveo Cloud REST api is issuing an Strict-Transport-Security: max-age=31536000; includeSubDomains header which is forcing all mysite.com subdomains to require browser to redirect to HTTPS after a user visits mysite.com<br><br>This is an expected behavior of the Coveo Cloud.",
      "sfdcexpandedproduct" : "All;All|Sitecore",
      "syssfcreateddate" : 1481839751000,
      "sflastmodifieddate" : 1481839836000,
      "sfisvisibleinpkb" : "true",
      "source" : "Salesforce Public Items",
      "sfarticletypec" : "Product Issue",
      "sfisdeleted" : "false",
      "sfisvisibleincsp" : "true",
      "sfvalidationstatus" : "Reviewed",
      "sflastmodifiedbyname" : "Frederic Cote",
      "collection" : "default",
      "sfdcproduct" : [ "Sitecore" ],
      "syssourcetype" : "Salesforce",
      "sfarticletype" : "KB_Article__kav",
      "indexeddate" : 1518187519000,
      "connectortype" : "Salesforce2",
      "filetype" : "SalesforceItem",
      "sfcreatedbyname" : "Frederic Cote",
      "sysclickableuri" : "https://na61.salesforce.com/kA132000000Ceh7",
      "sysfiletype" : "SalesforceItem",
      "language" : [ "English" ],
      "sffirstpublisheddate" : 1470238815000,
      "sfownername" : "Frederic Cote",
      "sitename" : "Community",
      "sysrowid" : 5492176,
      "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US",
      "syscollection" : "default"
    },
    "Title" : "Coveo REST issues HSTS header",
    "Uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US",
    "PrintableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US",
    "ClickUri" : "https://na61.salesforce.com/kA132000000Ceh7",
    "UniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000Ceh7CAC/language:en_US",
    "Excerpt" : "When using the Coveo Cloud with Coveo for Sitecore 4.0, connecting to the main domain in https will force the connection to all subdomain to also be in https ... For Example ... The browser now iss...",
    "FirstSentences" : null
  }