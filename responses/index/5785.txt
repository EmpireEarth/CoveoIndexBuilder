{
    "title" : "KB Article Links are not working in Community",
    "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US",
    "printableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US",
    "clickUri" : "https://na61.salesforce.com/kA132000000L8i9",
    "uniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US",
    "excerpt" : "When clicking on the of the result template on your community search, the link does not open and instead a blank page is showed. ... You need to do a refresh in order to see the link. ... Salesforc...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1296,
    "percentScore" : 81.00633,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "KB Article Links are not working in Community",
      "sysurihash" : "MvjHFECxEqA4MS7x",
      "urihash" : "MvjHFECxEqA4MS7x",
      "parents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"KB Article Links are not working in Community\" uri=\"https://na61.salesforce.com/kA132000000L8i9\" /></parents>",
      "sfdcarticletype" : "Problem/Fix",
      "sfresolutionc" : "Here is a workaround to use temporarily while Salesforce is fixing their API:<br><br>Please add the enclosed code to your search component&#39;s controller:<br> \n<pre class=\"ckeditor_codeblock\">\n({\n    onInterfaceContentLoaded : function(component, event, helper) {\n      // Patch for Salesforce result link.\n        console.log(&#39;Overriding result link binding&#39;);\n       \n        Coveo.ResultLink.prototype.openLinkThatIsNotAnAnchor = function () {\n            var _this = this;\n            if (!this.elementIsAnAnchor()) {\n                $(this.element).on(&#39;click&#39;, function (ev) {\n                    if(ev.isPropagationStopped()){\n                        return false;\n                    }\n                    if (_this.options.alwaysOpenInNewWindow) {\n                        if (_this.options.openInOutlook) {\n                            _this.openLinkInOutlook();\n                        }\n                        else {\n                            _this.openLinkInNewWindow();\n                        }\n                    }\n                    else {\n                        _this.openLink();\n                    }\n                });\n                return true;\n            }\n            return false;\n        };\n        \n        Coveo.ResultLink.prototype.bindOnClickIfNotUndefined = function() {\n         var _this = this;\n         $(this.element).on(&#39;click&#39;, function(e) {\n            console.log(&#39;My custom click handler.&#39;);\n             \n             e.stopPropagation();\n             e.preventDefault();\n           \n             \n            var result = _this.result\n            if (result.raw.sfid !== undefined) {\n              // is salesforce.\n              if (result.raw.sffeeditemtype === &#39;QuestionPost&#39;) {\n                // is chatter question post.\n                $A.getCallback(function () {\n                  var navToSObjEvt = $A.get(&#39;e.force:navigateToURL&#39;);\n\n                  navToSObjEvt.setParams({\n                    url: &#39;/question/&#39; + result.raw.sfid\n                  });\n                  navToSObjEvt.fire();\n                })();\n              } else {\n                console.log(&#39;navigateToSObject.&#39;);\n                // is any other Salesforce objects.\n                \n                  var idToUse = result.raw.sfid;\n                  if(result.raw.sfkavid) {\n                    idToUse = result.raw.sfkavid \n                  }               \n                \n                   var navToSObjEvt = $A.get(&#39;e.force:navigateToSObject&#39;);\n                    \n                    navToSObjEvt.setParams({\n                        recordId: idToUse\n                    });\n                    navToSObjEvt.fire();\n                \n              }\n            } else {\n              // external content.\n              $A.getCallback(function () {\n                var navToSObjEvt = $A.get(&#39;e.force:navigateToURL&#39;);\n\n                navToSObjEvt.setParams({\n                  url: result.clickUri\n                });\n                navToSObjEvt.fire();\n              })();\n            }\n        });\n       }   \n       ...\n        var searchInterface = Coveo.$(&#39;#search&#39;);\n        ....\n        \n        searchInterface.on(Coveo.QueryEvents.buildingQuery, function(e, data){\n            var queryBuilder = data.queryBuilder;\n            var fieldsToAdd = [&#39;sfid&#39;, &#39;sffeeditemtype&#39;, &#39;kbid&#39;, &#39;sfkburlname&#39;, &#39;sfkavid&#39;, &#39;sfkbid&#39;];\n    \n            if (queryBuilder.requiredFields) {\n              queryBuilder.requiredFields = queryBuilder.requiredFields.concat(fieldsToAdd);\n            } else {\n              queryBuilder.requiredFields = fieldsToAdd;\n            }\n        });\n    }\n})</pre>\n<br><br>After the workaround is implemented, using your developer tools, you should see the log &quot;Overriding result link binding&quot; when initializing the search component and &quot;My custom click handler.&quot; when clicking on the article (use preserve log to see it). <br><br>Please remove this code once upgrading to Coveo for Salesforce version 38 or higher, as a permanent fix will be added on these versions and keeping the script will block the fix from working.<br><br> ",
      "sysuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US",
      "sfreleasedatec" : "2017-02-13",
      "sysprintableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US",
      "sflastpublisheddate" : 1490903472000,
      "systransactionid" : 161138,
      "sfurlname" : "000002076",
      "sfsystemmodstamp" : 1514029304000,
      "sfisvisibleinapp" : "true",
      "sfcoveoversionc" : "2",
      "sysconcepts" : "Salesforce ; Coveo ; API ; articles ; fix ; workaround ; formats ; use preserve ; developer tools ; web browser ; Overriding ; controller ; Resolution",
      "sfkbversionnumber" : "5",
      "concepts" : "Salesforce ; Coveo ; API ; articles ; fix ; workaround ; formats ; use preserve ; developer tools ; web browser ; Overriding ; controller ; Resolution",
      "printableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US",
      "documenttype" : "article",
      "sfkbarticlekavid" : "ka132000000LN07AAG",
      "sysindexeddate" : 1518187555000,
      "sfknowledgearticleid" : "kA132000000L8i9CAC",
      "sfcreatedbyid" : "00532000005ZlvdAAC",
      "sfconnectorc" : "N/A",
      "permanentid" : "aba01fde5841f0680b11579d0f073eb45791aefcc2f4c29599055689958e",
      "syslanguage" : [ "English" ],
      "transactionid" : 161138,
      "sfisvisibleinprm" : "true",
      "title" : "KB Article Links are not working in Community",
      "sfversionnumber" : 5,
      "sfarticlenumber" : "000002076",
      "date" : 1514029304000,
      "objecttype" : "KB Article",
      "allmetadatavalues" : "{\"kav_lastmodifiedby.attribute.type\": [\"User\"], \"coveo_short_id\": [\"kA132000000L8i9\"], \"sflastmodifiedbyname\": [\"Pierre-Guillaume Laurin\"], \"kav_coveo_version__c__html_stripped\": [\"2\"], \"fileextension\": [\"\"], \"sfdcexpandedproduct\": [\"All;All|Salesforce\"], \"kav_createdby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00532000005ZlvdAAC\"], \"sflanguage\": [\"en_US\"], \"kav_createdby.attribute.type\": [\"User\"], \"kav_createdby.id\": [\"00532000005ZlvdAAC\"], \"kav_language\": [\"en_US\"], \"sfsitecoreversionc\": [\"N/A\"], \"sourcetype\": [\"Salesforce\"], \"title\": [\"KB Article Links are not working in Community\"], \"source\": [\"Salesforce Public Items\"], \"kav_owner.attribute.url\": [\"/services/data/v34.0/sobjects/User/00532000005ZlvdAAC\"], \"parents\": [\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-16\\\"?><parents><parent name=\\\"Organization\\\" uri=\\\"https://na61.salesforce.com/home/home.jsp\\\" /><parent name=\\\"KB_Article__ka\\\" uri=\\\"http://www.salesforce.com/org:organization/articletype:KB_Article\\\" /><parent name=\\\"KB Article Links are not working in Community\\\" uri=\\\"https://na61.salesforce.com/kA132000000L8i9\\\" /></parents>\"], \"sfisvisibleinprm\": [true], \"kav_title\": [\"KB Article Links are not working in Community\"], \"kav_isvisibleincsp\": [true], \"hashtmlversion\": [true], \"kav_versionnumber\": [5], \"sfcreatedbyname\": [\"Pierre-Guillaume Laurin\"], \"sflastpublisheddate\": [1490903472], \"objecttypelabel\": [\"KB Article\"], \"kav_cause__c__html_stripped\": [\"Salesforce's API, which Coveo uses in order to send links, has not been adapted to the change Salesforce`s made on Spring 17 update. \\n \\n From https://releasenotes.docs.salesforce.com/en-us/spring17/release-notes/rn_networks_articleURL.htm: \\n \\n \\\"Previously, article URLs used the format/article/:urlName, but we now redirect to\\u00a0/article/:recordId/:urlName\\\" \\n \\n Using the\\u00a0format/article/:urlName on a web browser, yo uwill get redirected to KB articles newest link formats. However, this will not be the case when these links are called directly from the application.\"], \"originalhtmlcharset\": [1200], \"coveo_connector_hasbinarydata\": [false], \"kav_lastpublisheddate\": [1490903472], \"sfsystemmodstamp\": [1514029304], \"ka_attribute.type\": [\"KB_Article__ka\"], \"sfdcproduct\": [\"Salesforce\"], \"sfvendorversionc\": [\"2\"], \"kav_resolution__c__html_stripped\": [\"Here is a workaround to use temporarily while Salesforce is fixing their API: \\n \\n Please add the enclosed code to your search component's controller: \\n \\u00a0\\n \\n({\\n    onInterfaceContentLoaded : function(component, event, helper) {\\n\\u00a0 \\u00a0 \\u00a0 // Patch for Salesforce result link.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log('Overriding result link binding');\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 Coveo.ResultLink.prototype.openLinkThatIsNotAnAnchor = function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var _this = this;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (!this.elementIsAnAnchor()) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $(this.element).on('click', function (ev) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if(ev.isPropagationStopped()){\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return false;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (_this.options.alwaysOpenInNewWindow) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (_this.options.openInOutlook) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLinkInOutlook();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLinkInNewWindow();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLink();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return true;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return false;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 };\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 Coveo.ResultLink.prototype.bindOnClickIfNotUndefined = function() {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0var _this = this;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0$(this.element).on('click', function(e) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log('My custom click handler.');\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0e.stopPropagation();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0e.preventDefault();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var result = _this.result\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (result.raw.sfid !== undefined) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is salesforce.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (result.raw.sffeeditemtype === 'QuestionPost') {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is chatter question post.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $A.getCallback(function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var navToSObjEvt = $A.get('e.force:navigateToURL');\\n\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 url: '/question/' + result.raw.sfid\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 })();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log('navigateToSObject.');\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is any other Salesforce objects.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var idToUse = result.raw.sfid;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if(result.raw.sfkavid) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 idToUse = result.raw.sfkavid\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0var navToSObjEvt = $A.get('e.force:navigateToSObject');\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 recordId: idToUse\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // external content.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $A.getCallback(function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var navToSObjEvt = $A.get('e.force:navigateToURL');\\n\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 url: result.clickUri\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 })();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0} \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0...\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 var searchInterface = Coveo.$('#search');\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 ....\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 searchInterface.on(Coveo.QueryEvents.buildingQuery, function(e, data){\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var queryBuilder = data.queryBuilder;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var fieldsToAdd = ['sfid', 'sffeeditemtype', 'kbid', 'sfkburlname', 'sfkavid', 'sfkbid'];\\n\\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (queryBuilder.requiredFields) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 queryBuilder.requiredFields = queryBuilder.requiredFields.concat(fieldsToAdd);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 queryBuilder.requiredFields = fieldsToAdd;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 }\\n}) \\n \\n \\n After the workaround is implemented, using your developer tools, you should see the log \\\"Overriding result link binding\\\" when initializing the search component and \\\"My custom click handler.\\\" when clicking on the article (use preserve log to see it).\\u00a0 \\n \\n Please remove this code once upgrading to Coveo for Salesforce version 38 or higher, as a permanent\\u00a0fix will be added on these versions and keeping the script will block the fix from working. \\n \\n \\u00a0\"], \"clickableuri\": [\"https://na61.salesforce.com/kA132000000L8i9\"], \"sftitle\": [\"KB Article Links are not working in Community\"], \"kav_owner.id\": [\"00532000005ZlvdAAC\"], \"sfbuildc\": [\"38\"], \"sfisvisibleinapp\": [true], \"ka_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__ka/kA132000000L8i9CAC\"], \"sfdcarticletype\": [\"Problem/Fix\"], \"kav_cause__c\": [\"Salesforce&#39;s API, which Coveo uses in order to send links, has not been adapted to the change Salesforce`s made on Spring 17 update.<br><br>From https://releasenotes.docs.salesforce.com/en-us/spring17/release-notes/rn_networks_articleURL.htm:<br><br>&quot;Previously, article URLs used the format/article/:urlName, but we now redirect to\\u00a0/article/:recordId/:urlName&quot;<br><br>Using the\\u00a0format/article/:urlName on a web browser, yo uwill get redirected to KB articles newest link formats. However, this will not be the case when these links are called directly from the application.\"], \"sfislatestversion\": [true], \"kav_release_date__c\": [\"2017-02-13\"], \"contenttype\": [\"binarydata\"], \"sfurlname\": [\"000002076\"], \"ka_id\": [\"kA132000000L8i9CAC\"], \"kav_datacategoryselections.datacategoryname\": [\"Salesforce;Configuration\"], \"coveo_url\": [\"https://na61.salesforce.com/kA132000000L8i9\"], \"kav_urlname\": [\"000002076\"], \"sfreleasedatec\": [\"2017-02-13\"], \"kav_dc_expanded_product\": [\"All;All|Salesforce\"], \"foldingcollection\": [\"1ffde8ee25e643123fb8088b38f3d19311f21b7c1bdf1ef3fcb9c9e3be41\"], \"body\": [\"<html>   <body>     <div style=\\\"background-color: #fff;border: 2px solid #BBC5CC;border-radius: 4px;float: left;font-family: lato;margin-left: 15px;margin-right: 15px;margin-bottom: 4%;padding: 10px;width: 60%;\\\">       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Description         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> When clicking on the of the result template on your community search, the link does not open and instead a blank page is showed. You need to do a refresh in order to see the link.</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Environment         </div>       </div>       <br/>       <table>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Product</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Sitecore Version</td>           <td>N/A</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Connector</td>           <td>N/A</td>         </tr>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Published</td>           <td>1490903472</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Version</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Build</td>           <td>38</td>         </tr>       </table>       <br/>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Cause         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> Salesforce&#39;s API, which Coveo uses in order to send links, has not been adapted to the change Salesforce`s made on Spring 17 update.<br><br>From https://releasenotes.docs.salesforce.com/en-us/spring17/release-notes/rn_networks_articleURL.htm:<br><br>&quot;Previously, article URLs used the format/article/:urlName, but we now redirect to\\u00a0/article/:recordId/:urlName&quot;<br><br>Using the\\u00a0format/article/:urlName on a web browser, yo uwill get redirected to KB articles newest link formats. However, this will not be the case when these links are called directly from the application.</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Resolution         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> Here is a workaround to use temporarily while Salesforce is fixing their API:<br><br>Please add the enclosed code to your search component&#39;s controller:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\n({\\n    onInterfaceContentLoaded : function(component, event, helper) {\\n\\u00a0 \\u00a0 \\u00a0 // Patch for Salesforce result link.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log(&#39;Overriding result link binding&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 Coveo.ResultLink.prototype.openLinkThatIsNotAnAnchor = function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var _this = this;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (!this.elementIsAnAnchor()) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $(this.element).on(&#39;click&#39;, function (ev) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if(ev.isPropagationStopped()){\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return false;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (_this.options.alwaysOpenInNewWindow) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (_this.options.openInOutlook) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLinkInOutlook();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLinkInNewWindow();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLink();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return true;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return false;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 };\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 Coveo.ResultLink.prototype.bindOnClickIfNotUndefined = function() {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0var _this = this;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0$(this.element).on(&#39;click&#39;, function(e) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log(&#39;My custom click handler.&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0e.stopPropagation();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0e.preventDefault();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var result = _this.result\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (result.raw.sfid !== undefined) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is salesforce.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (result.raw.sffeeditemtype === &#39;QuestionPost&#39;) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is chatter question post.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $A.getCallback(function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var navToSObjEvt = $A.get(&#39;e.force:navigateToURL&#39;);\\n\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 url: &#39;/question/&#39; + result.raw.sfid\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 })();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log(&#39;navigateToSObject.&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is any other Salesforce objects.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var idToUse = result.raw.sfid;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if(result.raw.sfkavid) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 idToUse = result.raw.sfkavid\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0var navToSObjEvt = $A.get(&#39;e.force:navigateToSObject&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 recordId: idToUse\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // external content.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $A.getCallback(function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var navToSObjEvt = $A.get(&#39;e.force:navigateToURL&#39;);\\n\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 url: result.clickUri\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 })();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0} \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0...\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 var searchInterface = Coveo.$(&#39;#search&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 ....\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 searchInterface.on(Coveo.QueryEvents.buildingQuery, function(e, data){\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var queryBuilder = data.queryBuilder;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var fieldsToAdd = [&#39;sfid&#39;, &#39;sffeeditemtype&#39;, &#39;kbid&#39;, &#39;sfkburlname&#39;, &#39;sfkavid&#39;, &#39;sfkbid&#39;];\\n\\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (queryBuilder.requiredFields) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 queryBuilder.requiredFields = queryBuilder.requiredFields.concat(fieldsToAdd);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 queryBuilder.requiredFields = fieldsToAdd;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 }\\n})</pre>\\n<br><br>After the workaround is implemented, using your developer tools, you should see the log &quot;Overriding result link binding&quot; when initializing the search component and &quot;My custom click handler.&quot; when clicking on the article (use preserve log to see it).\\u00a0<br><br>Please remove this code once upgrading to Coveo for Salesforce version 38 or higher, as a permanent\\u00a0fix will be added on these versions and keeping the script will block the fix from working.<br><br>\\u00a0</div>     </div>   </body> </html>\"], \"sfpublishstatus\": [\"Online\"], \"sfcreatedbyid\": [\"00532000005ZlvdAAC\"], \"kav_description__c__html_stripped\": [\"When clicking on the of the result template on your community search, the link does not open and instead a blank page is showed. You need to do a refresh in order to see the link.\"], \"kav_islatestversion\": [true], \"kav_knowledgearticleid\": [\"kA132000000L8i9CAC\"], \"sfknowledgearticleid\": [\"kA132000000L8i9CAC\"], \"sfownername\": [\"Pierre-Guillaume Laurin\"], \"kav_datacategoryselections.attribute.type\": [\"KB_Article__DataCategorySelection;KB_Article__DataCategorySelection\"], \"detectedtitle\": [\"Description\"], \"kav_createddate\": [1490903304], \"kav_build__c\": [\"38\"], \"language\": [\"English\"], \"coveo_foldingchild\": [\"75ff50b930267f97f9caf75234c8de0ac7b464f8fb606d91582b96bdb2df\"], \"sfownerid\": [\"00532000005ZlvdAAC\"], \"kav_createdby.coveo_record_size\": [2], \"kav_vendor_version__c\": [\"2\"], \"kav_systemmodstamp\": [1514029304], \"objecttype\": [\"KB Article\"], \"connectortype\": [\"Salesforce2\"], \"kav_coveo_record_size\": [4], \"originaluri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US\"], \"sfisvisibleincsp\": [true], \"convertertype\": [\"TYPE_HTML\"], \"filetype\": [\"SalesforceItem\"], \"kav_owner.name\": [\"Pierre-Guillaume Laurin\"], \"sfcoveoversionc\": [\"2\"], \"sfdcexpandedarticletype\": [\"All;All|Problem/Fix\"], \"objecttypelabelplural\": [\"KB Articles\"], \"sfcurrencyisocode\": [\"CAD\"], \"sfisdeleted\": [false], \"extractedsize\": [7028], \"size\": [12023], \"kav_publishstatus\": [\"Online\"], \"kav_connector__c\": [\"N/A\"], \"generateexcerpt\": [true], \"sfdescriptionc\": [\"When clicking on the of the result template on your community search, the link does not open and instead a blank page is showed. You need to do a refresh in order to see the link.\"], \"sfarticletype\": [\"KB_Article__kav\"], \"kav_articletype\": [\"KB_Article__kav\"], \"kav_lastmodifieddate\": [1490903472], \"documenttype\": [\"article\"], \"sfkbarticlekavid\": [\"ka132000000LN07AAG\"], \"kav_currencyisocode\": [\"CAD\"], \"foldingparent\": [\"75ff50b930267f97f9caf75234c8de0ac7b464f8fb606d91582b96bdb2df\"], \"mappingtype\": [\"KB_Article\"], \"kav_isvisibleinpkb\": [true], \"kav_sourceid\": [\"50032000019XnXqAAK\"], \"sfkbversionnumber\": [5], \"kav_isvisibleinapp\": [true], \"kav_resolution__c\": [\"Here is a workaround to use temporarily while Salesforce is fixing their API:<br><br>Please add the enclosed code to your search component&#39;s controller:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\n({\\n    onInterfaceContentLoaded : function(component, event, helper) {\\n\\u00a0 \\u00a0 \\u00a0 // Patch for Salesforce result link.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log(&#39;Overriding result link binding&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 Coveo.ResultLink.prototype.openLinkThatIsNotAnAnchor = function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var _this = this;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (!this.elementIsAnAnchor()) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $(this.element).on(&#39;click&#39;, function (ev) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if(ev.isPropagationStopped()){\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return false;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (_this.options.alwaysOpenInNewWindow) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (_this.options.openInOutlook) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLinkInOutlook();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLinkInNewWindow();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLink();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return true;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return false;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 };\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 Coveo.ResultLink.prototype.bindOnClickIfNotUndefined = function() {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0var _this = this;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0$(this.element).on(&#39;click&#39;, function(e) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log(&#39;My custom click handler.&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0e.stopPropagation();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0e.preventDefault();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var result = _this.result\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (result.raw.sfid !== undefined) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is salesforce.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (result.raw.sffeeditemtype === &#39;QuestionPost&#39;) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is chatter question post.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $A.getCallback(function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var navToSObjEvt = $A.get(&#39;e.force:navigateToURL&#39;);\\n\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 url: &#39;/question/&#39; + result.raw.sfid\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 })();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log(&#39;navigateToSObject.&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is any other Salesforce objects.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var idToUse = result.raw.sfid;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if(result.raw.sfkavid) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 idToUse = result.raw.sfkavid\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0var navToSObjEvt = $A.get(&#39;e.force:navigateToSObject&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 recordId: idToUse\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // external content.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $A.getCallback(function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var navToSObjEvt = $A.get(&#39;e.force:navigateToURL&#39;);\\n\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 url: result.clickUri\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 })();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0} \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0...\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 var searchInterface = Coveo.$(&#39;#search&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 ....\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 searchInterface.on(Coveo.QueryEvents.buildingQuery, function(e, data){\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var queryBuilder = data.queryBuilder;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var fieldsToAdd = [&#39;sfid&#39;, &#39;sffeeditemtype&#39;, &#39;kbid&#39;, &#39;sfkburlname&#39;, &#39;sfkavid&#39;, &#39;sfkbid&#39;];\\n\\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (queryBuilder.requiredFields) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 queryBuilder.requiredFields = queryBuilder.requiredFields.concat(fieldsToAdd);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 queryBuilder.requiredFields = fieldsToAdd;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 }\\n})</pre>\\n<br><br>After the workaround is implemented, using your developer tools, you should see the log &quot;Overriding result link binding&quot; when initializing the search component and &quot;My custom click handler.&quot; when clicking on the article (use preserve log to see it).\\u00a0<br><br>Please remove this code once upgrading to Coveo for Salesforce version 38 or higher, as a permanent\\u00a0fix will be added on these versions and keeping the script will block the fix from working.<br><br>\\u00a0\"], \"coveo_objecttype\": [\"KB_Article\"], \"printableuri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US\"], \"kav_datacategoryselections.attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o32000000q521AAA;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o32000000q522AAA\"], \"kav_id\": [\"ka132000000LN07AAG\"], \"sfresolutionc\": [\"Here is a workaround to use temporarily while Salesforce is fixing their API:<br><br>Please add the enclosed code to your search component&#39;s controller:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\n({\\n    onInterfaceContentLoaded : function(component, event, helper) {\\n\\u00a0 \\u00a0 \\u00a0 // Patch for Salesforce result link.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log(&#39;Overriding result link binding&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 Coveo.ResultLink.prototype.openLinkThatIsNotAnAnchor = function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var _this = this;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (!this.elementIsAnAnchor()) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $(this.element).on(&#39;click&#39;, function (ev) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if(ev.isPropagationStopped()){\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return false;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (_this.options.alwaysOpenInNewWindow) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (_this.options.openInOutlook) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLinkInOutlook();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLinkInNewWindow();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 _this.openLink();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return true;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 return false;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 };\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 Coveo.ResultLink.prototype.bindOnClickIfNotUndefined = function() {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0var _this = this;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0$(this.element).on(&#39;click&#39;, function(e) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log(&#39;My custom click handler.&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0e.stopPropagation();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0e.preventDefault();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var result = _this.result\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (result.raw.sfid !== undefined) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is salesforce.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (result.raw.sffeeditemtype === &#39;QuestionPost&#39;) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is chatter question post.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $A.getCallback(function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var navToSObjEvt = $A.get(&#39;e.force:navigateToURL&#39;);\\n\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 url: &#39;/question/&#39; + result.raw.sfid\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 })();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 console.log(&#39;navigateToSObject.&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // is any other Salesforce objects.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var idToUse = result.raw.sfid;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if(result.raw.sfkavid) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 idToUse = result.raw.sfkavid\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0var navToSObjEvt = $A.get(&#39;e.force:navigateToSObject&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 recordId: idToUse\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 // external content.\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 $A.getCallback(function () {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var navToSObjEvt = $A.get(&#39;e.force:navigateToURL&#39;);\\n\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.setParams({\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 url: result.clickUri\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 navToSObjEvt.fire();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 })();\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0} \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0...\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 var searchInterface = Coveo.$(&#39;#search&#39;);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 ....\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 searchInterface.on(Coveo.QueryEvents.buildingQuery, function(e, data){\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var queryBuilder = data.queryBuilder;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 var fieldsToAdd = [&#39;sfid&#39;, &#39;sffeeditemtype&#39;, &#39;kbid&#39;, &#39;sfkburlname&#39;, &#39;sfkavid&#39;, &#39;sfkbid&#39;];\\n\\u00a0 \\u00a0\\u00a0\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 if (queryBuilder.requiredFields) {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 queryBuilder.requiredFields = queryBuilder.requiredFields.concat(fieldsToAdd);\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 } else {\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 queryBuilder.requiredFields = fieldsToAdd;\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 \\u00a0 }\\n\\u00a0 \\u00a0 \\u00a0 \\u00a0 });\\n\\u00a0 \\u00a0 }\\n})</pre>\\n<br><br>After the workaround is implemented, using your developer tools, you should see the log &quot;Overriding result link binding&quot; when initializing the search component and &quot;My custom click handler.&quot; when clicking on the article (use preserve log to see it).\\u00a0<br><br>Please remove this code once upgrading to Coveo for Salesforce version 38 or higher, as a permanent\\u00a0fix will be added on these versions and keeping the script will block the fix from working.<br><br>\\u00a0\"], \"foldingchild\": [\"75ff50b930267f97f9caf75234c8de0ac7b464f8fb606d91582b96bdb2df\"], \"sfcreateddate\": [1490903304], \"kav_sitecore_version__c\": [\"N/A\"], \"kav_owner.coveo_record_size\": [2], \"kav_coveo_effective_modstamp\": [1514029304], \"kav_summary__html_stripped\": [\"\"], \"kav_dc_article_type\": [\"Problem/Fix\"], \"sfconnectorc\": [\"N/A\"], \"kav_dc_product\": [\"Salesforce\"], \"ka_coveo_record_size\": [2], \"kav_dc_expanded_article_type\": [\"All;All|Problem/Fix\"], \"kav_datacategoryselections.coveo_record_size\": [\"2;2\"], \"concepts\": [\"Salesforce ; Coveo ; API ; articles ; fix ; workaround ; formats ; use preserve ; developer tools ; web browser ; Overriding ; controller ; Resolution\"], \"sfkbid\": [\"kA132000000L8i9CAC\"], \"kav_firstpublisheddate\": [1487098050], \"coveo_organization_id\": [\"00D3000000007r2\"], \"coveo_foldingcollection\": [\"1ffde8ee25e643123fb8088b38f3d19311f21b7c1bdf1ef3fcb9c9e3be41\"], \"sffirstpublisheddate\": [1487098050], \"sflastmodifieddate\": [1490903472], \"kav_coveo_version__c\": [\"2\"], \"kav_vendor_version__c__html_stripped\": [\"2\"], \"detectedlanguage\": [1], \"kav_isvisibleinprm\": [true], \"kav_owner.attribute.type\": [\"Name\"], \"kav_lastmodifiedby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00532000005ZlvdAAC\"], \"sitename\": [\"Community\"], \"kav_createdby.name\": [\"Pierre-Guillaume Laurin\"], \"sfarticlenumber\": [\"000002076\"], \"kav_lastmodifiedby.coveo_record_size\": [2], \"sfisvisibleinpkb\": [true], \"kav_datacategoryselections.id\": [\"02o32000000q521AAA;02o32000000q522AAA\"], \"kav_description__c\": [\"When clicking on the of the result template on your community search, the link does not open and instead a blank page is showed. You need to do a refresh in order to see the link.\"], \"kav_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__kav/ka132000000LN07AAG\"], \"kav_articlenumber__stripped\": [\"2076\"], \"sfversionnumber\": [5], \"kav_attribute.type\": [\"KB_Article__kav\"], \"kav_validationstatus\": [\"Reviewed\"], \"coveo_foldingparent\": [\"75ff50b930267f97f9caf75234c8de0ac7b464f8fb606d91582b96bdb2df\"], \"collection\": [\"default\"], \"sfcausec\": [\"Salesforce&#39;s API, which Coveo uses in order to send links, has not been adapted to the change Salesforce`s made on Spring 17 update.<br><br>From https://releasenotes.docs.salesforce.com/en-us/spring17/release-notes/rn_networks_articleURL.htm:<br><br>&quot;Previously, article URLs used the format/article/:urlName, but we now redirect to\\u00a0/article/:recordId/:urlName&quot;<br><br>Using the\\u00a0format/article/:urlName on a web browser, yo uwill get redirected to KB articles newest link formats. However, this will not be the case when these links are called directly from the application.\"], \"sfsourceid\": [\"50032000019XnXqAAK\"], \"date\": [1514029304], \"kav_lastmodifiedby.id\": [\"00532000005ZlvdAAC\"], \"kav_datacategoryselections.datacategorygroupname\": [\"Product;Article_Type\"], \"conversionstate\": [0], \"sfvalidationstatus\": [\"Reviewed\"], \"kav_isdeleted\": [false], \"sflastmodifiedbyid\": [\"00532000005ZlvdAAC\"], \"kav_lastmodifiedby.name\": [\"Pierre-Guillaume Laurin\"], \"kav_articlenumber\": [\"000002076\"], \"permanentid\": [\"aba01fde5841f0680b11579d0f073eb45791aefcc2f4c29599055689958e\"]}",
      "sfbuildc" : "38",
      "sflastmodifiedbyid" : "00532000005ZlvdAAC",
      "syssfownerid" : "00532000005ZlvdAAC",
      "sfsitecoreversionc" : "N/A",
      "sourcetype" : "Salesforce",
      "sysconnectortype" : "Salesforce2",
      "sftitle" : "KB Article Links are not working in Community",
      "rowid" : 5492639,
      "syssfcreatedbyid" : "00532000005ZlvdAAC",
      "sfdescriptionc" : "When clicking on the of the result template on your community search, the link does not open and instead a blank page is showed. You need to do a refresh in order to see the link.",
      "size" : 12023,
      "sfislatestversion" : "true",
      "sysdocumenttype" : "article",
      "sfcreateddate" : 1490903304000,
      "sfsourceid" : "50032000019XnXqAAK",
      "clickableuri" : "https://na61.salesforce.com/kA132000000L8i9",
      "syssource" : "Salesforce Public Items",
      "sfownerid" : "00532000005ZlvdAAC",
      "orderingid" : 212384990660371444,
      "sfpublishstatus" : "Online",
      "syssize" : 12023,
      "sysdate" : 1514029304000,
      "sflanguage" : "en_US",
      "sysparents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"KB Article Links are not working in Community\" uri=\"https://na61.salesforce.com/kA132000000L8i9\" /></parents>",
      "sfdcexpandedarticletype" : "All;All|Problem/Fix",
      "sfcurrencyisocode" : "CAD",
      "sfkbid" : "kA132000000L8i9CAC",
      "sfcausec" : "Salesforce&#39;s API, which Coveo uses in order to send links, has not been adapted to the change Salesforce`s made on Spring 17 update.<br><br>From https://releasenotes.docs.salesforce.com/en-us/spring17/release-notes/rn_networks_articleURL.htm:<br><br>&quot;Previously, article URLs used the format/article/:urlName, but we now redirect to /article/:recordId/:urlName&quot;<br><br>Using the format/article/:urlName on a web browser, yo uwill get redirected to KB articles newest link formats. However, this will not be the case when these links are called directly from the application.",
      "sfdcexpandedproduct" : "All;All|Salesforce",
      "syssfcreateddate" : 1490903304000,
      "sflastmodifieddate" : 1490903472000,
      "sfisvisibleinpkb" : "true",
      "source" : "Salesforce Public Items",
      "sfisdeleted" : "false",
      "sfisvisibleincsp" : "true",
      "sfvalidationstatus" : "Reviewed",
      "sflastmodifiedbyname" : "Pierre-Guillaume Laurin",
      "collection" : "default",
      "sfdcproduct" : [ "Salesforce" ],
      "syssourcetype" : "Salesforce",
      "sfarticletype" : "KB_Article__kav",
      "indexeddate" : 1518187555000,
      "connectortype" : "Salesforce2",
      "filetype" : "SalesforceItem",
      "sfcreatedbyname" : "Pierre-Guillaume Laurin",
      "sysclickableuri" : "https://na61.salesforce.com/kA132000000L8i9",
      "sysfiletype" : "SalesforceItem",
      "sfvendorversionc" : "2",
      "language" : [ "English" ],
      "sffirstpublisheddate" : 1487098050000,
      "sfownername" : "Pierre-Guillaume Laurin",
      "sitename" : "Community",
      "sysrowid" : 5492639,
      "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US",
      "syscollection" : "default"
    },
    "Title" : "KB Article Links are not working in Community",
    "Uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US",
    "PrintableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US",
    "ClickUri" : "https://na61.salesforce.com/kA132000000L8i9",
    "UniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000L8i9CAC/language:en_US",
    "Excerpt" : "When clicking on the of the result template on your community search, the link does not open and instead a blank page is showed. ... You need to do a refresh in order to see the link. ... Salesforc...",
    "FirstSentences" : null
  }