{
    "title" : "Sharing Machine Learning model with multiple hubs on a pipeline",
    "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US",
    "printableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US",
    "clickUri" : "https://na61.salesforce.com/kA132000000082M",
    "uniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US",
    "excerpt" : "A Pipeline can be used with a single Hub or a Pipeline can have multiple Hubs. ... When a Machine Learning Model it is created on a Pipeline the default is to create a model that uses the Hub (orig...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1457,
    "percentScore" : 85.89072,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Sharing Machine Learning model with multiple hubs on a pipeline",
      "sfsummary" : "How to get multiple hubs to share a ML model in a single pipeline",
      "sysurihash" : "uERcHvtiwu4abqoh",
      "urihash" : "uERcHvtiwu4abqoh",
      "parents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Sharing Machine Learning model with multiple hubs on a pipeline\" uri=\"https://na61.salesforce.com/kA132000000082M\" /></parents>",
      "sfdcarticletype" : "How To/Question;Problem/Fix",
      "sysuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US",
      "sysprintableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US",
      "sflastpublisheddate" : 1510869631000,
      "systransactionid" : 161139,
      "sfurlname" : "2308",
      "sfsystemmodstamp" : 1518176788000,
      "sfisvisibleinapp" : "true",
      "sysconcepts" : "machine learning ; Hub ; originlevel1 ; behaviors ; multiple Hubs ; pipeline ; returning ; custom settings ; Service Interruption ; extra parameters ; expanded pool ; authentication",
      "sfkbversionnumber" : "1",
      "concepts" : "machine learning ; Hub ; originlevel1 ; behaviors ; multiple Hubs ; pipeline ; returning ; custom settings ; Service Interruption ; extra parameters ; expanded pool ; authentication",
      "printableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US",
      "documenttype" : "article",
      "sfkbarticlekavid" : "ka1320000000FmuAAE",
      "sysindexeddate" : 1518187591000,
      "sfknowledgearticleid" : "kA132000000082MCAQ",
      "sfcreatedbyid" : "00532000005jYMzAAM",
      "sfconnectorc" : "N/A",
      "permanentid" : "c77c6573367ca069743529356b67618baff3cf2e5d2ebc2af83b0ad8ee07",
      "syslanguage" : [ "English" ],
      "transactionid" : 161139,
      "sfisvisibleinprm" : "true",
      "title" : "Sharing Machine Learning model with multiple hubs on a pipeline",
      "sfversionnumber" : 1,
      "sfarticlenumber" : "000002308",
      "date" : 1518176788000,
      "objecttype" : "KB Article",
      "allmetadatavalues" : "{\"kav_lastmodifiedby.attribute.type\": [\"User\"], \"coveo_short_id\": [\"kA132000000082M\"], \"sflastmodifiedbyname\": [\"Paul Knight\"], \"kav_coveo_version__c__html_stripped\": [\"\"], \"fileextension\": [\"\"], \"sfdcexpandedproduct\": [\"All;All|Salesforce;All|Usage Analytics\"], \"kav_createdby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00532000005jYMzAAM\"], \"sflanguage\": [\"en_US\"], \"kav_createdby.attribute.type\": [\"User\"], \"kav_createdby.id\": [\"00532000005jYMzAAM\"], \"kav_language\": [\"en_US\"], \"sfsitecoreversionc\": [\"N/A\"], \"sourcetype\": [\"Salesforce\"], \"title\": [\"Sharing Machine Learning model with multiple hubs on a pipeline\"], \"source\": [\"Salesforce Public Items\"], \"kav_owner.attribute.url\": [\"/services/data/v34.0/sobjects/User/00532000005jYMzAAM\"], \"parents\": [\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-16\\\"?><parents><parent name=\\\"Organization\\\" uri=\\\"https://na61.salesforce.com/home/home.jsp\\\" /><parent name=\\\"KB_Article__ka\\\" uri=\\\"http://www.salesforce.com/org:organization/articletype:KB_Article\\\" /><parent name=\\\"Sharing Machine Learning model with multiple hubs on a pipeline\\\" uri=\\\"https://na61.salesforce.com/kA132000000082M\\\" /></parents>\"], \"sfisvisibleinprm\": [true], \"kav_title\": [\"Sharing Machine Learning model with multiple hubs on a pipeline\"], \"kav_isvisibleincsp\": [true], \"sfcreateddate\": [1494890975], \"hashtmlversion\": [true], \"kav_versionnumber\": [1], \"sfcreatedbyname\": [\"Paul Knight\"], \"sflastpublisheddate\": [1510869631], \"objecttypelabel\": [\"KB Article\"], \"kav_cause__c__html_stripped\": [\"\"], \"originalhtmlcharset\": [1200], \"coveo_connector_hasbinarydata\": [false], \"kav_lastpublisheddate\": [1510869631], \"sfsystemmodstamp\": [1518176788], \"ka_attribute.type\": [\"KB_Article__ka\"], \"sfdcproduct\": [\"Salesforce;Usage Analytics\"], \"clickableuri\": [\"https://na61.salesforce.com/kA132000000082M\"], \"sftitle\": [\"Sharing Machine Learning model with multiple hubs on a pipeline\"], \"kav_owner.id\": [\"00532000005jYMzAAM\"], \"sfisvisibleinapp\": [true], \"ka_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__ka/kA132000000082MCAQ\"], \"sfdcarticletype\": [\"How To/Question;Problem/Fix\"], \"sfislatestversion\": [true], \"sfarticlenumber\": [\"000002308\"], \"contenttype\": [\"binarydata\"], \"sfurlname\": [\"2308\"], \"ka_id\": [\"kA132000000082MCAQ\"], \"kav_datacategoryselections.datacategoryname\": [\"Salesforce;Usage_Analytics;Configuration;How_To\"], \"coveo_url\": [\"https://na61.salesforce.com/kA132000000082M\"], \"kav_urlname\": [\"2308\"], \"kav_dc_expanded_product\": [\"All;All|Salesforce;All|Usage Analytics\"], \"foldingcollection\": [\"00b85764fe7476ad501929d4a57b98c822374d41b8ec59def6cbadfcc21f\"], \"body\": [\"<html>   <body>     <div style=\\\"background-color: #fff;border: 2px solid #BBC5CC;border-radius: 4px;float: left;font-family: lato;margin-left: 15px;margin-right: 15px;margin-bottom: 4%;padding: 10px;width: 60%;\\\">       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Description         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> A Pipeline can be used with a single Hub or a Pipeline can have multiple Hubs.<br>\\u00a0<br>When a Machine Learning Model it is created on a Pipeline the default is to create a model that uses the Hub (originlevel1) as a condition by which the model learns and then returns results to the same\\u00a0Hub (originlevel1).\\u00a0 This behavior creates a\\u00a0\\u00a0&quot;relationship\\u201d of learned behaviors and returned results that are effectively tied to each individual Hub in the pipeline.\\u00a0<br><br>There might be a desire to ignore the Hub (originlevel1) condition when returning results and in effect sharing the Machine Learning for multiple Hubs.\\u00a0 For example, your site has a public search Hub without authentication and a search Hub for users who have registered.\\u00a0 These users have the same search expertise and you want to use Coveo Machine Learning to influence results the same for both groups on their respective search Hub<br>\\u00a0<br>In this \\u201cTune Relevance\\u201d machine learning model, returned results will be returned to the\\u00a0originlevel1 upon which it was learned:<br>Tune Relevance QPL model:\\u00a0\\u00a0\\u00a0\\u00a0 topClicks commonFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, searchEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, customEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, exportPeriod: &quot;P3M&quot;, refreshRate: &quot;P1W&quot;, modifier: 250, matchQuery: false, matchAdvancedQuery: true, useRefinedQuery: false<br><br>In the above QPL each Hub (originlevel1)\\u00a0is a condition where results will be returned ONLY to the same originlevel1.\\u00a0 \\u00a0<br>The machine learned behaviors on originlevel1==Hub1 will only be utilized to influence results to Hub1<br>The machine learned behaviors on originlevel1==Hub2 will only be utilized to influence results to Hub2<br>The machine learned behaviors on originlevel1==Hub2 will only be utilized to influence results to Hub3<br>\\u00a0<br>In order to have all three Hubs influence results across all Hubs a modification to the QPL must be added manually to the QPL:<br>\\u201c\\u00a0 , customModelParameters: [&quot;--conf&quot;, &quot;coveo.drill.filterFields=&quot;]\\u00a0 \\u201c (excluding the quotes) to the model by editing the QPL<br>\\u00a0<br>In this \\u201cTune Relevance\\u201d machine learning model, machine learned behaviors are shared across all three Hubs:<br>Tune Relevance QPL model:\\u00a0\\u00a0\\u00a0\\u00a0 topClicks commonFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, searchEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, customEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, exportPeriod: &quot;P3M&quot;, refreshRate: &quot;P1W&quot;, modifier: 250, matchQuery: false, matchAdvancedQuery: true, useRefinedQuery: false , customModelParameters: [&quot;--conf&quot;, &quot;coveo.drill.filterFields=&quot;]\\u00a0<br><br>In the above QPL each Hub will influence the model and all three hubs benefit from the machine learned behaviors from the other Hubs:<br>Hub1 AND Hub2 AND Hub3 will share the expanded pool of machine learning.<br><br>It is very important to not use the Edit Model and only use the Edit QPL once a custom setting is used. If the Edit Model is used the custom setting will be removed\\u00a0<br><br>More information can be found <a href=\\\"https://support.coveo.com/s/article/2261?returnTo=RecentArticles\\\" target=\\\"_blank\\\">here</a>\\u00a0on\\u00a0Machine learning extra parameters and custom settings under\\u00a0<b>Example #3</b>.<br>Please see <a href=\\\"https://onlinehelp.coveo.com/en/cloud/editing_a_coveo_machine_learning_model_without_service_interruption.htm\\\" target=\\\"_blank\\\">here</a> for\\u00a0Editing a Machine Learning Model Without Service Interruption<br>For more information on\\u00a0Editing a QPL with custom settings using Edit Model/Rule versus Edit QPL click <a href=\\\"https://support.coveo.com/s/article/2787\\\" target=\\\"_blank\\\">here</a>\\u00a0<br><br><br>\\u00a0</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Environment         </div>       </div>       <br/>       <table>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Product</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Sitecore Version</td>           <td>N/A</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Connector</td>           <td>N/A</td>         </tr>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Published</td>           <td>1510869631</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Version</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Build</td>           <td></td>         </tr>       </table>       <br/>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Cause         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> </div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Resolution         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> </div>     </div>   </body> </html>\"], \"sfpublishstatus\": [\"Online\"], \"sfcreatedbyid\": [\"00532000005jYMzAAM\"], \"kav_description__c__html_stripped\": [\"A Pipeline can be used with a single Hub or a Pipeline can have multiple Hubs. \\n \\u00a0 \\n When a Machine Learning Model it is created on a Pipeline the default is to create a model that uses the Hub (originlevel1) as a condition by which the model learns and then returns results to the same\\u00a0Hub (originlevel1).\\u00a0 This behavior creates a\\u00a0\\u00a0\\\"relationship\\u201d of learned behaviors and returned results that are effectively tied to each individual Hub in the pipeline.\\u00a0 \\n \\n There might be a desire to ignore the Hub (originlevel1) condition when returning results and in effect sharing the Machine Learning for multiple Hubs.\\u00a0 For example, your site has a public search Hub without authentication and a search Hub for users who have registered.\\u00a0 These users have the same search expertise and you want to use Coveo Machine Learning to influence results the same for both groups on their respective search Hub \\n \\u00a0 \\n In this \\u201cTune Relevance\\u201d machine learning model, returned results will be returned to the\\u00a0originlevel1 upon which it was learned: \\n Tune Relevance QPL model:\\u00a0\\u00a0\\u00a0\\u00a0 topClicks commonFilter: \\\"(originlevel1=~'Hub1' OR originlevel1=~'Hub2' OR originlevel1=~'Hub3')\\\", searchEventFilter: \\\"(originlevel1=~'Hub1' OR originlevel1=~'Hub2' OR originlevel1=~'Hub3')\\\", customEventFilter: \\\"(originlevel1=~'Hub1' OR originlevel1=~'Hub2' OR originlevel1=~'Hub3')\\\", exportPeriod: \\\"P3M\\\", refreshRate: \\\"P1W\\\", modifier: 250, matchQuery: false, matchAdvancedQuery: true, useRefinedQuery: false \\n \\n In the above QPL each Hub (originlevel1)\\u00a0is a condition where results will be returned ONLY to the same originlevel1.\\u00a0 \\u00a0 \\n The machine learned behaviors on originlevel1==Hub1 will only be utilized to influence results to Hub1 \\n The machine learned behaviors on originlevel1==Hub2 will only be utilized to influence results to Hub2 \\n The machine learned behaviors on originlevel1==Hub2 will only be utilized to influence results to Hub3 \\n \\u00a0 \\n In order to have all three Hubs influence results across all Hubs a modification to the QPL must be added manually to the QPL: \\n \\u201c\\u00a0 , customModelParameters: [\\\"--conf\\\", \\\"coveo.drill.filterFields=\\\"]\\u00a0 \\u201c (excluding the quotes) to the model by editing the QPL \\n \\u00a0 \\n In this \\u201cTune Relevance\\u201d machine learning model, machine learned behaviors are shared across all three Hubs: \\n Tune Relevance QPL model:\\u00a0\\u00a0\\u00a0\\u00a0 topClicks commonFilter: \\\"(originlevel1=~'Hub1' OR originlevel1=~'Hub2' OR originlevel1=~'Hub3')\\\", searchEventFilter: \\\"(originlevel1=~'Hub1' OR originlevel1=~'Hub2' OR originlevel1=~'Hub3')\\\", customEventFilter: \\\"(originlevel1=~'Hub1' OR originlevel1=~'Hub2' OR originlevel1=~'Hub3')\\\", exportPeriod: \\\"P3M\\\", refreshRate: \\\"P1W\\\", modifier: 250, matchQuery: false, matchAdvancedQuery: true, useRefinedQuery: false , customModelParameters: [\\\"--conf\\\", \\\"coveo.drill.filterFields=\\\"]\\u00a0 \\n \\n In the above QPL each Hub will influence the model and all three hubs benefit from the machine learned behaviors from the other Hubs: \\n Hub1 AND Hub2 AND Hub3 will share the expanded pool of machine learning. \\n \\n It is very important to not use the Edit Model and only use the Edit QPL once a custom setting is used. If the Edit Model is used the custom setting will be removed\\u00a0 \\n \\n More information can be found  here \\u00a0on\\u00a0Machine learning extra parameters and custom settings under\\u00a0 Example #3 . \\n Please see  here  for\\u00a0Editing a Machine Learning Model Without Service Interruption \\n For more information on\\u00a0Editing a QPL with custom settings using Edit Model/Rule versus Edit QPL click  here \\u00a0 \\n \\n \\n \\u00a0\"], \"kav_islatestversion\": [true], \"kav_knowledgearticleid\": [\"kA132000000082MCAQ\"], \"sfknowledgearticleid\": [\"kA132000000082MCAQ\"], \"sfownername\": [\"Paul Knight\"], \"kav_datacategoryselections.attribute.type\": [\"KB_Article__DataCategorySelection;KB_Article__DataCategorySelection;KB_Article__DataCategorySelection;KB_Article__DataCategorySelection\"], \"detectedtitle\": [\"Description\"], \"kav_createddate\": [1494890975], \"language\": [\"English\"], \"coveo_foldingchild\": [\"a78d69279dc6b1fbff00df5bdf806c3456e3f29addae62b296348c838a7d\"], \"sfownerid\": [\"00532000005jYMzAAM\"], \"kav_createdby.coveo_record_size\": [2], \"kav_systemmodstamp\": [1518176788], \"objecttype\": [\"KB Article\"], \"connectortype\": [\"Salesforce2\"], \"kav_coveo_record_size\": [4], \"originaluri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US\"], \"sfisvisibleincsp\": [true], \"convertertype\": [\"TYPE_HTML\"], \"filetype\": [\"SalesforceItem\"], \"kav_owner.name\": [\"Paul Knight\"], \"sfdcexpandedarticletype\": [\"All;All|How To/Question;All|Problem/Fix\"], \"objecttypelabelplural\": [\"KB Articles\"], \"sfcurrencyisocode\": [\"CAD\"], \"sfisdeleted\": [false], \"extractedsize\": [7112], \"size\": [10349], \"kav_summary\": [\"How to get multiple hubs to share a ML model in a single pipeline\"], \"kav_publishstatus\": [\"Online\"], \"kav_connector__c\": [\"N/A\"], \"generateexcerpt\": [true], \"sfdescriptionc\": [\"A Pipeline can be used with a single Hub or a Pipeline can have multiple Hubs.<br>\\u00a0<br>When a Machine Learning Model it is created on a Pipeline the default is to create a model that uses the Hub (originlevel1) as a condition by which the model learns and then returns results to the same\\u00a0Hub (originlevel1).\\u00a0 This behavior creates a\\u00a0\\u00a0&quot;relationship\\u201d of learned behaviors and returned results that are effectively tied to each individual Hub in the pipeline.\\u00a0<br><br>There might be a desire to ignore the Hub (originlevel1) condition when returning results and in effect sharing the Machine Learning for multiple Hubs.\\u00a0 For example, your site has a public search Hub without authentication and a search Hub for users who have registered.\\u00a0 These users have the same search expertise and you want to use Coveo Machine Learning to influence results the same for both groups on their respective search Hub<br>\\u00a0<br>In this \\u201cTune Relevance\\u201d machine learning model, returned results will be returned to the\\u00a0originlevel1 upon which it was learned:<br>Tune Relevance QPL model:\\u00a0\\u00a0\\u00a0\\u00a0 topClicks commonFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, searchEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, customEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, exportPeriod: &quot;P3M&quot;, refreshRate: &quot;P1W&quot;, modifier: 250, matchQuery: false, matchAdvancedQuery: true, useRefinedQuery: false<br><br>In the above QPL each Hub (originlevel1)\\u00a0is a condition where results will be returned ONLY to the same originlevel1.\\u00a0 \\u00a0<br>The machine learned behaviors on originlevel1==Hub1 will only be utilized to influence results to Hub1<br>The machine learned behaviors on originlevel1==Hub2 will only be utilized to influence results to Hub2<br>The machine learned behaviors on originlevel1==Hub2 will only be utilized to influence results to Hub3<br>\\u00a0<br>In order to have all three Hubs influence results across all Hubs a modification to the QPL must be added manually to the QPL:<br>\\u201c\\u00a0 , customModelParameters: [&quot;--conf&quot;, &quot;coveo.drill.filterFields=&quot;]\\u00a0 \\u201c (excluding the quotes) to the model by editing the QPL<br>\\u00a0<br>In this \\u201cTune Relevance\\u201d machine learning model, machine learned behaviors are shared across all three Hubs:<br>Tune Relevance QPL model:\\u00a0\\u00a0\\u00a0\\u00a0 topClicks commonFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, searchEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, customEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, exportPeriod: &quot;P3M&quot;, refreshRate: &quot;P1W&quot;, modifier: 250, matchQuery: false, matchAdvancedQuery: true, useRefinedQuery: false , customModelParameters: [&quot;--conf&quot;, &quot;coveo.drill.filterFields=&quot;]\\u00a0<br><br>In the above QPL each Hub will influence the model and all three hubs benefit from the machine learned behaviors from the other Hubs:<br>Hub1 AND Hub2 AND Hub3 will share the expanded pool of machine learning.<br><br>It is very important to not use the Edit Model and only use the Edit QPL once a custom setting is used. If the Edit Model is used the custom setting will be removed\\u00a0<br><br>More information can be found <a href=\\\"https://support.coveo.com/s/article/2261?returnTo=RecentArticles\\\" target=\\\"_blank\\\">here</a>\\u00a0on\\u00a0Machine learning extra parameters and custom settings under\\u00a0<b>Example #3</b>.<br>Please see <a href=\\\"https://onlinehelp.coveo.com/en/cloud/editing_a_coveo_machine_learning_model_without_service_interruption.htm\\\" target=\\\"_blank\\\">here</a> for\\u00a0Editing a Machine Learning Model Without Service Interruption<br>For more information on\\u00a0Editing a QPL with custom settings using Edit Model/Rule versus Edit QPL click <a href=\\\"https://support.coveo.com/s/article/2787\\\" target=\\\"_blank\\\">here</a>\\u00a0<br><br><br>\\u00a0\"], \"sfarticletype\": [\"KB_Article__kav\"], \"kav_lastmodifieddate\": [1510869631], \"documenttype\": [\"article\"], \"sfkbarticlekavid\": [\"ka1320000000FmuAAE\"], \"kav_currencyisocode\": [\"CAD\"], \"foldingparent\": [\"a78d69279dc6b1fbff00df5bdf806c3456e3f29addae62b296348c838a7d\"], \"mappingtype\": [\"KB_Article\"], \"kav_isvisibleinpkb\": [true], \"sfkbversionnumber\": [1], \"kav_isvisibleinapp\": [true], \"kav_isdeleted\": [false], \"coveo_objecttype\": [\"KB_Article\"], \"printableuri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US\"], \"kav_datacategoryselections.attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o0d000000m6kwAAA;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o320000004b5CAAQ;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o320000004b5DAAQ;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o0d000000m6kxAAA\"], \"kav_id\": [\"ka1320000000FmuAAE\"], \"foldingchild\": [\"a78d69279dc6b1fbff00df5bdf806c3456e3f29addae62b296348c838a7d\"], \"sfsummary\": [\"How to get multiple hubs to share a ML model in a single pipeline\"], \"kav_sitecore_version__c\": [\"N/A\"], \"kav_owner.coveo_record_size\": [2], \"kav_coveo_effective_modstamp\": [1518176788], \"kav_summary__html_stripped\": [\"How to get multiple hubs to share a ML model in a single pipeline\"], \"kav_dc_article_type\": [\"How To/Question;Problem/Fix\"], \"sffirstpublisheddate\": [1510869631], \"kav_dc_product\": [\"Salesforce;Usage Analytics\"], \"ka_coveo_record_size\": [2], \"kav_dc_expanded_article_type\": [\"All;All|How To/Question;All|Problem/Fix\"], \"kav_datacategoryselections.coveo_record_size\": [\"2;2;2;2\"], \"concepts\": [\"machine learning ; Hub ; originlevel1 ; behaviors ; multiple Hubs ; pipeline ; returning ; custom settings ; Service Interruption ; extra parameters ; expanded pool ; authentication\"], \"sfkbid\": [\"kA132000000082MCAQ\"], \"kav_firstpublisheddate\": [1510869631], \"coveo_organization_id\": [\"00D3000000007r2\"], \"coveo_foldingcollection\": [\"00b85764fe7476ad501929d4a57b98c822374d41b8ec59def6cbadfcc21f\"], \"sflastmodifieddate\": [1510869631], \"kav_resolution__c__html_stripped\": [\"\"], \"kav_vendor_version__c__html_stripped\": [\"\"], \"detectedlanguage\": [1], \"kav_isvisibleinprm\": [true], \"kav_owner.attribute.type\": [\"Name\"], \"kav_lastmodifiedby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00532000005jYMzAAM\"], \"sitename\": [\"Community\"], \"kav_createdby.name\": [\"Paul Knight\"], \"kav_lastmodifiedby.coveo_record_size\": [2], \"sfisvisibleinpkb\": [true], \"kav_datacategoryselections.id\": [\"02o0d000000m6kwAAA;02o320000004b5CAAQ;02o320000004b5DAAQ;02o0d000000m6kxAAA\"], \"kav_description__c\": [\"A Pipeline can be used with a single Hub or a Pipeline can have multiple Hubs.<br>\\u00a0<br>When a Machine Learning Model it is created on a Pipeline the default is to create a model that uses the Hub (originlevel1) as a condition by which the model learns and then returns results to the same\\u00a0Hub (originlevel1).\\u00a0 This behavior creates a\\u00a0\\u00a0&quot;relationship\\u201d of learned behaviors and returned results that are effectively tied to each individual Hub in the pipeline.\\u00a0<br><br>There might be a desire to ignore the Hub (originlevel1) condition when returning results and in effect sharing the Machine Learning for multiple Hubs.\\u00a0 For example, your site has a public search Hub without authentication and a search Hub for users who have registered.\\u00a0 These users have the same search expertise and you want to use Coveo Machine Learning to influence results the same for both groups on their respective search Hub<br>\\u00a0<br>In this \\u201cTune Relevance\\u201d machine learning model, returned results will be returned to the\\u00a0originlevel1 upon which it was learned:<br>Tune Relevance QPL model:\\u00a0\\u00a0\\u00a0\\u00a0 topClicks commonFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, searchEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, customEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, exportPeriod: &quot;P3M&quot;, refreshRate: &quot;P1W&quot;, modifier: 250, matchQuery: false, matchAdvancedQuery: true, useRefinedQuery: false<br><br>In the above QPL each Hub (originlevel1)\\u00a0is a condition where results will be returned ONLY to the same originlevel1.\\u00a0 \\u00a0<br>The machine learned behaviors on originlevel1==Hub1 will only be utilized to influence results to Hub1<br>The machine learned behaviors on originlevel1==Hub2 will only be utilized to influence results to Hub2<br>The machine learned behaviors on originlevel1==Hub2 will only be utilized to influence results to Hub3<br>\\u00a0<br>In order to have all three Hubs influence results across all Hubs a modification to the QPL must be added manually to the QPL:<br>\\u201c\\u00a0 , customModelParameters: [&quot;--conf&quot;, &quot;coveo.drill.filterFields=&quot;]\\u00a0 \\u201c (excluding the quotes) to the model by editing the QPL<br>\\u00a0<br>In this \\u201cTune Relevance\\u201d machine learning model, machine learned behaviors are shared across all three Hubs:<br>Tune Relevance QPL model:\\u00a0\\u00a0\\u00a0\\u00a0 topClicks commonFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, searchEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, customEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, exportPeriod: &quot;P3M&quot;, refreshRate: &quot;P1W&quot;, modifier: 250, matchQuery: false, matchAdvancedQuery: true, useRefinedQuery: false , customModelParameters: [&quot;--conf&quot;, &quot;coveo.drill.filterFields=&quot;]\\u00a0<br><br>In the above QPL each Hub will influence the model and all three hubs benefit from the machine learned behaviors from the other Hubs:<br>Hub1 AND Hub2 AND Hub3 will share the expanded pool of machine learning.<br><br>It is very important to not use the Edit Model and only use the Edit QPL once a custom setting is used. If the Edit Model is used the custom setting will be removed\\u00a0<br><br>More information can be found <a href=\\\"https://support.coveo.com/s/article/2261?returnTo=RecentArticles\\\" target=\\\"_blank\\\">here</a>\\u00a0on\\u00a0Machine learning extra parameters and custom settings under\\u00a0<b>Example #3</b>.<br>Please see <a href=\\\"https://onlinehelp.coveo.com/en/cloud/editing_a_coveo_machine_learning_model_without_service_interruption.htm\\\" target=\\\"_blank\\\">here</a> for\\u00a0Editing a Machine Learning Model Without Service Interruption<br>For more information on\\u00a0Editing a QPL with custom settings using Edit Model/Rule versus Edit QPL click <a href=\\\"https://support.coveo.com/s/article/2787\\\" target=\\\"_blank\\\">here</a>\\u00a0<br><br><br>\\u00a0\"], \"kav_validationstatus\": [\"Needs Resolution\"], \"kav_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__kav/ka1320000000FmuAAE\"], \"kav_articlenumber__stripped\": [\"2308\"], \"sfversionnumber\": [1], \"kav_attribute.type\": [\"KB_Article__kav\"], \"kav_articletype\": [\"KB_Article__kav\"], \"coveo_foldingparent\": [\"a78d69279dc6b1fbff00df5bdf806c3456e3f29addae62b296348c838a7d\"], \"collection\": [\"default\"], \"date\": [1518176788], \"kav_lastmodifiedby.id\": [\"00532000005jYMzAAM\"], \"kav_datacategoryselections.datacategorygroupname\": [\"Product;Product;Article_Type;Article_Type\"], \"conversionstate\": [0], \"sfvalidationstatus\": [\"Needs Resolution\"], \"sfconnectorc\": [\"N/A\"], \"sflastmodifiedbyid\": [\"00532000005jYMzAAM\"], \"kav_lastmodifiedby.name\": [\"Paul Knight\"], \"kav_articlenumber\": [\"000002308\"], \"permanentid\": [\"c77c6573367ca069743529356b67618baff3cf2e5d2ebc2af83b0ad8ee07\"]}",
      "sflastmodifiedbyid" : "00532000005jYMzAAM",
      "syssfownerid" : "00532000005jYMzAAM",
      "sfsitecoreversionc" : "N/A",
      "sourcetype" : "Salesforce",
      "sysconnectortype" : "Salesforce2",
      "sftitle" : "Sharing Machine Learning model with multiple hubs on a pipeline",
      "rowid" : 5493190,
      "syssfcreatedbyid" : "00532000005jYMzAAM",
      "sfdescriptionc" : "A Pipeline can be used with a single Hub or a Pipeline can have multiple Hubs.<br> <br>When a Machine Learning Model it is created on a Pipeline the default is to create a model that uses the Hub (originlevel1) as a condition by which the model learns and then returns results to the same Hub (originlevel1).  This behavior creates a  &quot;relationship” of learned behaviors and returned results that are effectively tied to each individual Hub in the pipeline. <br><br>There might be a desire to ignore the Hub (originlevel1) condition when returning results and in effect sharing the Machine Learning for multiple Hubs.  For example, your site has a public search Hub without authentication and a search Hub for users who have registered.  These users have the same search expertise and you want to use Coveo Machine Learning to influence results the same for both groups on their respective search Hub<br> <br>In this “Tune Relevance” machine learning model, returned results will be returned to the originlevel1 upon which it was learned:<br>Tune Relevance QPL model:     topClicks commonFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, searchEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, customEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, exportPeriod: &quot;P3M&quot;, refreshRate: &quot;P1W&quot;, modifier: 250, matchQuery: false, matchAdvancedQuery: true, useRefinedQuery: false<br><br>In the above QPL each Hub (originlevel1) is a condition where results will be returned ONLY to the same originlevel1.   <br>The machine learned behaviors on originlevel1==Hub1 will only be utilized to influence results to Hub1<br>The machine learned behaviors on originlevel1==Hub2 will only be utilized to influence results to Hub2<br>The machine learned behaviors on originlevel1==Hub2 will only be utilized to influence results to Hub3<br> <br>In order to have all three Hubs influence results across all Hubs a modification to the QPL must be added manually to the QPL:<br>“  , customModelParameters: [&quot;--conf&quot;, &quot;coveo.drill.filterFields=&quot;]  “ (excluding the quotes) to the model by editing the QPL<br> <br>In this “Tune Relevance” machine learning model, machine learned behaviors are shared across all three Hubs:<br>Tune Relevance QPL model:     topClicks commonFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, searchEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, customEventFilter: &quot;(originlevel1=~&#39;Hub1&#39; OR originlevel1=~&#39;Hub2&#39; OR originlevel1=~&#39;Hub3&#39;)&quot;, exportPeriod: &quot;P3M&quot;, refreshRate: &quot;P1W&quot;, modifier: 250, matchQuery: false, matchAdvancedQuery: true, useRefinedQuery: false , customModelParameters: [&quot;--conf&quot;, &quot;coveo.drill.filterFields=&quot;] <br><br>In the above QPL each Hub will influence the model and all three hubs benefit from the machine learned behaviors from the other Hubs:<br>Hub1 AND Hub2 AND Hub3 will share the expanded pool of machine learning.<br><br>It is very important to not use the Edit Model and only use the Edit QPL once a custom setting is used. If the Edit Model is used the custom setting will be removed <br><br>More information can be found <a href=\"https://support.coveo.com/s/article/2261?returnTo=RecentArticles\" target=\"_blank\">here</a> on Machine learning extra parameters and custom settings under <b>Example #3</b>.<br>Please see <a href=\"https://onlinehelp.coveo.com/en/cloud/editing_a_coveo_machine_learning_model_without_service_interruption.htm\" target=\"_blank\">here</a> for Editing a Machine Learning Model Without Service Interruption<br>For more information on Editing a QPL with custom settings using Edit Model/Rule versus Edit QPL click <a href=\"https://support.coveo.com/s/article/2787\" target=\"_blank\">here</a> <br><br><br> ",
      "size" : 10349,
      "sfislatestversion" : "true",
      "sysdocumenttype" : "article",
      "sfcreateddate" : 1494890975000,
      "clickableuri" : "https://na61.salesforce.com/kA132000000082M",
      "syssource" : "Salesforce Public Items",
      "sfownerid" : "00532000005jYMzAAM",
      "orderingid" : 212384990660371996,
      "sfpublishstatus" : "Online",
      "syssize" : 10349,
      "sysdate" : 1518176788000,
      "sflanguage" : "en_US",
      "sysparents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Sharing Machine Learning model with multiple hubs on a pipeline\" uri=\"https://na61.salesforce.com/kA132000000082M\" /></parents>",
      "sfdcexpandedarticletype" : "All;All|How To/Question;All|Problem/Fix",
      "sfcurrencyisocode" : "CAD",
      "sfkbid" : "kA132000000082MCAQ",
      "sfdcexpandedproduct" : "All;All|Salesforce;All|Usage Analytics",
      "syssfcreateddate" : 1494890975000,
      "sflastmodifieddate" : 1510869631000,
      "sfisvisibleinpkb" : "true",
      "source" : "Salesforce Public Items",
      "sfisdeleted" : "false",
      "sfisvisibleincsp" : "true",
      "sfvalidationstatus" : "Needs Resolution",
      "sflastmodifiedbyname" : "Paul Knight",
      "collection" : "default",
      "sfdcproduct" : [ "Salesforce", "Usage Analytics" ],
      "syssourcetype" : "Salesforce",
      "sfarticletype" : "KB_Article__kav",
      "indexeddate" : 1518187591000,
      "connectortype" : "Salesforce2",
      "filetype" : "SalesforceItem",
      "sfcreatedbyname" : "Paul Knight",
      "sysclickableuri" : "https://na61.salesforce.com/kA132000000082M",
      "sysfiletype" : "SalesforceItem",
      "language" : [ "English" ],
      "sffirstpublisheddate" : 1510869631000,
      "sfownername" : "Paul Knight",
      "sitename" : "Community",
      "sysrowid" : 5493190,
      "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US",
      "syscollection" : "default"
    },
    "Title" : "Sharing Machine Learning model with multiple hubs on a pipeline",
    "Uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US",
    "PrintableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US",
    "ClickUri" : "https://na61.salesforce.com/kA132000000082M",
    "UniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA132000000082MCAQ/language:en_US",
    "Excerpt" : "A Pipeline can be used with a single Hub or a Pipeline can have multiple Hubs. ... When a Machine Learning Model it is created on a Pipeline the default is to create a model that uses the Hub (orig...",
    "FirstSentences" : null
  }