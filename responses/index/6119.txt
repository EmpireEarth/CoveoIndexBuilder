{
    "title" : "Following an uninstall_reinstall of the Coveo Jive plugin and_or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page",
    "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US",
    "printableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US",
    "clickUri" : "https://na61.salesforce.com/kA10d0000004MLa",
    "uniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US",
    "excerpt" : "Results from Jive have suddenly stopped being returned in a search interface. ... As a part of Coveo Jive connector requirement, You need to install the Coveo Plugin on your Jive Server. ... This K...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1367,
    "percentScore" : 83.19566,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Following an uninstall_reinstall of the Coveo Jive plugin and_or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page",
      "sysurihash" : "qOqtewyYvdNHPise",
      "urihash" : "qOqtewyYvdNHPise",
      "parents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Following an uninstall_reinstall of the Coveo Jive plugin and_or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page\" uri=\"https://na61.salesforce.com/kA10d0000004MLa\" /></parents>",
      "sfdcarticletype" : "Problem/Fix",
      "sfresolutionc" : "Why the disabled entities were not enabled automatically after Coveo Jive plugin was reinstalled on the Jive server?\n<ul><li><span style=\"font-size: 18px;\"><u><b>Two reasons:</b></u></span></li></ul>\n\n<ol><li>A rebuild of the source is necessary. A rebuild completely re-indexes the content and permissions of all the documents from the repository, even those that have not been modified since the last indexing date. A full refresh re-indexes the permissions of all documents and re-indexes the content ONLY for the ones that are found to be new, modified, or deleted since the last rebuild, full refresh, or incremental refresh.</li><li>A bug in the security cache is keeping the disabled entities from not being re-enabled even when a source is refreshed.</li></ol>\n<span style=\"color: #FF0000;\"><b>Note: This bug will be fixed in Coveo Enterprise Search December 2017 <a href=\"http://productupdate.coveo.com/en/\" target=\"_blank\">Release</a> </b></span>\n\n<ul><li><span style=\"font-size: 18px;\"><u><b>Two solutions are possible:</b></u></span></li></ul>\n\n<ol><li><b>After December 2017</b>, rebuild the Jive source. This solution might take a long time especially when we&#39;re talking about a big source</li><li><b>Before December 2017</b>, admins of Cove Enterprise Search on-premises servers may call the method <b>EnableDisabledSecurityEntities</b> or<b> EnableAllDisabledSecurityEntities</b> from the COM Admin API. Coveo Cloud customers may need to open a support ticket as they cannot run said script.</li></ol>\nHere is the script:<br> \n<pre class=\"ckeditor_codeblock\">\nOption Explicit\nOn Error Goto 0\n\nCall Main()\n\n&#39;==============================================================================\nSub Main()\n    Echo &quot;Start Script&quot;\n    Dim admin: Set admin = GetAdmin()\n\n    Echo &quot;Enabling disabled entities...&quot;\n    admin.EnableDisabledSecurityEntities(&quot;ProviderName&quot;)\n    Echo &quot;Done!&quot;\n    admin.Disconnect\n    Set admin = Nothing\n\n    Echo &quot;End Script&quot;\nEnd Sub\n\n&#39;==============================================================================\n&#39; GetAdmin\n&#39;\n&#39; Retrieves Admin object.\n&#39;==============================================================================\nFunction GetAdmin()\n    Const CESADMIN_PROGID       = &quot;CESAdmin.Admin.7.0&quot;\n    Const SERVER_NAME           = &quot;localhost&quot;\n    Const DEFAULT_INSTANCE_NAME = &quot;default&quot;\n    Const IMPERSONATE           = False\n\n    Set GetAdmin = CreateObject(CESADMIN_PROGID)\n    Call GetAdmin.Connect(SERVER_NAME, DEFAULT_INSTANCE_NAME)\nEnd Function\n\n&#39;==============================================================================\nSub Echo(msg)\n    WScript.Echo(msg)\nEnd Sub</pre>\n\n<ul><li>Copy it and paste it into a .txt file</li><li>Rename the .txt file as CES7Admin-EnableDisabledSecurityEntities.vbs</li><li>Put the &quot;CES7Admin-EnableDisabledSecurityEntities.vbs&quot; file into your Coveo master server</li><li>Update the script with your provider name, on line 12, change <b>&quot;ProviderName&quot;</b> by your <b>Jive Security provider name</b></li><li>Save the file</li><li>Double click on it to run it</li></ul>\n\n<div><img alt=\"User-added image\" height=\"211\" src=\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCN\" width=\"500\"></img><br><img alt=\"User-added image\" height=\"207\" src=\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCS\" width=\"500\"></img><br><br><img alt=\"User-added image\" height=\"204\" src=\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCX\" width=\"500\"></img><br><br><img alt=\"User-added image\" height=\"206\" src=\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCc\" width=\"500\"></img><br><br><img alt=\"User-added image\" height=\"226\" src=\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCh\" width=\"500\"></img></div>\nAll re-enabled security entities will be re-updated immediately, missing documents will become available in the Coveo search page within the next hours.<br><br> ",
      "sysuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US",
      "sfreleasedatec" : "TBD",
      "sysprintableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US",
      "sflastpublisheddate" : 1512495322000,
      "systransactionid" : 161139,
      "sfurlname" : "2594",
      "sfsystemmodstamp" : 1517053488000,
      "sfisvisibleinapp" : "true",
      "sfcoveoversionc" : "On-prem or Cloud",
      "sysconcepts" : "Coveo Jive ; upgrades ; uninstalling ; Cove Enterprise ; index browser ; script ; re-indexes ; support ticket ; Cloud customers ; method EnableDisabledSecurityEntities ; ProviderName ; EnableAllDisabledSecurityEntities",
      "sfkbversionnumber" : "6",
      "concepts" : "Coveo Jive ; upgrades ; uninstalling ; Cove Enterprise ; index browser ; script ; re-indexes ; support ticket ; Cloud customers ; method EnableDisabledSecurityEntities ; ProviderName ; EnableAllDisabledSecurityEntities",
      "printableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US",
      "documenttype" : "article",
      "sfkbarticlekavid" : "ka10d0000004TYGAA2",
      "sysindexeddate" : 1518187596000,
      "sfknowledgearticleid" : "kA10d0000004MLaCAM",
      "sfcreatedbyid" : "00560000002MKBSAA4",
      "sfconnectorc" : "N/A",
      "permanentid" : "dfc0a0cdfdf0d38b533a714e69d1c664f2a3949235d81d663385722fa924",
      "syslanguage" : [ "English" ],
      "transactionid" : 161139,
      "sfisvisibleinprm" : "true",
      "title" : "Following an uninstall_reinstall of the Coveo Jive plugin and_or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page",
      "sfversionnumber" : 6,
      "sfarticlenumber" : "000002594",
      "date" : 1517053488000,
      "objecttype" : "KB Article",
      "allmetadatavalues" : "{\"kav_lastmodifiedby.attribute.type\": [\"User\"], \"coveo_short_id\": [\"kA10d0000004MLa\"], \"sflastmodifiedbyname\": [\"Jean-Fran\\u00e7ois Cadrin-Girard\"], \"kav_coveo_version__c__html_stripped\": [\"On-prem or Cloud\"], \"fileextension\": [\"\"], \"sfdcexpandedproduct\": [\"All;All|Coveo Enterprise Search\"], \"kav_createdby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000002MKBSAA4\"], \"sflanguage\": [\"en_US\"], \"kav_createdby.attribute.type\": [\"User\"], \"kav_createdby.id\": [\"00560000002MKBSAA4\"], \"kav_language\": [\"en_US\"], \"sfsitecoreversionc\": [\"N/A\"], \"sourcetype\": [\"Salesforce\"], \"title\": [\"Following an uninstall_reinstall of the Coveo Jive plugin and_or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page\"], \"source\": [\"Salesforce Public Items\"], \"kav_owner.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000002MKBSAA4\"], \"parents\": [\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-16\\\"?><parents><parent name=\\\"Organization\\\" uri=\\\"https://na61.salesforce.com/home/home.jsp\\\" /><parent name=\\\"KB_Article__ka\\\" uri=\\\"http://www.salesforce.com/org:organization/articletype:KB_Article\\\" /><parent name=\\\"Following an uninstall_reinstall of the Coveo Jive plugin and_or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page\\\" uri=\\\"https://na61.salesforce.com/kA10d0000004MLa\\\" /></parents>\"], \"sfisvisibleinprm\": [true], \"kav_title\": [\"Following an uninstall/reinstall of the Coveo Jive plugin and/or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page\"], \"kav_isvisibleincsp\": [true], \"hashtmlversion\": [true], \"kav_versionnumber\": [6], \"sfcreatedbyname\": [\"Karel Mpungi\"], \"sflastpublisheddate\": [1512495322], \"objecttypelabel\": [\"KB Article\"], \"kav_cause__c__html_stripped\": [\"Cause: Jive Upgrades \\nSome Jive upgrades have shown to remove the Coveo plugin from Jive instances. In such occurrences subsequent security cache updates failed, leading to the disabling of Jive permission entities in Coveo, and the inability for the Jive documents to appear in search results due to the documents no longer having any permissions associated to to them. \\n \\n Note : This provides a good example of the importance to thoroughly test in a pre-prod environment any upgrade of a system to which Coveo must connect. \\n \\u00a0\\n Cause: Accidental Removal of the Coveo Plugin \\nThe Coveo Jive plugin could also have been manually accidentally removed from the Jive Server. The consequence would be the same as described above.\\n\\n \\u00a0 \\n\\n Diagnosing this issue \\nIn the  absence of the Coveo Jive plugin , admins of Cove Enterprise Search on-premises servers may see the following in the index log when they try to index a Jive source: \\n \\u00a0\\n \\nERROR 08:12:00 AM Error with ID 'JIVE_PLUGIN_UNAVAILABLE': The Coveo plugin is not installed or detected. The permissions cannot be indexed. You must manually configure the permissions on the source or install the plugin. \\n \\n After re-installing the Coveo Jive plugin,  the items are now crawled, they are accessible in the  index browser \\u00a0, but you can't see all of them or some of them in your Coveo Search page. Furthermore, the  indexed permissions are empty  when you try to browse them in the CES Index Browser.\\n\\n Admins of Cove Enterprise Search on-premises servers\\u00a0may see in the following WARNINGS system logs:\\n \\n\\n \\n|WARNING|2017-08-19|00:03:52|0|Entity not found by the security provider, disabling it: <Member name=\\\"GROUP_NAME\\\" type=\\\"VirtualGroup\\\">... \\n \\n This means that the security entities were disabled because the security provider has thrown the exception SecurityEntityNotFoundException when trying to connect to Jive when the plugin was no longer present. This causes the  security cache  to clear the relationships and to skip the entity update.\\n\\n This explains why the documents weren't shown in the search results since Jive plugin was uninstalled and reinstalled. So while there was no Coveo Jive plugin installed on the Jive server,\\u00a0entities could not be found during security cache update.Hence unfound entities were all disabled. \\n \\u00a0\\n \\n \\n \\u00a0\"], \"originalhtmlcharset\": [1200], \"coveo_connector_hasbinarydata\": [false], \"kav_lastpublisheddate\": [1512495322], \"sfsystemmodstamp\": [1517053488], \"ka_attribute.type\": [\"KB_Article__ka\"], \"sfdcproduct\": [\"Coveo Enterprise Search\"], \"kav_resolution__c__html_stripped\": [\"Why the disabled entities were not enabled automatically after Coveo Jive plugin was reinstalled on the Jive server?\\n Two reasons: \\n\\n A rebuild of the source is necessary. A rebuild completely re-indexes the content and permissions of all the documents from the repository, even those that have not been modified since the last indexing date. A full refresh re-indexes the permissions of all documents and re-indexes the content ONLY for the ones that are found to be new, modified, or deleted since the last rebuild, full refresh, or incremental refresh. A bug in the security cache is keeping the disabled entities from not being re-enabled even when a source is refreshed. \\n Note: This bug will be fixed in Coveo Enterprise Search December 2017  Release \\u00a0 \\n\\n Two solutions are possible: \\n\\n After December 2017 , rebuild the Jive source. This solution might take a long time especially when we're talking about a big source Before December 2017 , admins of Cove Enterprise Search on-premises servers may call the method  EnableDisabledSecurityEntities  or  EnableAllDisabledSecurityEntities  from the COM Admin API. Coveo Cloud customers may need to open a support ticket as they cannot run said script. \\nHere is the script: \\n \\u00a0\\n \\nOption Explicit\\nOn Error Goto 0\\n\\nCall Main()\\n\\n'==============================================================================\\nSub Main()\\n    Echo \\\"Start Script\\\"\\n    Dim admin: Set admin = GetAdmin()\\n\\n    Echo \\\"Enabling disabled entities...\\\"\\n    admin.EnableDisabledSecurityEntities(\\\"ProviderName\\\")\\n    Echo \\\"Done!\\\"\\n    admin.Disconnect\\n    Set admin = Nothing\\n\\n    Echo \\\"End Script\\\"\\nEnd Sub\\n\\n'==============================================================================\\n' GetAdmin\\n'\\n' Retrieves Admin object.\\n'==============================================================================\\nFunction GetAdmin()\\n    Const CESADMIN_PROGID       = \\\"CESAdmin.Admin.7.0\\\"\\n    Const SERVER_NAME           = \\\"localhost\\\"\\n    Const DEFAULT_INSTANCE_NAME = \\\"default\\\"\\n    Const IMPERSONATE           = False\\n\\n    Set GetAdmin = CreateObject(CESADMIN_PROGID)\\n    Call GetAdmin.Connect(SERVER_NAME, DEFAULT_INSTANCE_NAME)\\nEnd Function\\n\\n'==============================================================================\\nSub Echo(msg)\\n    WScript.Echo(msg)\\nEnd Sub \\n\\n Copy it and paste it into a .txt file Rename the .txt file as CES7Admin-EnableDisabledSecurityEntities.vbs Put the \\\"CES7Admin-EnableDisabledSecurityEntities.vbs\\\" file into your Coveo master server Update the script with your provider name, on line 12, change\\u00a0 \\\"ProviderName\\\"  by your  Jive Security provider name Save the file Double click on it to run it \\n\\n  \\n  \\n \\n  \\n \\n  \\n \\n  \\nAll re-enabled security entities will be re-updated immediately, missing documents will become available in the Coveo search page within the next hours. \\n \\n \\u00a0\"], \"clickableuri\": [\"https://na61.salesforce.com/kA10d0000004MLa\"], \"sftitle\": [\"Following an uninstall/reinstall of the Coveo Jive plugin and/or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page\"], \"kav_owner.id\": [\"00560000002MKBSAA4\"], \"sfbuildc\": [\"All Builds before December 2017\"], \"sfisvisibleinapp\": [true], \"ka_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__ka/kA10d0000004MLaCAM\"], \"sfdcarticletype\": [\"Problem/Fix\"], \"kav_cause__c\": [\"<h1>Cause: Jive Upgrades</h1>\\nSome Jive upgrades have shown to remove the Coveo plugin from Jive instances. In such occurrences subsequent security cache updates failed, leading to the disabling of Jive permission entities in Coveo, and the inability for the Jive documents to appear in search results due to the documents no longer having any permissions associated to to them.<br><br><b>Note</b>: This provides a good example of the importance to thoroughly test in a pre-prod environment any upgrade of a system to which Coveo must connect.<br>\\u00a0\\n<h1>Cause: Accidental Removal of the Coveo Plugin</h1>\\nThe Coveo Jive plugin could also have been manually accidentally removed from the Jive Server. The consequence would be the same as described above.\\n\\n<h2>\\u00a0</h2>\\n\\n<h1>Diagnosing this issue</h1>\\nIn the <b>absence of the Coveo Jive plugin</b>, admins of Cove Enterprise Search on-premises servers may see the following in the index log when they try to index a Jive source:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\nERROR 08:12:00 AM Error with ID &#39;JIVE_PLUGIN_UNAVAILABLE&#39;: The Coveo plugin is not installed or detected. The permissions cannot be indexed. You must manually configure the permissions on the source or install the plugin.</pre>\\n<br><b>After re-installing the Coveo Jive plugin,</b> the items are now crawled, they are accessible in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/finding_documents_using_the_index_browser.htm\\\" target=\\\"_blank\\\">index browser</a>\\u00a0, but you can&#39;t see all of them or some of them in your Coveo Search page. Furthermore, the <b>indexed permissions are empty</b> when you try to browse them in the CES Index Browser.\\n\\n<p>Admins of Cove Enterprise Search on-premises servers\\u00a0may see in the following WARNINGS system logs:</p>\\n\\n<pre class=\\\"ckeditor_codeblock\\\">\\n|WARNING|2017-08-19|00:03:52|0|Entity not found by the security provider, disabling it: &lt;Member name=&quot;GROUP_NAME&quot; type=&quot;VirtualGroup&quot;&gt;...</pre>\\n<br>This means that the security entities were disabled because the security provider has thrown the exception SecurityEntityNotFoundException when trying to connect to Jive when the plugin was no longer present. This causes the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/what_is_a_security_cache.htm\\\" target=\\\"_blank\\\">security cache</a> to clear the relationships and to skip the entity update.\\n\\n<p>This explains why the documents weren&#39;t shown in the search results since Jive plugin was uninstalled and reinstalled. So while there was no Coveo Jive plugin installed on the Jive server,\\u00a0entities could not be found during security cache update.Hence unfound entities were all disabled.<br>\\u00a0</p>\\n<br>\\u00a0\"], \"sfislatestversion\": [true], \"kav_release_date__c\": [\"TBD\"], \"contenttype\": [\"binarydata\"], \"sfurlname\": [\"2594\"], \"ka_id\": [\"kA10d0000004MLaCAM\"], \"kav_datacategoryselections.datacategoryname\": [\"Coveo_Enterprise_Search;Configuration\"], \"coveo_url\": [\"https://na61.salesforce.com/kA10d0000004MLa\"], \"kav_urlname\": [\"2594\"], \"sfreleasedatec\": [\"TBD\"], \"kav_dc_expanded_product\": [\"All;All|Coveo Enterprise Search\"], \"foldingcollection\": [\"2d6539cf64f7c23f38cb925df83db110f5b1796521a75f34eda766aad016\"], \"body\": [\"<html>   <body>     <div style=\\\"background-color: #fff;border: 2px solid #BBC5CC;border-radius: 4px;float: left;font-family: lato;margin-left: 15px;margin-right: 15px;margin-bottom: 4%;padding: 10px;width: 60%;\\\">       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Description         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> <h1>Symptoms</h1>\\n\\n<ul><li>Results from Jive have suddenly stopped being returned in a search interface.</li><li>Coveo Jive plugin no longer present on the Jive instance.</li><li>Possibly follows a Jive upgrade.</li><li>Empty permissions on the Jive documents in the Coveo Enterprise Search Index Browser.</li></ul>\\n<br>As a part of Coveo Jive connector requirement, You need to <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/installing_the_coveo_plugin_on_your_jive_server.htm\\\" target=\\\"_blank\\\">install </a>the Coveo Plugin on your Jive Server. This KB explains the consequences of uninstalling the\\u00a0Coveo Plugin on your Jive Server and how to address them.<br><br>\\u00a0</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Environment         </div>       </div>       <br/>       <table>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Product</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Sitecore Version</td>           <td>N/A</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Connector</td>           <td>N/A</td>         </tr>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Published</td>           <td>1512495322</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Version</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Build</td>           <td>All Builds before December 2017</td>         </tr>       </table>       <br/>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Cause         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> <h1>Cause: Jive Upgrades</h1>\\nSome Jive upgrades have shown to remove the Coveo plugin from Jive instances. In such occurrences subsequent security cache updates failed, leading to the disabling of Jive permission entities in Coveo, and the inability for the Jive documents to appear in search results due to the documents no longer having any permissions associated to to them.<br><br><b>Note</b>: This provides a good example of the importance to thoroughly test in a pre-prod environment any upgrade of a system to which Coveo must connect.<br>\\u00a0\\n<h1>Cause: Accidental Removal of the Coveo Plugin</h1>\\nThe Coveo Jive plugin could also have been manually accidentally removed from the Jive Server. The consequence would be the same as described above.\\n\\n<h2>\\u00a0</h2>\\n\\n<h1>Diagnosing this issue</h1>\\nIn the <b>absence of the Coveo Jive plugin</b>, admins of Cove Enterprise Search on-premises servers may see the following in the index log when they try to index a Jive source:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\nERROR 08:12:00 AM Error with ID &#39;JIVE_PLUGIN_UNAVAILABLE&#39;: The Coveo plugin is not installed or detected. The permissions cannot be indexed. You must manually configure the permissions on the source or install the plugin.</pre>\\n<br><b>After re-installing the Coveo Jive plugin,</b> the items are now crawled, they are accessible in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/finding_documents_using_the_index_browser.htm\\\" target=\\\"_blank\\\">index browser</a>\\u00a0, but you can&#39;t see all of them or some of them in your Coveo Search page. Furthermore, the <b>indexed permissions are empty</b> when you try to browse them in the CES Index Browser.\\n\\n<p>Admins of Cove Enterprise Search on-premises servers\\u00a0may see in the following WARNINGS system logs:</p>\\n\\n<pre class=\\\"ckeditor_codeblock\\\">\\n|WARNING|2017-08-19|00:03:52|0|Entity not found by the security provider, disabling it: &lt;Member name=&quot;GROUP_NAME&quot; type=&quot;VirtualGroup&quot;&gt;...</pre>\\n<br>This means that the security entities were disabled because the security provider has thrown the exception SecurityEntityNotFoundException when trying to connect to Jive when the plugin was no longer present. This causes the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/what_is_a_security_cache.htm\\\" target=\\\"_blank\\\">security cache</a> to clear the relationships and to skip the entity update.\\n\\n<p>This explains why the documents weren&#39;t shown in the search results since Jive plugin was uninstalled and reinstalled. So while there was no Coveo Jive plugin installed on the Jive server,\\u00a0entities could not be found during security cache update.Hence unfound entities were all disabled.<br>\\u00a0</p>\\n<br>\\u00a0</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Resolution         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> Why the disabled entities were not enabled automatically after Coveo Jive plugin was reinstalled on the Jive server?\\n<ul><li><span style=\\\"font-size: 18px;\\\"><u><b>Two reasons:</b></u></span></li></ul>\\n\\n<ol><li>A rebuild of the source is necessary. A rebuild completely re-indexes the content and permissions of all the documents from the repository, even those that have not been modified since the last indexing date. A full refresh re-indexes the permissions of all documents and re-indexes the content ONLY for the ones that are found to be new, modified, or deleted since the last rebuild, full refresh, or incremental refresh.</li><li>A bug in the security cache is keeping the disabled entities from not being re-enabled even when a source is refreshed.</li></ol>\\n<span style=\\\"color: #FF0000;\\\"><b>Note: This bug will be fixed in Coveo Enterprise Search December 2017 <a href=\\\"http://productupdate.coveo.com/en/\\\" target=\\\"_blank\\\">Release</a>\\u00a0</b></span>\\n\\n<ul><li><span style=\\\"font-size: 18px;\\\"><u><b>Two solutions are possible:</b></u></span></li></ul>\\n\\n<ol><li><b>After December 2017</b>, rebuild the Jive source. This solution might take a long time especially when we&#39;re talking about a big source</li><li><b>Before December 2017</b>, admins of Cove Enterprise Search on-premises servers may call the method <b>EnableDisabledSecurityEntities</b> or<b> EnableAllDisabledSecurityEntities</b> from the COM Admin API. Coveo Cloud customers may need to open a support ticket as they cannot run said script.</li></ol>\\nHere is the script:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\nOption Explicit\\nOn Error Goto 0\\n\\nCall Main()\\n\\n&#39;==============================================================================\\nSub Main()\\n    Echo &quot;Start Script&quot;\\n    Dim admin: Set admin = GetAdmin()\\n\\n    Echo &quot;Enabling disabled entities...&quot;\\n    admin.EnableDisabledSecurityEntities(&quot;ProviderName&quot;)\\n    Echo &quot;Done!&quot;\\n    admin.Disconnect\\n    Set admin = Nothing\\n\\n    Echo &quot;End Script&quot;\\nEnd Sub\\n\\n&#39;==============================================================================\\n&#39; GetAdmin\\n&#39;\\n&#39; Retrieves Admin object.\\n&#39;==============================================================================\\nFunction GetAdmin()\\n    Const CESADMIN_PROGID       = &quot;CESAdmin.Admin.7.0&quot;\\n    Const SERVER_NAME           = &quot;localhost&quot;\\n    Const DEFAULT_INSTANCE_NAME = &quot;default&quot;\\n    Const IMPERSONATE           = False\\n\\n    Set GetAdmin = CreateObject(CESADMIN_PROGID)\\n    Call GetAdmin.Connect(SERVER_NAME, DEFAULT_INSTANCE_NAME)\\nEnd Function\\n\\n&#39;==============================================================================\\nSub Echo(msg)\\n    WScript.Echo(msg)\\nEnd Sub</pre>\\n\\n<ul><li>Copy it and paste it into a .txt file</li><li>Rename the .txt file as CES7Admin-EnableDisabledSecurityEntities.vbs</li><li>Put the &quot;CES7Admin-EnableDisabledSecurityEntities.vbs&quot; file into your Coveo master server</li><li>Update the script with your provider name, on line 12, change\\u00a0<b>&quot;ProviderName&quot;</b> by your <b>Jive Security provider name</b></li><li>Save the file</li><li>Double click on it to run it</li></ul>\\n\\n<div><img alt=\\\"User-added image\\\" height=\\\"211\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCN\\\" width=\\\"500\\\"></img><br><img alt=\\\"User-added image\\\" height=\\\"207\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCS\\\" width=\\\"500\\\"></img><br><br><img alt=\\\"User-added image\\\" height=\\\"204\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCX\\\" width=\\\"500\\\"></img><br><br><img alt=\\\"User-added image\\\" height=\\\"206\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCc\\\" width=\\\"500\\\"></img><br><br><img alt=\\\"User-added image\\\" height=\\\"226\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCh\\\" width=\\\"500\\\"></img></div>\\nAll re-enabled security entities will be re-updated immediately, missing documents will become available in the Coveo search page within the next hours.<br><br>\\u00a0</div>     </div>   </body> </html>\"], \"sfpublishstatus\": [\"Online\"], \"sfcreatedbyid\": [\"00560000002MKBSAA4\"], \"kav_description__c__html_stripped\": [\"Symptoms \\n\\n Results from Jive have suddenly stopped being returned in a search interface. Coveo Jive plugin no longer present on the Jive instance. Possibly follows a Jive upgrade. Empty permissions on the Jive documents in the Coveo Enterprise Search Index Browser. \\n \\n As a part of Coveo Jive connector requirement, You need to  install  the Coveo Plugin on your Jive Server. This KB explains the consequences of uninstalling the\\u00a0Coveo Plugin on your Jive Server and how to address them. \\n \\n \\u00a0\"], \"kav_islatestversion\": [true], \"kav_knowledgearticleid\": [\"kA10d0000004MLaCAM\"], \"sfknowledgearticleid\": [\"kA10d0000004MLaCAM\"], \"sfownername\": [\"Karel Mpungi\"], \"kav_datacategoryselections.attribute.type\": [\"KB_Article__DataCategorySelection;KB_Article__DataCategorySelection\"], \"detectedtitle\": [\"Description\"], \"kav_createddate\": [1512495276], \"kav_build__c\": [\"All Builds before December 2017\"], \"language\": [\"English\"], \"coveo_foldingchild\": [\"69a1b57d3fbae53a1770e6bace3216245d8c16e7951dd04d9e2444143c0e\"], \"sfownerid\": [\"00560000002MKBSAA4\"], \"kav_createdby.coveo_record_size\": [2], \"kav_systemmodstamp\": [1517053488], \"objecttype\": [\"KB Article\"], \"connectortype\": [\"Salesforce2\"], \"kav_coveo_record_size\": [4], \"originaluri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US\"], \"sfisvisibleincsp\": [true], \"convertertype\": [\"TYPE_HTML\"], \"filetype\": [\"SalesforceItem\"], \"kav_owner.name\": [\"Karel Mpungi\"], \"sfcoveoversionc\": [\"On-prem or Cloud\"], \"sfdcexpandedarticletype\": [\"All;All|Problem/Fix\"], \"objecttypelabelplural\": [\"KB Articles\"], \"sfcurrencyisocode\": [\"USD\"], \"sfisdeleted\": [false], \"extractedsize\": [11294], \"size\": [15923], \"kav_publishstatus\": [\"Online\"], \"kav_connector__c\": [\"N/A\"], \"generateexcerpt\": [true], \"sfdescriptionc\": [\"<h1>Symptoms</h1>\\n\\n<ul><li>Results from Jive have suddenly stopped being returned in a search interface.</li><li>Coveo Jive plugin no longer present on the Jive instance.</li><li>Possibly follows a Jive upgrade.</li><li>Empty permissions on the Jive documents in the Coveo Enterprise Search Index Browser.</li></ul>\\n<br>As a part of Coveo Jive connector requirement, You need to <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/installing_the_coveo_plugin_on_your_jive_server.htm\\\" target=\\\"_blank\\\">install </a>the Coveo Plugin on your Jive Server. This KB explains the consequences of uninstalling the\\u00a0Coveo Plugin on your Jive Server and how to address them.<br><br>\\u00a0\"], \"sfarticletype\": [\"KB_Article__kav\"], \"kav_articletype\": [\"KB_Article__kav\"], \"kav_lastmodifieddate\": [1512495322], \"documenttype\": [\"article\"], \"sfkbarticlekavid\": [\"ka10d0000004TYGAA2\"], \"kav_currencyisocode\": [\"USD\"], \"foldingparent\": [\"69a1b57d3fbae53a1770e6bace3216245d8c16e7951dd04d9e2444143c0e\"], \"mappingtype\": [\"KB_Article\"], \"kav_isvisibleinpkb\": [true], \"kav_sourceid\": [\"5000d00001EuU1FAAV\"], \"sfkbversionnumber\": [6], \"kav_isvisibleinapp\": [true], \"kav_resolution__c\": [\"Why the disabled entities were not enabled automatically after Coveo Jive plugin was reinstalled on the Jive server?\\n<ul><li><span style=\\\"font-size: 18px;\\\"><u><b>Two reasons:</b></u></span></li></ul>\\n\\n<ol><li>A rebuild of the source is necessary. A rebuild completely re-indexes the content and permissions of all the documents from the repository, even those that have not been modified since the last indexing date. A full refresh re-indexes the permissions of all documents and re-indexes the content ONLY for the ones that are found to be new, modified, or deleted since the last rebuild, full refresh, or incremental refresh.</li><li>A bug in the security cache is keeping the disabled entities from not being re-enabled even when a source is refreshed.</li></ol>\\n<span style=\\\"color: #FF0000;\\\"><b>Note: This bug will be fixed in Coveo Enterprise Search December 2017 <a href=\\\"http://productupdate.coveo.com/en/\\\" target=\\\"_blank\\\">Release</a>\\u00a0</b></span>\\n\\n<ul><li><span style=\\\"font-size: 18px;\\\"><u><b>Two solutions are possible:</b></u></span></li></ul>\\n\\n<ol><li><b>After December 2017</b>, rebuild the Jive source. This solution might take a long time especially when we&#39;re talking about a big source</li><li><b>Before December 2017</b>, admins of Cove Enterprise Search on-premises servers may call the method <b>EnableDisabledSecurityEntities</b> or<b> EnableAllDisabledSecurityEntities</b> from the COM Admin API. Coveo Cloud customers may need to open a support ticket as they cannot run said script.</li></ol>\\nHere is the script:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\nOption Explicit\\nOn Error Goto 0\\n\\nCall Main()\\n\\n&#39;==============================================================================\\nSub Main()\\n    Echo &quot;Start Script&quot;\\n    Dim admin: Set admin = GetAdmin()\\n\\n    Echo &quot;Enabling disabled entities...&quot;\\n    admin.EnableDisabledSecurityEntities(&quot;ProviderName&quot;)\\n    Echo &quot;Done!&quot;\\n    admin.Disconnect\\n    Set admin = Nothing\\n\\n    Echo &quot;End Script&quot;\\nEnd Sub\\n\\n&#39;==============================================================================\\n&#39; GetAdmin\\n&#39;\\n&#39; Retrieves Admin object.\\n&#39;==============================================================================\\nFunction GetAdmin()\\n    Const CESADMIN_PROGID       = &quot;CESAdmin.Admin.7.0&quot;\\n    Const SERVER_NAME           = &quot;localhost&quot;\\n    Const DEFAULT_INSTANCE_NAME = &quot;default&quot;\\n    Const IMPERSONATE           = False\\n\\n    Set GetAdmin = CreateObject(CESADMIN_PROGID)\\n    Call GetAdmin.Connect(SERVER_NAME, DEFAULT_INSTANCE_NAME)\\nEnd Function\\n\\n&#39;==============================================================================\\nSub Echo(msg)\\n    WScript.Echo(msg)\\nEnd Sub</pre>\\n\\n<ul><li>Copy it and paste it into a .txt file</li><li>Rename the .txt file as CES7Admin-EnableDisabledSecurityEntities.vbs</li><li>Put the &quot;CES7Admin-EnableDisabledSecurityEntities.vbs&quot; file into your Coveo master server</li><li>Update the script with your provider name, on line 12, change\\u00a0<b>&quot;ProviderName&quot;</b> by your <b>Jive Security provider name</b></li><li>Save the file</li><li>Double click on it to run it</li></ul>\\n\\n<div><img alt=\\\"User-added image\\\" height=\\\"211\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCN\\\" width=\\\"500\\\"></img><br><img alt=\\\"User-added image\\\" height=\\\"207\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCS\\\" width=\\\"500\\\"></img><br><br><img alt=\\\"User-added image\\\" height=\\\"204\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCX\\\" width=\\\"500\\\"></img><br><br><img alt=\\\"User-added image\\\" height=\\\"206\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCc\\\" width=\\\"500\\\"></img><br><br><img alt=\\\"User-added image\\\" height=\\\"226\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCh\\\" width=\\\"500\\\"></img></div>\\nAll re-enabled security entities will be re-updated immediately, missing documents will become available in the Coveo search page within the next hours.<br><br>\\u00a0\"], \"coveo_objecttype\": [\"KB_Article\"], \"printableuri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US\"], \"kav_datacategoryselections.attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o0d000000m80nAAA;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o0d000000m80oAAA\"], \"kav_id\": [\"ka10d0000004TYGAA2\"], \"sfresolutionc\": [\"Why the disabled entities were not enabled automatically after Coveo Jive plugin was reinstalled on the Jive server?\\n<ul><li><span style=\\\"font-size: 18px;\\\"><u><b>Two reasons:</b></u></span></li></ul>\\n\\n<ol><li>A rebuild of the source is necessary. A rebuild completely re-indexes the content and permissions of all the documents from the repository, even those that have not been modified since the last indexing date. A full refresh re-indexes the permissions of all documents and re-indexes the content ONLY for the ones that are found to be new, modified, or deleted since the last rebuild, full refresh, or incremental refresh.</li><li>A bug in the security cache is keeping the disabled entities from not being re-enabled even when a source is refreshed.</li></ol>\\n<span style=\\\"color: #FF0000;\\\"><b>Note: This bug will be fixed in Coveo Enterprise Search December 2017 <a href=\\\"http://productupdate.coveo.com/en/\\\" target=\\\"_blank\\\">Release</a>\\u00a0</b></span>\\n\\n<ul><li><span style=\\\"font-size: 18px;\\\"><u><b>Two solutions are possible:</b></u></span></li></ul>\\n\\n<ol><li><b>After December 2017</b>, rebuild the Jive source. This solution might take a long time especially when we&#39;re talking about a big source</li><li><b>Before December 2017</b>, admins of Cove Enterprise Search on-premises servers may call the method <b>EnableDisabledSecurityEntities</b> or<b> EnableAllDisabledSecurityEntities</b> from the COM Admin API. Coveo Cloud customers may need to open a support ticket as they cannot run said script.</li></ol>\\nHere is the script:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\nOption Explicit\\nOn Error Goto 0\\n\\nCall Main()\\n\\n&#39;==============================================================================\\nSub Main()\\n    Echo &quot;Start Script&quot;\\n    Dim admin: Set admin = GetAdmin()\\n\\n    Echo &quot;Enabling disabled entities...&quot;\\n    admin.EnableDisabledSecurityEntities(&quot;ProviderName&quot;)\\n    Echo &quot;Done!&quot;\\n    admin.Disconnect\\n    Set admin = Nothing\\n\\n    Echo &quot;End Script&quot;\\nEnd Sub\\n\\n&#39;==============================================================================\\n&#39; GetAdmin\\n&#39;\\n&#39; Retrieves Admin object.\\n&#39;==============================================================================\\nFunction GetAdmin()\\n    Const CESADMIN_PROGID       = &quot;CESAdmin.Admin.7.0&quot;\\n    Const SERVER_NAME           = &quot;localhost&quot;\\n    Const DEFAULT_INSTANCE_NAME = &quot;default&quot;\\n    Const IMPERSONATE           = False\\n\\n    Set GetAdmin = CreateObject(CESADMIN_PROGID)\\n    Call GetAdmin.Connect(SERVER_NAME, DEFAULT_INSTANCE_NAME)\\nEnd Function\\n\\n&#39;==============================================================================\\nSub Echo(msg)\\n    WScript.Echo(msg)\\nEnd Sub</pre>\\n\\n<ul><li>Copy it and paste it into a .txt file</li><li>Rename the .txt file as CES7Admin-EnableDisabledSecurityEntities.vbs</li><li>Put the &quot;CES7Admin-EnableDisabledSecurityEntities.vbs&quot; file into your Coveo master server</li><li>Update the script with your provider name, on line 12, change\\u00a0<b>&quot;ProviderName&quot;</b> by your <b>Jive Security provider name</b></li><li>Save the file</li><li>Double click on it to run it</li></ul>\\n\\n<div><img alt=\\\"User-added image\\\" height=\\\"211\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCN\\\" width=\\\"500\\\"></img><br><img alt=\\\"User-added image\\\" height=\\\"207\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCS\\\" width=\\\"500\\\"></img><br><br><img alt=\\\"User-added image\\\" height=\\\"204\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCX\\\" width=\\\"500\\\"></img><br><br><img alt=\\\"User-added image\\\" height=\\\"206\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCc\\\" width=\\\"500\\\"></img><br><br><img alt=\\\"User-added image\\\" height=\\\"226\\\" src=\\\"https://c.na61.content.force.com/servlet/rtaImage?eid=ka10d0000004TYG&amp;feoid=00N32000002zy1J&amp;refid=0EM0d0000001yCh\\\" width=\\\"500\\\"></img></div>\\nAll re-enabled security entities will be re-updated immediately, missing documents will become available in the Coveo search page within the next hours.<br><br>\\u00a0\"], \"foldingchild\": [\"69a1b57d3fbae53a1770e6bace3216245d8c16e7951dd04d9e2444143c0e\"], \"sfcreateddate\": [1512495276], \"kav_sitecore_version__c\": [\"N/A\"], \"kav_owner.coveo_record_size\": [2], \"kav_coveo_effective_modstamp\": [1517053488], \"kav_summary__html_stripped\": [\"\"], \"kav_dc_article_type\": [\"Problem/Fix\"], \"sfconnectorc\": [\"N/A\"], \"kav_dc_product\": [\"Coveo Enterprise Search\"], \"ka_coveo_record_size\": [2], \"kav_dc_expanded_article_type\": [\"All;All|Problem/Fix\"], \"kav_datacategoryselections.coveo_record_size\": [\"2;2\"], \"concepts\": [\"Coveo Jive ; upgrades ; uninstalling ; Cove Enterprise ; index browser ; script ; re-indexes ; support ticket ; Cloud customers ; method EnableDisabledSecurityEntities ; ProviderName ; EnableAllDisabledSecurityEntities\"], \"sfkbid\": [\"kA10d0000004MLaCAM\"], \"kav_firstpublisheddate\": [1505834737], \"coveo_organization_id\": [\"00D3000000007r2\"], \"coveo_foldingcollection\": [\"2d6539cf64f7c23f38cb925df83db110f5b1796521a75f34eda766aad016\"], \"sffirstpublisheddate\": [1505834737], \"sflastmodifieddate\": [1512495322], \"kav_coveo_version__c\": [\"On-prem or Cloud\"], \"kav_vendor_version__c__html_stripped\": [\"\"], \"detectedlanguage\": [1], \"kav_isvisibleinprm\": [true], \"kav_owner.attribute.type\": [\"Name\"], \"kav_lastmodifiedby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000001R0bkAAC\"], \"sitename\": [\"Community\"], \"kav_createdby.name\": [\"Karel Mpungi\"], \"sfarticlenumber\": [\"000002594\"], \"kav_lastmodifiedby.coveo_record_size\": [2], \"sfisvisibleinpkb\": [true], \"kav_datacategoryselections.id\": [\"02o0d000000m80nAAA;02o0d000000m80oAAA\"], \"kav_description__c\": [\"<h1>Symptoms</h1>\\n\\n<ul><li>Results from Jive have suddenly stopped being returned in a search interface.</li><li>Coveo Jive plugin no longer present on the Jive instance.</li><li>Possibly follows a Jive upgrade.</li><li>Empty permissions on the Jive documents in the Coveo Enterprise Search Index Browser.</li></ul>\\n<br>As a part of Coveo Jive connector requirement, You need to <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/installing_the_coveo_plugin_on_your_jive_server.htm\\\" target=\\\"_blank\\\">install </a>the Coveo Plugin on your Jive Server. This KB explains the consequences of uninstalling the\\u00a0Coveo Plugin on your Jive Server and how to address them.<br><br>\\u00a0\"], \"kav_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__kav/ka10d0000004TYGAA2\"], \"kav_articlenumber__stripped\": [\"2594\"], \"sfversionnumber\": [6], \"kav_attribute.type\": [\"KB_Article__kav\"], \"kav_validationstatus\": [\"Reviewed\"], \"coveo_foldingparent\": [\"69a1b57d3fbae53a1770e6bace3216245d8c16e7951dd04d9e2444143c0e\"], \"collection\": [\"default\"], \"sfcausec\": [\"<h1>Cause: Jive Upgrades</h1>\\nSome Jive upgrades have shown to remove the Coveo plugin from Jive instances. In such occurrences subsequent security cache updates failed, leading to the disabling of Jive permission entities in Coveo, and the inability for the Jive documents to appear in search results due to the documents no longer having any permissions associated to to them.<br><br><b>Note</b>: This provides a good example of the importance to thoroughly test in a pre-prod environment any upgrade of a system to which Coveo must connect.<br>\\u00a0\\n<h1>Cause: Accidental Removal of the Coveo Plugin</h1>\\nThe Coveo Jive plugin could also have been manually accidentally removed from the Jive Server. The consequence would be the same as described above.\\n\\n<h2>\\u00a0</h2>\\n\\n<h1>Diagnosing this issue</h1>\\nIn the <b>absence of the Coveo Jive plugin</b>, admins of Cove Enterprise Search on-premises servers may see the following in the index log when they try to index a Jive source:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\nERROR 08:12:00 AM Error with ID &#39;JIVE_PLUGIN_UNAVAILABLE&#39;: The Coveo plugin is not installed or detected. The permissions cannot be indexed. You must manually configure the permissions on the source or install the plugin.</pre>\\n<br><b>After re-installing the Coveo Jive plugin,</b> the items are now crawled, they are accessible in the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/finding_documents_using_the_index_browser.htm\\\" target=\\\"_blank\\\">index browser</a>\\u00a0, but you can&#39;t see all of them or some of them in your Coveo Search page. Furthermore, the <b>indexed permissions are empty</b> when you try to browse them in the CES Index Browser.\\n\\n<p>Admins of Cove Enterprise Search on-premises servers\\u00a0may see in the following WARNINGS system logs:</p>\\n\\n<pre class=\\\"ckeditor_codeblock\\\">\\n|WARNING|2017-08-19|00:03:52|0|Entity not found by the security provider, disabling it: &lt;Member name=&quot;GROUP_NAME&quot; type=&quot;VirtualGroup&quot;&gt;...</pre>\\n<br>This means that the security entities were disabled because the security provider has thrown the exception SecurityEntityNotFoundException when trying to connect to Jive when the plugin was no longer present. This causes the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/what_is_a_security_cache.htm\\\" target=\\\"_blank\\\">security cache</a> to clear the relationships and to skip the entity update.\\n\\n<p>This explains why the documents weren&#39;t shown in the search results since Jive plugin was uninstalled and reinstalled. So while there was no Coveo Jive plugin installed on the Jive server,\\u00a0entities could not be found during security cache update.Hence unfound entities were all disabled.<br>\\u00a0</p>\\n<br>\\u00a0\"], \"sfsourceid\": [\"5000d00001EuU1FAAV\"], \"date\": [1517053488], \"kav_lastmodifiedby.id\": [\"00560000001R0bkAAC\"], \"kav_datacategoryselections.datacategorygroupname\": [\"Product;Article_Type\"], \"conversionstate\": [0], \"sfvalidationstatus\": [\"Reviewed\"], \"kav_isdeleted\": [false], \"sflastmodifiedbyid\": [\"00560000001R0bkAAC\"], \"kav_lastmodifiedby.name\": [\"Jean-Fran\\u00e7ois Cadrin-Girard\"], \"kav_articlenumber\": [\"000002594\"], \"permanentid\": [\"dfc0a0cdfdf0d38b533a714e69d1c664f2a3949235d81d663385722fa924\"]}",
      "sfbuildc" : "All Builds before December 2017",
      "sflastmodifiedbyid" : "00560000001R0bkAAC",
      "syssfownerid" : "00560000002MKBSAA4",
      "sfsitecoreversionc" : "N/A",
      "sourcetype" : "Salesforce",
      "sysconnectortype" : "Salesforce2",
      "sftitle" : "Following an uninstall/reinstall of the Coveo Jive plugin and/or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page",
      "rowid" : 5493273,
      "syssfcreatedbyid" : "00560000002MKBSAA4",
      "sfdescriptionc" : "<h1>Symptoms</h1>\n\n<ul><li>Results from Jive have suddenly stopped being returned in a search interface.</li><li>Coveo Jive plugin no longer present on the Jive instance.</li><li>Possibly follows a Jive upgrade.</li><li>Empty permissions on the Jive documents in the Coveo Enterprise Search Index Browser.</li></ul>\n<br>As a part of Coveo Jive connector requirement, You need to <a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/installing_the_coveo_plugin_on_your_jive_server.htm\" target=\"_blank\">install </a>the Coveo Plugin on your Jive Server. This KB explains the consequences of uninstalling the Coveo Plugin on your Jive Server and how to address them.<br><br> ",
      "size" : 15923,
      "sfislatestversion" : "true",
      "sysdocumenttype" : "article",
      "sfcreateddate" : 1512495276000,
      "sfsourceid" : "5000d00001EuU1FAAV",
      "clickableuri" : "https://na61.salesforce.com/kA10d0000004MLa",
      "syssource" : "Salesforce Public Items",
      "sfownerid" : "00560000002MKBSAA4",
      "orderingid" : 212384990660372077,
      "sfpublishstatus" : "Online",
      "syssize" : 15923,
      "sysdate" : 1517053488000,
      "sflanguage" : "en_US",
      "sysparents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Following an uninstall_reinstall of the Coveo Jive plugin and_or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page\" uri=\"https://na61.salesforce.com/kA10d0000004MLa\" /></parents>",
      "sfdcexpandedarticletype" : "All;All|Problem/Fix",
      "sfcurrencyisocode" : "USD",
      "sfkbid" : "kA10d0000004MLaCAM",
      "sfcausec" : "<h1>Cause: Jive Upgrades</h1>\nSome Jive upgrades have shown to remove the Coveo plugin from Jive instances. In such occurrences subsequent security cache updates failed, leading to the disabling of Jive permission entities in Coveo, and the inability for the Jive documents to appear in search results due to the documents no longer having any permissions associated to to them.<br><br><b>Note</b>: This provides a good example of the importance to thoroughly test in a pre-prod environment any upgrade of a system to which Coveo must connect.<br> \n<h1>Cause: Accidental Removal of the Coveo Plugin</h1>\nThe Coveo Jive plugin could also have been manually accidentally removed from the Jive Server. The consequence would be the same as described above.\n\n<h2> </h2>\n\n<h1>Diagnosing this issue</h1>\nIn the <b>absence of the Coveo Jive plugin</b>, admins of Cove Enterprise Search on-premises servers may see the following in the index log when they try to index a Jive source:<br> \n<pre class=\"ckeditor_codeblock\">\nERROR 08:12:00 AM Error with ID &#39;JIVE_PLUGIN_UNAVAILABLE&#39;: The Coveo plugin is not installed or detected. The permissions cannot be indexed. You must manually configure the permissions on the source or install the plugin.</pre>\n<br><b>After re-installing the Coveo Jive plugin,</b> the items are now crawled, they are accessible in the <a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/finding_documents_using_the_index_browser.htm\" target=\"_blank\">index browser</a> , but you can&#39;t see all of them or some of them in your Coveo Search page. Furthermore, the <b>indexed permissions are empty</b> when you try to browse them in the CES Index Browser.\n\n<p>Admins of Cove Enterprise Search on-premises servers may see in the following WARNINGS system logs:</p>\n\n<pre class=\"ckeditor_codeblock\">\n|WARNING|2017-08-19|00:03:52|0|Entity not found by the security provider, disabling it: &lt;Member name=&quot;GROUP_NAME&quot; type=&quot;VirtualGroup&quot;&gt;...</pre>\n<br>This means that the security entities were disabled because the security provider has thrown the exception SecurityEntityNotFoundException when trying to connect to Jive when the plugin was no longer present. This causes the <a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/what_is_a_security_cache.htm\" target=\"_blank\">security cache</a> to clear the relationships and to skip the entity update.\n\n<p>This explains why the documents weren&#39;t shown in the search results since Jive plugin was uninstalled and reinstalled. So while there was no Coveo Jive plugin installed on the Jive server, entities could not be found during security cache update.Hence unfound entities were all disabled.<br> </p>\n<br> ",
      "sfdcexpandedproduct" : "All;All|Coveo Enterprise Search",
      "syssfcreateddate" : 1512495276000,
      "sflastmodifieddate" : 1512495322000,
      "sfisvisibleinpkb" : "true",
      "source" : "Salesforce Public Items",
      "sfisdeleted" : "false",
      "sfisvisibleincsp" : "true",
      "sfvalidationstatus" : "Reviewed",
      "sflastmodifiedbyname" : "Jean-François Cadrin-Girard",
      "collection" : "default",
      "sfdcproduct" : [ "Coveo Enterprise Search" ],
      "syssourcetype" : "Salesforce",
      "sfarticletype" : "KB_Article__kav",
      "indexeddate" : 1518187596000,
      "connectortype" : "Salesforce2",
      "filetype" : "SalesforceItem",
      "sfcreatedbyname" : "Karel Mpungi",
      "sysclickableuri" : "https://na61.salesforce.com/kA10d0000004MLa",
      "sysfiletype" : "SalesforceItem",
      "language" : [ "English" ],
      "sffirstpublisheddate" : 1505834737000,
      "sfownername" : "Karel Mpungi",
      "sitename" : "Community",
      "sysrowid" : 5493273,
      "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US",
      "syscollection" : "default"
    },
    "Title" : "Following an uninstall_reinstall of the Coveo Jive plugin and_or following a Jive upgrade, Jive items are not retrievable in the Coveo Search page",
    "Uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US",
    "PrintableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US",
    "ClickUri" : "https://na61.salesforce.com/kA10d0000004MLa",
    "UniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MLaCAM/language:en_US",
    "Excerpt" : "Results from Jive have suddenly stopped being returned in a search interface. ... As a part of Coveo Jive connector requirement, You need to install the Coveo Plugin on your Jive Server. ... This K...",
    "FirstSentences" : null
  }