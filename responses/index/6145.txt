{
    "title" : "Troubleshooting High CPU and Memory Consumption for Any CES Services",
    "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US",
    "printableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US",
    "clickUri" : "https://na61.salesforce.com/kA13200000007AF",
    "uniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US",
    "excerpt" : "This article explains how to put in place a mechanism that allow you to generate Dump files when the CPU and/or Memory consumption of a given CES service exceed a certain amount. ... This type of p...",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1348,
    "percentScore" : 82.61547,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "Troubleshooting High CPU and Memory Consumption for Any CES Services",
      "sysurihash" : "7wBlBgtzUhG0fu48",
      "urihash" : "7wBlBgtzUhG0fu48",
      "parents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Troubleshooting High CPU and Memory Consumption for Any CES Services\" uri=\"https://na61.salesforce.com/kA13200000007AF\" /></parents>",
      "sfdcarticletype" : "How To/Question",
      "sfresolutionc" : "<p>This procedure will put a trigger that will generate Dump files for all CES processes if the CPU usage exceed 99% for 30 seconds or if the Available Memory is less then 1% for 30 second.</p>\n\n<ol><li>Download and Install Debug Diagnostic Tool V2 (<a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=49924\" target=\"_blank\">https://www.microsoft.com/en-us/download/details.aspx?id=49924</a>)</li><li>Run the Debug Diag Collection Program (C:\\Program Files\\DebugDiag\\DebugDiag.Collection.exe)</li><li>From the &quot;Select Rule Type&quot; Window, choose <strong>Performance </strong>and click Next</li><li>From the &quot;Select Performance Rule Type&quot;, select <strong>Performance Counters</strong> and click Next</li><li>From the &quot;Select Performance Counters&quot;, click on <strong>Add Perf Triggers</strong></li><li>From the &quot;Add Counters&quot; Windows\n\t<ol><li>From the &quot;Available counters&quot; Menu, choose <strong>Processor </strong> and then <strong>%Processor Time</strong>  from the list</li><li>From the &quot;Instances of selected object&quot;, choose the <strong>Total</strong> to select all the processors</li><li>From the &quot;Available counters&quot; Menu, choose <strong>Memory </strong>and then Available MBytes</li><li>The final result should look like this. Click on <strong>Ok</strong><br>\t\t<img src=\"https://developers.coveo.com/download/attachments/34242978/Counters.PNG?version=3&amp;modificationDate=1458584258297&amp;api=v2\"></img></li></ol>\n\t</li><li>From the &quot;Select Performance Counters&quot; Window, click on <strong>Edit Thresholds</strong> for \\Memory\\Available MBytes and set it to<br>\t<img src=\"https://developers.coveo.com/download/attachments/34242978/MBTrhes.PNG?version=2&amp;modificationDate=1458592898950&amp;api=v2\"></img></li><li>From the &quot;Select Performance Counters&quot; Window, click on <strong>Edit Thresholds</strong> for \\Processor(_ Total)\\%Processor Time and set it to<br>\t<img src=\"https://developers.coveo.com/download/attachments/34242978/Processor%20Time%20Properties.PNG?version=1&amp;modificationDate=1458592647233&amp;api=v2\"></img></li><li>From the &quot;Select Performance Counters&quot; Window, click Next</li><li>From the &quot;Select Dump Targets&quot; Windows, click on <strong>Add Dump Target </strong>(This will indicate the processes you will Dump if the Counters set in step 6 a met)\n\t<ol><li>From the &quot;Add Dump Target&quot; Window, select <strong>Executable</strong> as the &quot;Target Type&quot;</li><li>From the list, select <strong>CESService7.exe</strong></li></ol>\n\t</li><li>Repeat step 10 for to also include these processes:\n\t<ol><li><strong>CESCustomCrawlers7.exe</strong></li><li><strong>CESConverter7.exe</strong></li></ol>\n\t</li><li>Click on Next</li><li>Configure the &quot;Configure UserDump Series&quot; so that it looks like this:<br>\t<img src=\"https://developers.coveo.com/download/attachments/34242978/Dump%20Settings.PNG?version=1&amp;modificationDate=1458592756407&amp;api=v2\"></img></li><li>Click on Next</li><li>Configure the location in which the Dumps will be generated</li><li>Select <strong>Activate the rule now</strong> and click on Finish</li></ol>\n\n<p>This procedure will generate a Full Dump of <strong>CESService7.exe, </strong><strong>CESCustomCrawlers7.exe </strong>and<strong> </strong><strong>CESConverter7.exe </strong>services if the available memory is below 1 Go for 30 seconds or if the CPu runs at 99% for more then 30 seconds.</p>",
      "sysuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US",
      "sysprintableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US",
      "sflastpublisheddate" : 1481842092000,
      "systransactionid" : 161139,
      "sfversionc" : "7.0",
      "sfurlname" : "1299",
      "sfsystemmodstamp" : 1516448720000,
      "sfisvisibleinapp" : "true",
      "sfcoveoversionc" : "Coveo Enterprise Search 7.0",
      "sysconcepts" : "memory ; CPu ; Dump ; consumption ; exe ; selected object ; Tool V2 ; Go ; CESConverter7 ; CESCustomCrawlers7 ; microsoft ; Resolution ; Environment",
      "sfkbversionnumber" : "2",
      "concepts" : "memory ; CPu ; Dump ; consumption ; exe ; selected object ; Tool V2 ; Go ; CESConverter7 ; CESCustomCrawlers7 ; microsoft ; Resolution ; Environment",
      "printableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US",
      "documenttype" : "article",
      "sfkbarticlekavid" : "ka132000000LJtwAAG",
      "sysindexeddate" : 1518187605000,
      "sfknowledgearticleid" : "kA13200000007AFCAY",
      "sfcreatedbyid" : "00560000003q7JgAAI",
      "sfconnectorc" : "N/A",
      "permanentid" : "59d642efd332058db72d142186897d7aed69884f46111c05d064ba76b3f3",
      "syslanguage" : [ "English" ],
      "transactionid" : 161139,
      "sfisvisibleinprm" : "true",
      "title" : "Troubleshooting High CPU and Memory Consumption for Any CES Services",
      "sfversionnumber" : 2,
      "sfarticlenumber" : "000001299",
      "date" : 1516448720000,
      "objecttype" : "KB Article",
      "allmetadatavalues" : "{\"kav_lastmodifiedby.attribute.type\": [\"User\"], \"coveo_short_id\": [\"kA13200000007AF\"], \"sflastmodifiedbyname\": [\"Frederic Cote\"], \"kav_coveo_version__c__html_stripped\": [\"Coveo Enterprise Search 7.0\"], \"fileextension\": [\"\"], \"sfdcexpandedproduct\": [\"All;All|Coveo Enterprise Search\"], \"kav_createdby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000003q7JgAAI\"], \"sflanguage\": [\"en_US\"], \"kav_createdby.attribute.type\": [\"User\"], \"kav_createdby.id\": [\"00560000003q7JgAAI\"], \"kav_language\": [\"en_US\"], \"sfsitecoreversionc\": [\"N/A\"], \"sourcetype\": [\"Salesforce\"], \"title\": [\"Troubleshooting High CPU and Memory Consumption for Any CES Services\"], \"source\": [\"Salesforce Public Items\"], \"kav_owner.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000003q7JgAAI\"], \"parents\": [\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-16\\\"?><parents><parent name=\\\"Organization\\\" uri=\\\"https://na61.salesforce.com/home/home.jsp\\\" /><parent name=\\\"KB_Article__ka\\\" uri=\\\"http://www.salesforce.com/org:organization/articletype:KB_Article\\\" /><parent name=\\\"Troubleshooting High CPU and Memory Consumption for Any CES Services\\\" uri=\\\"https://na61.salesforce.com/kA13200000007AF\\\" /></parents>\"], \"sfisvisibleinprm\": [true], \"kav_title\": [\"Troubleshooting High CPU and Memory Consumption for Any CES Services\"], \"kav_isvisibleincsp\": [true], \"hashtmlversion\": [true], \"sfarticletypec\": [\"How To\"], \"kav_version__c\": [\"7.0\"], \"kav_versionnumber\": [2], \"sfcreatedbyname\": [\"Frederic Cote\"], \"sflastpublisheddate\": [1481842092], \"objecttypelabel\": [\"KB Article\"], \"kav_cause__c__html_stripped\": [\"\"], \"originalhtmlcharset\": [1200], \"coveo_connector_hasbinarydata\": [false], \"kav_lastpublisheddate\": [1481842092], \"sfsystemmodstamp\": [1516448720], \"ka_attribute.type\": [\"KB_Article__ka\"], \"sfdcproduct\": [\"Coveo Enterprise Search\"], \"kav_resolution__c__html_stripped\": [\"This procedure will put a trigger that will generate Dump files for all CES processes if the CPU usage exceed 99% for 30 seconds or if the Available Memory is less then 1% for 30 second.\\n \\n\\n Download and Install Debug Diagnostic Tool V2 ( https://www.microsoft.com/en-us/download/details.aspx?id=49924 ) Run the Debug Diag Collection Program (C:\\\\Program Files\\\\DebugDiag\\\\DebugDiag.Collection.exe) From the \\\"Select Rule Type\\\" Window, choose\\u00a0 Performance\\u00a0 and click Next From the \\\"Select Performance Rule Type\\\", select\\u00a0 Performance Counters \\u00a0and click Next From the \\\"Select Performance Counters\\\", click on\\u00a0 Add Perf Triggers From the \\\"Add Counters\\\" Windows\\n\\t From the \\\"Available counters\\\" Menu, choose\\u00a0 Processor\\u00a0 \\u00a0and then\\u00a0 %Processor Time \\u00a0 from the list From the \\\"Instances of selected object\\\", choose the\\u00a0 Total \\u00a0to select all the processors From the \\\"Available counters\\\" Menu, choose\\u00a0 Memory\\u00a0 and then Available MBytes The final result should look like this. Click on\\u00a0 Ok \\n \\t\\t  \\n\\t From the \\\"Select Performance Counters\\\" Window, click on\\u00a0 Edit Thresholds \\u00a0for \\\\Memory\\\\Available MBytes and set it to \\n \\t  From the \\\"Select Performance Counters\\\" Window, click on\\u00a0 Edit Thresholds \\u00a0for \\\\Processor(_ Total)\\\\%Processor Time and set it to \\n \\t  From the \\\"Select Performance Counters\\\" Window, click Next From the\\u00a0\\\"Select Dump Targets\\\" Windows, click on\\u00a0 Add Dump Target\\u00a0 (This will indicate the processes you will Dump if the Counters set in step 6 a met)\\n\\t From the\\u00a0\\\"Add Dump Target\\\" Window, select\\u00a0 Executable \\u00a0as the \\\"Target Type\\\" From the list, select\\u00a0 CESService7.exe \\n\\t Repeat step 10 for to also include these processes:\\n\\t CESCustomCrawlers7.exe CESConverter7.exe \\n\\t Click on Next Configure the \\\"Configure UserDump Series\\\" so that it looks like this: \\n \\t  Click on Next Configure the location in which the Dumps will be generated Select\\u00a0 Activate the rule now \\u00a0and click on Finish \\n\\n This procedure will generate a Full Dump of\\u00a0 CESService7.exe,\\u00a0 CESCustomCrawlers7.exe\\u00a0 and \\u00a0 CESConverter7.exe\\u00a0 services if the available memory is below 1 Go for 30 seconds or if the CPu runs at 99% for more then 30 seconds.\\n\"], \"clickableuri\": [\"https://na61.salesforce.com/kA13200000007AF\"], \"kav_dc_expanded_product\": [\"All;All|Coveo Enterprise Search\"], \"sftitle\": [\"Troubleshooting High CPU and Memory Consumption for Any CES Services\"], \"kav_owner.id\": [\"00560000003q7JgAAI\"], \"sfbuildc\": [\"All\"], \"sfisvisibleinapp\": [true], \"ka_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__ka/kA13200000007AFCAY\"], \"sfdcarticletype\": [\"How To/Question\"], \"sfislatestversion\": [true], \"sfarticlenumber\": [\"000001299\"], \"contenttype\": [\"binarydata\"], \"sfurlname\": [\"1299\"], \"ka_id\": [\"kA13200000007AFCAY\"], \"kav_datacategoryselections.datacategoryname\": [\"Coveo_Enterprise_Search;How_To\"], \"coveo_url\": [\"https://na61.salesforce.com/kA13200000007AF\"], \"kav_urlname\": [\"1299\"], \"kav_articletype\": [\"KB_Article__kav\"], \"foldingcollection\": [\"3d60b66633a355073a96d5f69b21369d39d9cb3c5a45902553bfafff324d\"], \"body\": [\"<html>   <body>     <div style=\\\"background-color: #fff;border: 2px solid #BBC5CC;border-radius: 4px;float: left;font-family: lato;margin-left: 15px;margin-right: 15px;margin-bottom: 4%;padding: 10px;width: 60%;\\\">       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Description         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> <p>This article explains how to put in place a mechanism that allow you to generate Dump files when the CPU and/or Memory consumption of a given CES service exceed a certain amount.</p>\\n\\n<p>This type of procedure is particularly useful when one wants to understand why there&#39;s Spikes in resource&#39;s consumption at specific, or random, time for a given service</p></div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Environment         </div>       </div>       <br/>       <table>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Product</td>           <td>Coveo Enterprise Search</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Sitecore Version</td>           <td>N/A</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Connector</td>           <td>N/A</td>         </tr>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Published</td>           <td>1481842092</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Version</td>           <td>7.0</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Build</td>           <td>All</td>         </tr>       </table>       <br/>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Cause         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> </div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Resolution         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> <p>This procedure will put a trigger that will generate Dump files for all CES processes if the CPU usage exceed 99% for 30 seconds or if the Available Memory is less then 1% for 30 second.</p>\\n\\n<ol><li>Download and Install Debug Diagnostic Tool V2 (<a href=\\\"https://www.microsoft.com/en-us/download/details.aspx?id=49924\\\" target=\\\"_blank\\\">https://www.microsoft.com/en-us/download/details.aspx?id=49924</a>)</li><li>Run the Debug Diag Collection Program (C:\\\\Program Files\\\\DebugDiag\\\\DebugDiag.Collection.exe)</li><li>From the &quot;Select Rule Type&quot; Window, choose\\u00a0<strong>Performance\\u00a0</strong>and click Next</li><li>From the &quot;Select Performance Rule Type&quot;, select\\u00a0<strong>Performance Counters</strong>\\u00a0and click Next</li><li>From the &quot;Select Performance Counters&quot;, click on\\u00a0<strong>Add Perf Triggers</strong></li><li>From the &quot;Add Counters&quot; Windows\\n\\t<ol><li>From the &quot;Available counters&quot; Menu, choose\\u00a0<strong>Processor\\u00a0</strong>\\u00a0and then\\u00a0<strong>%Processor Time</strong>\\u00a0 from the list</li><li>From the &quot;Instances of selected object&quot;, choose the\\u00a0<strong>Total</strong>\\u00a0to select all the processors</li><li>From the &quot;Available counters&quot; Menu, choose\\u00a0<strong>Memory\\u00a0</strong>and then Available MBytes</li><li>The final result should look like this. Click on\\u00a0<strong>Ok</strong><br>\\t\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/Counters.PNG?version=3&amp;modificationDate=1458584258297&amp;api=v2\\\"></img></li></ol>\\n\\t</li><li>From the &quot;Select Performance Counters&quot; Window, click on\\u00a0<strong>Edit Thresholds</strong>\\u00a0for \\\\Memory\\\\Available MBytes and set it to<br>\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/MBTrhes.PNG?version=2&amp;modificationDate=1458592898950&amp;api=v2\\\"></img></li><li>From the &quot;Select Performance Counters&quot; Window, click on\\u00a0<strong>Edit Thresholds</strong>\\u00a0for \\\\Processor(_ Total)\\\\%Processor Time and set it to<br>\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/Processor%20Time%20Properties.PNG?version=1&amp;modificationDate=1458592647233&amp;api=v2\\\"></img></li><li>From the &quot;Select Performance Counters&quot; Window, click Next</li><li>From the\\u00a0&quot;Select Dump Targets&quot; Windows, click on\\u00a0<strong>Add Dump Target\\u00a0</strong>(This will indicate the processes you will Dump if the Counters set in step 6 a met)\\n\\t<ol><li>From the\\u00a0&quot;Add Dump Target&quot; Window, select\\u00a0<strong>Executable</strong>\\u00a0as the &quot;Target Type&quot;</li><li>From the list, select\\u00a0<strong>CESService7.exe</strong></li></ol>\\n\\t</li><li>Repeat step 10 for to also include these processes:\\n\\t<ol><li><strong>CESCustomCrawlers7.exe</strong></li><li><strong>CESConverter7.exe</strong></li></ol>\\n\\t</li><li>Click on Next</li><li>Configure the &quot;Configure UserDump Series&quot; so that it looks like this:<br>\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/Dump%20Settings.PNG?version=1&amp;modificationDate=1458592756407&amp;api=v2\\\"></img></li><li>Click on Next</li><li>Configure the location in which the Dumps will be generated</li><li>Select\\u00a0<strong>Activate the rule now</strong>\\u00a0and click on Finish</li></ol>\\n\\n<p>This procedure will generate a Full Dump of\\u00a0<strong>CESService7.exe,\\u00a0</strong><strong>CESCustomCrawlers7.exe\\u00a0</strong>and<strong>\\u00a0</strong><strong>CESConverter7.exe\\u00a0</strong>services if the available memory is below 1 Go for 30 seconds or if the CPu runs at 99% for more then 30 seconds.</p></div>     </div>   </body> </html>\"], \"kav_product__c\": [\"Coveo Enterprise Search\"], \"kav_article_type__c\": [\"How To\"], \"sfpublishstatus\": [\"Online\"], \"sfcreatedbyid\": [\"00560000003q7JgAAI\"], \"kav_description__c__html_stripped\": [\"This article explains how to put in place a mechanism that allow you to generate Dump files when the CPU and/or Memory consumption of a given CES service exceed a certain amount.\\n \\n\\n This type of procedure is particularly useful when one wants to understand why there's Spikes in resource's consumption at specific, or random, time for a given service\\n\"], \"kav_islatestversion\": [true], \"kav_knowledgearticleid\": [\"kA13200000007AFCAY\"], \"sfknowledgearticleid\": [\"kA13200000007AFCAY\"], \"sfownername\": [\"Frederic Cote\"], \"kav_datacategoryselections.attribute.type\": [\"KB_Article__DataCategorySelection;KB_Article__DataCategorySelection\"], \"detectedtitle\": [\"Description\"], \"kav_createddate\": [1481841960], \"kav_build__c\": [\"All\"], \"language\": [\"English\"], \"coveo_foldingchild\": [\"197f66415aa1d1d9af8d2a278f7b79e569008b15cd6f9f940319002cf652\"], \"sfownerid\": [\"00560000003q7JgAAI\"], \"kav_createdby.coveo_record_size\": [2], \"kav_systemmodstamp\": [1516448720], \"objecttype\": [\"KB Article\"], \"connectortype\": [\"Salesforce2\"], \"kav_coveo_record_size\": [4], \"originaluri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US\"], \"sfisvisibleincsp\": [true], \"convertertype\": [\"TYPE_HTML\"], \"filetype\": [\"SalesforceItem\"], \"kav_owner.name\": [\"Frederic Cote\"], \"sfcoveoversionc\": [\"Coveo Enterprise Search 7.0\"], \"sfdcexpandedarticletype\": [\"All;All|How To/Question\"], \"objecttypelabelplural\": [\"KB Articles\"], \"sfcurrencyisocode\": [\"CAD\"], \"sfisdeleted\": [false], \"extractedsize\": [5308], \"size\": [8675], \"kav_publishstatus\": [\"Online\"], \"kav_connector__c\": [\"N/A\"], \"generateexcerpt\": [true], \"sfdescriptionc\": [\"<p>This article explains how to put in place a mechanism that allow you to generate Dump files when the CPU and/or Memory consumption of a given CES service exceed a certain amount.</p>\\n\\n<p>This type of procedure is particularly useful when one wants to understand why there&#39;s Spikes in resource&#39;s consumption at specific, or random, time for a given service</p>\"], \"sfarticletype\": [\"KB_Article__kav\"], \"kav_lastmodifieddate\": [1481842092], \"documenttype\": [\"article\"], \"sfkbarticlekavid\": [\"ka132000000LJtwAAG\"], \"kav_currencyisocode\": [\"CAD\"], \"sfproductc\": [\"Coveo Enterprise Search\"], \"foldingparent\": [\"197f66415aa1d1d9af8d2a278f7b79e569008b15cd6f9f940319002cf652\"], \"mappingtype\": [\"KB_Article\"], \"kav_isvisibleinpkb\": [true], \"kav_sourceid\": [\"5003200000yxOV4AAM\"], \"sfkbversionnumber\": [2], \"kav_isvisibleinapp\": [true], \"kav_resolution__c\": [\"<p>This procedure will put a trigger that will generate Dump files for all CES processes if the CPU usage exceed 99% for 30 seconds or if the Available Memory is less then 1% for 30 second.</p>\\n\\n<ol><li>Download and Install Debug Diagnostic Tool V2 (<a href=\\\"https://www.microsoft.com/en-us/download/details.aspx?id=49924\\\" target=\\\"_blank\\\">https://www.microsoft.com/en-us/download/details.aspx?id=49924</a>)</li><li>Run the Debug Diag Collection Program (C:\\\\Program Files\\\\DebugDiag\\\\DebugDiag.Collection.exe)</li><li>From the &quot;Select Rule Type&quot; Window, choose\\u00a0<strong>Performance\\u00a0</strong>and click Next</li><li>From the &quot;Select Performance Rule Type&quot;, select\\u00a0<strong>Performance Counters</strong>\\u00a0and click Next</li><li>From the &quot;Select Performance Counters&quot;, click on\\u00a0<strong>Add Perf Triggers</strong></li><li>From the &quot;Add Counters&quot; Windows\\n\\t<ol><li>From the &quot;Available counters&quot; Menu, choose\\u00a0<strong>Processor\\u00a0</strong>\\u00a0and then\\u00a0<strong>%Processor Time</strong>\\u00a0 from the list</li><li>From the &quot;Instances of selected object&quot;, choose the\\u00a0<strong>Total</strong>\\u00a0to select all the processors</li><li>From the &quot;Available counters&quot; Menu, choose\\u00a0<strong>Memory\\u00a0</strong>and then Available MBytes</li><li>The final result should look like this. Click on\\u00a0<strong>Ok</strong><br>\\t\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/Counters.PNG?version=3&amp;modificationDate=1458584258297&amp;api=v2\\\"></img></li></ol>\\n\\t</li><li>From the &quot;Select Performance Counters&quot; Window, click on\\u00a0<strong>Edit Thresholds</strong>\\u00a0for \\\\Memory\\\\Available MBytes and set it to<br>\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/MBTrhes.PNG?version=2&amp;modificationDate=1458592898950&amp;api=v2\\\"></img></li><li>From the &quot;Select Performance Counters&quot; Window, click on\\u00a0<strong>Edit Thresholds</strong>\\u00a0for \\\\Processor(_ Total)\\\\%Processor Time and set it to<br>\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/Processor%20Time%20Properties.PNG?version=1&amp;modificationDate=1458592647233&amp;api=v2\\\"></img></li><li>From the &quot;Select Performance Counters&quot; Window, click Next</li><li>From the\\u00a0&quot;Select Dump Targets&quot; Windows, click on\\u00a0<strong>Add Dump Target\\u00a0</strong>(This will indicate the processes you will Dump if the Counters set in step 6 a met)\\n\\t<ol><li>From the\\u00a0&quot;Add Dump Target&quot; Window, select\\u00a0<strong>Executable</strong>\\u00a0as the &quot;Target Type&quot;</li><li>From the list, select\\u00a0<strong>CESService7.exe</strong></li></ol>\\n\\t</li><li>Repeat step 10 for to also include these processes:\\n\\t<ol><li><strong>CESCustomCrawlers7.exe</strong></li><li><strong>CESConverter7.exe</strong></li></ol>\\n\\t</li><li>Click on Next</li><li>Configure the &quot;Configure UserDump Series&quot; so that it looks like this:<br>\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/Dump%20Settings.PNG?version=1&amp;modificationDate=1458592756407&amp;api=v2\\\"></img></li><li>Click on Next</li><li>Configure the location in which the Dumps will be generated</li><li>Select\\u00a0<strong>Activate the rule now</strong>\\u00a0and click on Finish</li></ol>\\n\\n<p>This procedure will generate a Full Dump of\\u00a0<strong>CESService7.exe,\\u00a0</strong><strong>CESCustomCrawlers7.exe\\u00a0</strong>and<strong>\\u00a0</strong><strong>CESConverter7.exe\\u00a0</strong>services if the available memory is below 1 Go for 30 seconds or if the CPu runs at 99% for more then 30 seconds.</p>\"], \"coveo_objecttype\": [\"KB_Article\"], \"printableuri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US\"], \"kav_datacategoryselections.attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o32000000puTpAAI;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o32000000puTqAAI\"], \"kav_id\": [\"ka132000000LJtwAAG\"], \"sfresolutionc\": [\"<p>This procedure will put a trigger that will generate Dump files for all CES processes if the CPU usage exceed 99% for 30 seconds or if the Available Memory is less then 1% for 30 second.</p>\\n\\n<ol><li>Download and Install Debug Diagnostic Tool V2 (<a href=\\\"https://www.microsoft.com/en-us/download/details.aspx?id=49924\\\" target=\\\"_blank\\\">https://www.microsoft.com/en-us/download/details.aspx?id=49924</a>)</li><li>Run the Debug Diag Collection Program (C:\\\\Program Files\\\\DebugDiag\\\\DebugDiag.Collection.exe)</li><li>From the &quot;Select Rule Type&quot; Window, choose\\u00a0<strong>Performance\\u00a0</strong>and click Next</li><li>From the &quot;Select Performance Rule Type&quot;, select\\u00a0<strong>Performance Counters</strong>\\u00a0and click Next</li><li>From the &quot;Select Performance Counters&quot;, click on\\u00a0<strong>Add Perf Triggers</strong></li><li>From the &quot;Add Counters&quot; Windows\\n\\t<ol><li>From the &quot;Available counters&quot; Menu, choose\\u00a0<strong>Processor\\u00a0</strong>\\u00a0and then\\u00a0<strong>%Processor Time</strong>\\u00a0 from the list</li><li>From the &quot;Instances of selected object&quot;, choose the\\u00a0<strong>Total</strong>\\u00a0to select all the processors</li><li>From the &quot;Available counters&quot; Menu, choose\\u00a0<strong>Memory\\u00a0</strong>and then Available MBytes</li><li>The final result should look like this. Click on\\u00a0<strong>Ok</strong><br>\\t\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/Counters.PNG?version=3&amp;modificationDate=1458584258297&amp;api=v2\\\"></img></li></ol>\\n\\t</li><li>From the &quot;Select Performance Counters&quot; Window, click on\\u00a0<strong>Edit Thresholds</strong>\\u00a0for \\\\Memory\\\\Available MBytes and set it to<br>\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/MBTrhes.PNG?version=2&amp;modificationDate=1458592898950&amp;api=v2\\\"></img></li><li>From the &quot;Select Performance Counters&quot; Window, click on\\u00a0<strong>Edit Thresholds</strong>\\u00a0for \\\\Processor(_ Total)\\\\%Processor Time and set it to<br>\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/Processor%20Time%20Properties.PNG?version=1&amp;modificationDate=1458592647233&amp;api=v2\\\"></img></li><li>From the &quot;Select Performance Counters&quot; Window, click Next</li><li>From the\\u00a0&quot;Select Dump Targets&quot; Windows, click on\\u00a0<strong>Add Dump Target\\u00a0</strong>(This will indicate the processes you will Dump if the Counters set in step 6 a met)\\n\\t<ol><li>From the\\u00a0&quot;Add Dump Target&quot; Window, select\\u00a0<strong>Executable</strong>\\u00a0as the &quot;Target Type&quot;</li><li>From the list, select\\u00a0<strong>CESService7.exe</strong></li></ol>\\n\\t</li><li>Repeat step 10 for to also include these processes:\\n\\t<ol><li><strong>CESCustomCrawlers7.exe</strong></li><li><strong>CESConverter7.exe</strong></li></ol>\\n\\t</li><li>Click on Next</li><li>Configure the &quot;Configure UserDump Series&quot; so that it looks like this:<br>\\t<img src=\\\"https://developers.coveo.com/download/attachments/34242978/Dump%20Settings.PNG?version=1&amp;modificationDate=1458592756407&amp;api=v2\\\"></img></li><li>Click on Next</li><li>Configure the location in which the Dumps will be generated</li><li>Select\\u00a0<strong>Activate the rule now</strong>\\u00a0and click on Finish</li></ol>\\n\\n<p>This procedure will generate a Full Dump of\\u00a0<strong>CESService7.exe,\\u00a0</strong><strong>CESCustomCrawlers7.exe\\u00a0</strong>and<strong>\\u00a0</strong><strong>CESConverter7.exe\\u00a0</strong>services if the available memory is below 1 Go for 30 seconds or if the CPu runs at 99% for more then 30 seconds.</p>\"], \"foldingchild\": [\"197f66415aa1d1d9af8d2a278f7b79e569008b15cd6f9f940319002cf652\"], \"sfcreateddate\": [1481841960], \"kav_sitecore_version__c\": [\"N/A\"], \"kav_owner.coveo_record_size\": [2], \"kav_coveo_effective_modstamp\": [1516448720], \"kav_summary__html_stripped\": [\"\"], \"kav_dc_article_type\": [\"How To/Question\"], \"sfconnectorc\": [\"N/A\"], \"kav_dc_product\": [\"Coveo Enterprise Search\"], \"ka_coveo_record_size\": [2], \"kav_dc_expanded_article_type\": [\"All;All|How To/Question\"], \"kav_datacategoryselections.coveo_record_size\": [\"2;2\"], \"concepts\": [\"memory ; CPu ; Dump ; consumption ; exe ; selected object ; Tool V2 ; Go ; CESConverter7 ; CESCustomCrawlers7 ; microsoft ; Resolution ; Environment\"], \"sfkbid\": [\"kA13200000007AFCAY\"], \"kav_firstpublisheddate\": [1459860841], \"coveo_organization_id\": [\"00D3000000007r2\"], \"coveo_foldingcollection\": [\"3d60b66633a355073a96d5f69b21369d39d9cb3c5a45902553bfafff324d\"], \"sffirstpublisheddate\": [1459860841], \"sflastmodifieddate\": [1481842092], \"kav_coveo_version__c\": [\"Coveo Enterprise Search 7.0\"], \"kav_vendor_version__c__html_stripped\": [\"\"], \"detectedlanguage\": [1], \"kav_isvisibleinprm\": [true], \"kav_owner.attribute.type\": [\"Name\"], \"kav_lastmodifiedby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000003q7JgAAI\"], \"sfversionc\": [\"7.0\"], \"sitename\": [\"Community\"], \"kav_createdby.name\": [\"Frederic Cote\"], \"kav_lastmodifiedby.coveo_record_size\": [2], \"sfisvisibleinpkb\": [true], \"kav_datacategoryselections.id\": [\"02o32000000puTpAAI;02o32000000puTqAAI\"], \"kav_description__c\": [\"<p>This article explains how to put in place a mechanism that allow you to generate Dump files when the CPU and/or Memory consumption of a given CES service exceed a certain amount.</p>\\n\\n<p>This type of procedure is particularly useful when one wants to understand why there&#39;s Spikes in resource&#39;s consumption at specific, or random, time for a given service</p>\"], \"kav_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__kav/ka132000000LJtwAAG\"], \"kav_articlenumber__stripped\": [\"1299\"], \"sfversionnumber\": [2], \"kav_attribute.type\": [\"KB_Article__kav\"], \"kav_validationstatus\": [\"Reviewed\"], \"coveo_foldingparent\": [\"197f66415aa1d1d9af8d2a278f7b79e569008b15cd6f9f940319002cf652\"], \"collection\": [\"default\"], \"sfsourceid\": [\"5003200000yxOV4AAM\"], \"date\": [1516448720], \"kav_lastmodifiedby.id\": [\"00560000003q7JgAAI\"], \"kav_datacategoryselections.datacategorygroupname\": [\"Product;Article_Type\"], \"conversionstate\": [0], \"sfvalidationstatus\": [\"Reviewed\"], \"kav_isdeleted\": [false], \"sflastmodifiedbyid\": [\"00560000003q7JgAAI\"], \"kav_lastmodifiedby.name\": [\"Frederic Cote\"], \"kav_articlenumber\": [\"000001299\"], \"permanentid\": [\"59d642efd332058db72d142186897d7aed69884f46111c05d064ba76b3f3\"]}",
      "sfbuildc" : "All",
      "sflastmodifiedbyid" : "00560000003q7JgAAI",
      "sfproductc" : "Coveo Enterprise Search",
      "syssfownerid" : "00560000003q7JgAAI",
      "sfsitecoreversionc" : "N/A",
      "sourcetype" : "Salesforce",
      "sysconnectortype" : "Salesforce2",
      "sftitle" : "Troubleshooting High CPU and Memory Consumption for Any CES Services",
      "rowid" : 5493426,
      "syssfcreatedbyid" : "00560000003q7JgAAI",
      "sfdescriptionc" : "<p>This article explains how to put in place a mechanism that allow you to generate Dump files when the CPU and/or Memory consumption of a given CES service exceed a certain amount.</p>\n\n<p>This type of procedure is particularly useful when one wants to understand why there&#39;s Spikes in resource&#39;s consumption at specific, or random, time for a given service</p>",
      "size" : 8675,
      "sfislatestversion" : "true",
      "sysdocumenttype" : "article",
      "sfcreateddate" : 1481841960000,
      "sfsourceid" : "5003200000yxOV4AAM",
      "clickableuri" : "https://na61.salesforce.com/kA13200000007AF",
      "syssource" : "Salesforce Public Items",
      "sfownerid" : "00560000003q7JgAAI",
      "orderingid" : 212384990660372235,
      "sfpublishstatus" : "Online",
      "syssize" : 8675,
      "sysdate" : 1516448720000,
      "sflanguage" : "en_US",
      "sysparents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"Troubleshooting High CPU and Memory Consumption for Any CES Services\" uri=\"https://na61.salesforce.com/kA13200000007AF\" /></parents>",
      "sfdcexpandedarticletype" : "All;All|How To/Question",
      "sfcurrencyisocode" : "CAD",
      "sfkbid" : "kA13200000007AFCAY",
      "sfdcexpandedproduct" : "All;All|Coveo Enterprise Search",
      "syssfcreateddate" : 1481841960000,
      "sflastmodifieddate" : 1481842092000,
      "sfisvisibleinpkb" : "true",
      "source" : "Salesforce Public Items",
      "sfarticletypec" : "How To",
      "sfisdeleted" : "false",
      "sfisvisibleincsp" : "true",
      "sfvalidationstatus" : "Reviewed",
      "sflastmodifiedbyname" : "Frederic Cote",
      "collection" : "default",
      "sfdcproduct" : [ "Coveo Enterprise Search" ],
      "syssourcetype" : "Salesforce",
      "sfarticletype" : "KB_Article__kav",
      "indexeddate" : 1518187605000,
      "connectortype" : "Salesforce2",
      "filetype" : "SalesforceItem",
      "sfcreatedbyname" : "Frederic Cote",
      "sysclickableuri" : "https://na61.salesforce.com/kA13200000007AF",
      "sysfiletype" : "SalesforceItem",
      "language" : [ "English" ],
      "sffirstpublisheddate" : 1459860841000,
      "sfownername" : "Frederic Cote",
      "sitename" : "Community",
      "sysrowid" : 5493426,
      "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US",
      "syscollection" : "default"
    },
    "Title" : "Troubleshooting High CPU and Memory Consumption for Any CES Services",
    "Uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US",
    "PrintableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US",
    "ClickUri" : "https://na61.salesforce.com/kA13200000007AF",
    "UniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA13200000007AFCAY/language:en_US",
    "Excerpt" : "This article explains how to put in place a mechanism that allow you to generate Dump files when the CPU and/or Memory consumption of a given CES service exceed a certain amount. ... This type of p...",
    "FirstSentences" : null
  }