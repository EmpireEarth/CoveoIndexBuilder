{
    "title" : "How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server",
    "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US",
    "printableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US",
    "clickUri" : "https://na61.salesforce.com/kA10d0000004MS2",
    "uniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US",
    "excerpt" : "This article thus explains how to configure a CES Mirror in order for it to serve queries coming for the REST API, which could be used for a Query Load Balancing scenario (more here). ... Environment",
    "firstSentences" : null,
    "summary" : null,
    "flags" : "HasHtmlVersion",
    "hasHtmlVersion" : true,
    "hasMobileHtmlVersion" : false,
    "score" : 1315,
    "percentScore" : 81.59797,
    "rankingInfo" : null,
    "rating" : 3.0,
    "isTopResult" : false,
    "isRecommendation" : false,
    "titleHighlights" : [ ],
    "firstSentencesHighlights" : [ ],
    "excerptHighlights" : [ ],
    "printableUriHighlights" : [ ],
    "summaryHighlights" : [ ],
    "parentResult" : null,
    "childResults" : [ ],
    "totalNumberOfChildResults" : 0,
    "raw" : {
      "systitle" : "How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server",
      "sysurihash" : "qaWSt1DhgCivXq9p",
      "urihash" : "qaWSt1DhgCivXq9p",
      "parents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server\" uri=\"https://na61.salesforce.com/kA10d0000004MS2\" /></parents>",
      "sfdcarticletype" : "How To/Question",
      "sfresolutionc" : "<h1>Prerequisites</h1>\n\n<ul><li>You have installed and synchronized your Mirror server (more <a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_a_mirror_server.htm\" target=\"_blank\">here</a>).</li><li>You have <a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/configuring_the_search_web_service_for_a_mirror.htm\" target=\"_blank\">configured the Search Web Service</a> on the Mirror server.</li><li>You have installed the <a href=\"https://developers.coveo.com/display/SupportKB/Installing+the+Coveo+REST+Search+API+package\" target=\"_blank\">REST Search API package</a> on your Mirror server.</li></ul>\n\n<h1>Step 1 - Copy CES Master Certificates to the Mirror server</h1>\n\n<ol><li>On your CES Master Server, go to [MasterIndexDrive]:\\CES7\\Config\\Certificates</li><li>Copy the cert-iis.p12 certificate and add it to the  [MirrorIndexDrive]:\\CES7\\Config\\ folder</li></ol>\n\n<h1>Step 2 - Configuration</h1>\n\n<ul><li>In the Config.yml (C:\\Program Files\\Coveo Search API 8), configure the serverCertificatePath and theclientCertificatePath </li></ul>\n \n\n<pre class=\"ckeditor_codeblock\">\nserver:\n  uri: https://localhost:52810\n  serverCertificatePath: [MirrorIndexDrive]:\\CES7\\Config\\cert-ca.pem\n  clientCertificatePath: [MirrorIndexDrive]:\\CES7\\Config\\cert-iis.p12</pre>\n<br>In addition, if you will be using the Search API with Coveo for Sitecore, the application section must look like this:<br> \n<pre class=\"ckeditor_codeblock\">\napplications:\n  - name: Sample Application\n    secret: [Random Application Secret Token]\n    allowImpersonate: True</pre>\n<br>Note: [Random Application Secret Token] must be a string of at least 64 bits.<br> \n<ul><li>In Windows Services Manager, restart the SEARCH API service</li></ul>\n\n<h2>Important:</h2>\n\n<ul><li>You need to copy the certificates before following the <a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/configuring_the_search_web_service_for_a_mirror.htm\" target=\"_blank\">Configure the Search Web Service</a> procedure. Otherwise, the CES Mirror Server will refuse to start as long has the certificates are not pasted.</li><li>The path to the cert-ces.pem and TrustedCAs.pem <b>must be the same on all your Mirror Servers</b></li></ul>",
      "sysuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US",
      "sysprintableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US",
      "sflastpublisheddate" : 1507315455000,
      "systransactionid" : 161139,
      "sfurlname" : "2674",
      "sfsystemmodstamp" : 1515066284000,
      "sfisvisibleinapp" : "true",
      "sfcoveoversionc" : "Sitecore\nREST Search API\nJavascript Search Interface\nCoveo Enterprise Search",
      "sysconcepts" : "Mirror server ; Coveo Search ; Web Service ; queries ; pem ; Config ; certificates ; cert ; MirrorIndexDrive ; serverCertificatePath ; Program Files ; Balancing scenario ; TrustedCAs ; applications ; Environment",
      "sfkbversionnumber" : "1",
      "concepts" : "Mirror server ; Coveo Search ; Web Service ; queries ; pem ; Config ; certificates ; cert ; MirrorIndexDrive ; serverCertificatePath ; Program Files ; Balancing scenario ; TrustedCAs ; applications ; Environment",
      "printableuri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US",
      "documenttype" : "article",
      "sfkbarticlekavid" : "ka10d0000004SbYAAU",
      "sysindexeddate" : 1518187587000,
      "sfknowledgearticleid" : "kA10d0000004MS2CAM",
      "sfcreatedbyid" : "00560000002MKBSAA4",
      "sfconnectorc" : "N/A",
      "permanentid" : "ad331bc72fd8f721fa9dc71fa91ec277b4dbf05ebba117a5d868fab984f5",
      "syslanguage" : [ "English" ],
      "transactionid" : 161139,
      "sfisvisibleinprm" : "true",
      "title" : "How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server",
      "sfversionnumber" : 1,
      "sfarticlenumber" : "000002674",
      "date" : 1515066284000,
      "objecttype" : "KB Article",
      "allmetadatavalues" : "{\"kav_lastmodifiedby.attribute.type\": [\"User\"], \"coveo_short_id\": [\"kA10d0000004MS2\"], \"sflastmodifiedbyname\": [\"Karel Mpungi\"], \"kav_coveo_version__c__html_stripped\": [\"Sitecore\\r\\nREST Search API\\r\\nJavascript Search Interface\\r\\nCoveo Enterprise Search\"], \"fileextension\": [\"\"], \"sfdcexpandedproduct\": [\"All;All|Coveo Enterprise Search;All|Javascript Search Interface;All|REST Search API;All|Sitecore\"], \"kav_createdby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000002MKBSAA4\"], \"sflanguage\": [\"en_US\"], \"kav_createdby.attribute.type\": [\"User\"], \"kav_createdby.id\": [\"00560000002MKBSAA4\"], \"kav_language\": [\"en_US\"], \"sfsitecoreversionc\": [\"N/A\"], \"sourcetype\": [\"Salesforce\"], \"title\": [\"How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server\"], \"source\": [\"Salesforce Public Items\"], \"kav_owner.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000002MKBSAA4\"], \"parents\": [\"<?xml version=\\\"1.0\\\" encoding=\\\"utf-16\\\"?><parents><parent name=\\\"Organization\\\" uri=\\\"https://na61.salesforce.com/home/home.jsp\\\" /><parent name=\\\"KB_Article__ka\\\" uri=\\\"http://www.salesforce.com/org:organization/articletype:KB_Article\\\" /><parent name=\\\"How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server\\\" uri=\\\"https://na61.salesforce.com/kA10d0000004MS2\\\" /></parents>\"], \"sfisvisibleinprm\": [true], \"kav_title\": [\"How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server\"], \"kav_isvisibleincsp\": [true], \"hashtmlversion\": [true], \"kav_versionnumber\": [1], \"sfcreatedbyname\": [\"Karel Mpungi\"], \"sflastpublisheddate\": [1507315455], \"objecttypelabel\": [\"KB Article\"], \"kav_cause__c__html_stripped\": [\"\"], \"originalhtmlcharset\": [1200], \"coveo_connector_hasbinarydata\": [false], \"kav_lastpublisheddate\": [1507315455], \"sfsystemmodstamp\": [1515066284], \"ka_attribute.type\": [\"KB_Article__ka\"], \"sfdcproduct\": [\"Coveo Enterprise Search;Javascript Search Interface;REST Search API;Sitecore\"], \"kav_resolution__c__html_stripped\": [\"Prerequisites \\n\\n You have installed and synchronized your Mirror server (more  here ). You have  configured the Search Web Service  on the Mirror server. You have installed the  REST Search API package  on your Mirror server. \\n\\n Step 1 - Copy CES Master Certificates to the Mirror server \\n\\n On your CES Master Server, go to [MasterIndexDrive]:\\\\CES7\\\\Config\\\\Certificates Copy the cert-iis.p12 certificate and add it to the \\u00a0[MirrorIndexDrive]:\\\\CES7\\\\Config\\\\ folder \\n\\n Step 2 - Configuration \\n\\n In the Config.yml (C:\\\\Program Files\\\\Coveo Search API 8), configure the serverCertificatePath and theclientCertificatePath\\u00a0 \\n\\u00a0\\n\\n \\nserver:\\n\\u00a0 uri: https://localhost:52810\\n\\u00a0 serverCertificatePath: [MirrorIndexDrive]:\\\\CES7\\\\Config\\\\cert-ca.pem\\n\\u00a0 clientCertificatePath: [MirrorIndexDrive]:\\\\CES7\\\\Config\\\\cert-iis.p12 \\n \\n In addition, if you will be using the Search API with Coveo for Sitecore, the application section must look like this: \\n \\u00a0\\n \\napplications:\\n\\u00a0 - name: Sample Application\\n\\u00a0 \\u00a0 secret: [Random Application Secret Token]\\n\\u00a0 \\u00a0 allowImpersonate: True \\n \\n Note: [Random Application Secret Token] must be a string of at least 64 bits. \\n \\u00a0\\n In Windows Services Manager, restart the SEARCH API service \\n\\n Important: \\n\\n You need to copy the certificates before following the  Configure the Search Web Service  procedure. Otherwise, the CES Mirror Server will refuse to start as long has the certificates are not pasted. The path to the cert-ces.pem and TrustedCAs.pem  must be the same on all your Mirror Servers\"], \"clickableuri\": [\"https://na61.salesforce.com/kA10d0000004MS2\"], \"sftitle\": [\"How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server\"], \"kav_owner.id\": [\"00560000002MKBSAA4\"], \"sfisvisibleinapp\": [true], \"ka_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__ka/kA10d0000004MS2CAM\"], \"sfdcarticletype\": [\"How To/Question\"], \"sfislatestversion\": [true], \"sfarticlenumber\": [\"000002674\"], \"contenttype\": [\"binarydata\"], \"sfurlname\": [\"2674\"], \"ka_id\": [\"kA10d0000004MS2CAM\"], \"kav_datacategoryselections.datacategoryname\": [\"Coveo_Enterprise_Search;Javascript_Search_Interface;REST_Search_API;Sitecore;How_To\"], \"coveo_url\": [\"https://na61.salesforce.com/kA10d0000004MS2\"], \"kav_urlname\": [\"2674\"], \"kav_dc_expanded_product\": [\"All;All|Coveo Enterprise Search;All|Javascript Search Interface;All|REST Search API;All|Sitecore\"], \"foldingcollection\": [\"24f488496add3711cb18615f1891b438ca92ea4016af9df54e66597c7726\"], \"body\": [\"<html>   <body>     <div style=\\\"background-color: #fff;border: 2px solid #BBC5CC;border-radius: 4px;float: left;font-family: lato;margin-left: 15px;margin-right: 15px;margin-bottom: 4%;padding: 10px;width: 60%;\\\">       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Description         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> This article thus explains how to configure a CES Mirror in order for it to serve queries coming for the REST API, which could be used for a Query Load Balancing scenario (more <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/what_is_load_balancing.htm\\\" target=\\\"_blank\\\">here</a>).</div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Environment         </div>       </div>       <br/>       <table>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Product</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Sitecore Version</td>           <td>N/A</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Connector</td>           <td>N/A</td>         </tr>         <tr>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Published</td>           <td>1507315455</td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Version</td>           <td></td>           <td style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;font-weight: 600;\\\">Build</td>           <td></td>         </tr>       </table>       <br/>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Cause         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> </div>       <div style=\\\"font-size: 1.5em;font-weight: 600;Padding-top: 30px;border-bottom: 1px solid #BBC5CC;\\\">         <div style=\\\"border-left: 1px solid #BBC5CC;border-top: 1px solid #BBC5CC;color: #296896;padding: 10px;width: 15%;\\\">           Resolution         </div>       </div>       <div style=\\\"margin-left: 35px;margin-top: 10px;font-size: 1em;\\\"> <h1>Prerequisites</h1>\\n\\n<ul><li>You have installed and synchronized your Mirror server (more <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_a_mirror_server.htm\\\" target=\\\"_blank\\\">here</a>).</li><li>You have <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/configuring_the_search_web_service_for_a_mirror.htm\\\" target=\\\"_blank\\\">configured the Search Web Service</a> on the Mirror server.</li><li>You have installed the <a href=\\\"https://developers.coveo.com/display/SupportKB/Installing+the+Coveo+REST+Search+API+package\\\" target=\\\"_blank\\\">REST Search API package</a> on your Mirror server.</li></ul>\\n\\n<h1>Step 1 - Copy CES Master Certificates to the Mirror server</h1>\\n\\n<ol><li>On your CES Master Server, go to [MasterIndexDrive]:\\\\CES7\\\\Config\\\\Certificates</li><li>Copy the cert-iis.p12 certificate and add it to the \\u00a0[MirrorIndexDrive]:\\\\CES7\\\\Config\\\\ folder</li></ol>\\n\\n<h1>Step 2 - Configuration</h1>\\n\\n<ul><li>In the Config.yml (C:\\\\Program Files\\\\Coveo Search API 8), configure the serverCertificatePath and theclientCertificatePath\\u00a0</li></ul>\\n\\u00a0\\n\\n<pre class=\\\"ckeditor_codeblock\\\">\\nserver:\\n\\u00a0 uri: https://localhost:52810\\n\\u00a0 serverCertificatePath: [MirrorIndexDrive]:\\\\CES7\\\\Config\\\\cert-ca.pem\\n\\u00a0 clientCertificatePath: [MirrorIndexDrive]:\\\\CES7\\\\Config\\\\cert-iis.p12</pre>\\n<br>In addition, if you will be using the Search API with Coveo for Sitecore, the application section must look like this:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\napplications:\\n\\u00a0 - name: Sample Application\\n\\u00a0 \\u00a0 secret: [Random Application Secret Token]\\n\\u00a0 \\u00a0 allowImpersonate: True</pre>\\n<br>Note: [Random Application Secret Token] must be a string of at least 64 bits.<br>\\u00a0\\n<ul><li>In Windows Services Manager, restart the SEARCH API service</li></ul>\\n\\n<h2>Important:</h2>\\n\\n<ul><li>You need to copy the certificates before following the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/configuring_the_search_web_service_for_a_mirror.htm\\\" target=\\\"_blank\\\">Configure the Search Web Service</a> procedure. Otherwise, the CES Mirror Server will refuse to start as long has the certificates are not pasted.</li><li>The path to the cert-ces.pem and TrustedCAs.pem <b>must be the same on all your Mirror Servers</b></li></ul></div>     </div>   </body> </html>\"], \"sfpublishstatus\": [\"Online\"], \"sfcreatedbyid\": [\"00560000002MKBSAA4\"], \"kav_description__c__html_stripped\": [\"This article thus explains how to configure a CES Mirror in order for it to serve queries coming for the REST API, which could be used for a Query Load Balancing scenario (more  here ).\"], \"kav_islatestversion\": [true], \"kav_knowledgearticleid\": [\"kA10d0000004MS2CAM\"], \"sfknowledgearticleid\": [\"kA10d0000004MS2CAM\"], \"sfownername\": [\"Karel Mpungi\"], \"kav_datacategoryselections.attribute.type\": [\"KB_Article__DataCategorySelection;KB_Article__DataCategorySelection;KB_Article__DataCategorySelection;KB_Article__DataCategorySelection;KB_Article__DataCategorySelection\"], \"detectedtitle\": [\"Description\"], \"kav_createddate\": [1507315373], \"language\": [\"English\"], \"coveo_foldingchild\": [\"36ad6660168de27e6044d41d0b63370091bfa86538616877321a3fcac938\"], \"sfownerid\": [\"00560000002MKBSAA4\"], \"kav_createdby.coveo_record_size\": [2], \"kav_systemmodstamp\": [1515066284], \"objecttype\": [\"KB Article\"], \"connectortype\": [\"Salesforce2\"], \"kav_coveo_record_size\": [4], \"originaluri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US\"], \"sfisvisibleincsp\": [true], \"convertertype\": [\"TYPE_HTML\"], \"filetype\": [\"SalesforceItem\"], \"kav_owner.name\": [\"Karel Mpungi\"], \"sfcoveoversionc\": [\"Sitecore\\r\\nREST Search API\\r\\nJavascript Search Interface\\r\\nCoveo Enterprise Search\"], \"sfdcexpandedarticletype\": [\"All;All|How To/Question\"], \"objecttypelabelplural\": [\"KB Articles\"], \"sfcurrencyisocode\": [\"USD\"], \"sfisdeleted\": [false], \"extractedsize\": [3610], \"size\": [7257], \"kav_publishstatus\": [\"Online\"], \"kav_connector__c\": [\"N/A\"], \"generateexcerpt\": [true], \"sfdescriptionc\": [\"This article thus explains how to configure a CES Mirror in order for it to serve queries coming for the REST API, which could be used for a Query Load Balancing scenario (more <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/what_is_load_balancing.htm\\\" target=\\\"_blank\\\">here</a>).\"], \"sfarticletype\": [\"KB_Article__kav\"], \"kav_articletype\": [\"KB_Article__kav\"], \"kav_lastmodifieddate\": [1507315455], \"documenttype\": [\"article\"], \"sfkbarticlekavid\": [\"ka10d0000004SbYAAU\"], \"kav_currencyisocode\": [\"USD\"], \"foldingparent\": [\"36ad6660168de27e6044d41d0b63370091bfa86538616877321a3fcac938\"], \"mappingtype\": [\"KB_Article\"], \"kav_isvisibleinpkb\": [true], \"kav_sourceid\": [\"5003200000x4nQYAAY\"], \"sfkbversionnumber\": [1], \"kav_isvisibleinapp\": [true], \"kav_resolution__c\": [\"<h1>Prerequisites</h1>\\n\\n<ul><li>You have installed and synchronized your Mirror server (more <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_a_mirror_server.htm\\\" target=\\\"_blank\\\">here</a>).</li><li>You have <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/configuring_the_search_web_service_for_a_mirror.htm\\\" target=\\\"_blank\\\">configured the Search Web Service</a> on the Mirror server.</li><li>You have installed the <a href=\\\"https://developers.coveo.com/display/SupportKB/Installing+the+Coveo+REST+Search+API+package\\\" target=\\\"_blank\\\">REST Search API package</a> on your Mirror server.</li></ul>\\n\\n<h1>Step 1 - Copy CES Master Certificates to the Mirror server</h1>\\n\\n<ol><li>On your CES Master Server, go to [MasterIndexDrive]:\\\\CES7\\\\Config\\\\Certificates</li><li>Copy the cert-iis.p12 certificate and add it to the \\u00a0[MirrorIndexDrive]:\\\\CES7\\\\Config\\\\ folder</li></ol>\\n\\n<h1>Step 2 - Configuration</h1>\\n\\n<ul><li>In the Config.yml (C:\\\\Program Files\\\\Coveo Search API 8), configure the serverCertificatePath and theclientCertificatePath\\u00a0</li></ul>\\n\\u00a0\\n\\n<pre class=\\\"ckeditor_codeblock\\\">\\nserver:\\n\\u00a0 uri: https://localhost:52810\\n\\u00a0 serverCertificatePath: [MirrorIndexDrive]:\\\\CES7\\\\Config\\\\cert-ca.pem\\n\\u00a0 clientCertificatePath: [MirrorIndexDrive]:\\\\CES7\\\\Config\\\\cert-iis.p12</pre>\\n<br>In addition, if you will be using the Search API with Coveo for Sitecore, the application section must look like this:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\napplications:\\n\\u00a0 - name: Sample Application\\n\\u00a0 \\u00a0 secret: [Random Application Secret Token]\\n\\u00a0 \\u00a0 allowImpersonate: True</pre>\\n<br>Note: [Random Application Secret Token] must be a string of at least 64 bits.<br>\\u00a0\\n<ul><li>In Windows Services Manager, restart the SEARCH API service</li></ul>\\n\\n<h2>Important:</h2>\\n\\n<ul><li>You need to copy the certificates before following the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/configuring_the_search_web_service_for_a_mirror.htm\\\" target=\\\"_blank\\\">Configure the Search Web Service</a> procedure. Otherwise, the CES Mirror Server will refuse to start as long has the certificates are not pasted.</li><li>The path to the cert-ces.pem and TrustedCAs.pem <b>must be the same on all your Mirror Servers</b></li></ul>\"], \"coveo_objecttype\": [\"KB_Article\"], \"printableuri\": [\"http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US\"], \"kav_datacategoryselections.attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o0d000000m3rgAAA;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o0d000000m3rhAAA;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o0d000000m3rjAAA;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o0d000000m3riAAA;/services/data/v34.0/sobjects/KB_Article__DataCategorySelection/02o0d000000m3rkAAA\"], \"kav_id\": [\"ka10d0000004SbYAAU\"], \"sfresolutionc\": [\"<h1>Prerequisites</h1>\\n\\n<ul><li>You have installed and synchronized your Mirror server (more <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/adding_a_mirror_server.htm\\\" target=\\\"_blank\\\">here</a>).</li><li>You have <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/configuring_the_search_web_service_for_a_mirror.htm\\\" target=\\\"_blank\\\">configured the Search Web Service</a> on the Mirror server.</li><li>You have installed the <a href=\\\"https://developers.coveo.com/display/SupportKB/Installing+the+Coveo+REST+Search+API+package\\\" target=\\\"_blank\\\">REST Search API package</a> on your Mirror server.</li></ul>\\n\\n<h1>Step 1 - Copy CES Master Certificates to the Mirror server</h1>\\n\\n<ol><li>On your CES Master Server, go to [MasterIndexDrive]:\\\\CES7\\\\Config\\\\Certificates</li><li>Copy the cert-iis.p12 certificate and add it to the \\u00a0[MirrorIndexDrive]:\\\\CES7\\\\Config\\\\ folder</li></ol>\\n\\n<h1>Step 2 - Configuration</h1>\\n\\n<ul><li>In the Config.yml (C:\\\\Program Files\\\\Coveo Search API 8), configure the serverCertificatePath and theclientCertificatePath\\u00a0</li></ul>\\n\\u00a0\\n\\n<pre class=\\\"ckeditor_codeblock\\\">\\nserver:\\n\\u00a0 uri: https://localhost:52810\\n\\u00a0 serverCertificatePath: [MirrorIndexDrive]:\\\\CES7\\\\Config\\\\cert-ca.pem\\n\\u00a0 clientCertificatePath: [MirrorIndexDrive]:\\\\CES7\\\\Config\\\\cert-iis.p12</pre>\\n<br>In addition, if you will be using the Search API with Coveo for Sitecore, the application section must look like this:<br>\\u00a0\\n<pre class=\\\"ckeditor_codeblock\\\">\\napplications:\\n\\u00a0 - name: Sample Application\\n\\u00a0 \\u00a0 secret: [Random Application Secret Token]\\n\\u00a0 \\u00a0 allowImpersonate: True</pre>\\n<br>Note: [Random Application Secret Token] must be a string of at least 64 bits.<br>\\u00a0\\n<ul><li>In Windows Services Manager, restart the SEARCH API service</li></ul>\\n\\n<h2>Important:</h2>\\n\\n<ul><li>You need to copy the certificates before following the <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/configuring_the_search_web_service_for_a_mirror.htm\\\" target=\\\"_blank\\\">Configure the Search Web Service</a> procedure. Otherwise, the CES Mirror Server will refuse to start as long has the certificates are not pasted.</li><li>The path to the cert-ces.pem and TrustedCAs.pem <b>must be the same on all your Mirror Servers</b></li></ul>\"], \"foldingchild\": [\"36ad6660168de27e6044d41d0b63370091bfa86538616877321a3fcac938\"], \"sfcreateddate\": [1507315373], \"kav_sitecore_version__c\": [\"N/A\"], \"kav_owner.coveo_record_size\": [2], \"kav_coveo_effective_modstamp\": [1515066284], \"kav_summary__html_stripped\": [\"\"], \"kav_dc_article_type\": [\"How To/Question\"], \"sfconnectorc\": [\"N/A\"], \"kav_dc_product\": [\"Coveo Enterprise Search;Javascript Search Interface;REST Search API;Sitecore\"], \"ka_coveo_record_size\": [2], \"kav_dc_expanded_article_type\": [\"All;All|How To/Question\"], \"kav_datacategoryselections.coveo_record_size\": [\"2;2;2;2;2\"], \"concepts\": [\"Mirror server ; Coveo Search ; Web Service ; queries ; pem ; Config ; certificates ; cert ; MirrorIndexDrive ; serverCertificatePath ; Program Files ; Balancing scenario ; TrustedCAs ; applications ; Environment\"], \"sfkbid\": [\"kA10d0000004MS2CAM\"], \"kav_firstpublisheddate\": [1507315455], \"coveo_organization_id\": [\"00D3000000007r2\"], \"coveo_foldingcollection\": [\"24f488496add3711cb18615f1891b438ca92ea4016af9df54e66597c7726\"], \"sffirstpublisheddate\": [1507315455], \"sflastmodifieddate\": [1507315455], \"kav_coveo_version__c\": [\"Sitecore\\r\\nREST Search API\\r\\nJavascript Search Interface\\r\\nCoveo Enterprise Search\"], \"kav_vendor_version__c__html_stripped\": [\"\"], \"detectedlanguage\": [1], \"kav_isvisibleinprm\": [true], \"kav_owner.attribute.type\": [\"Name\"], \"kav_lastmodifiedby.attribute.url\": [\"/services/data/v34.0/sobjects/User/00560000002MKBSAA4\"], \"sitename\": [\"Community\"], \"kav_createdby.name\": [\"Karel Mpungi\"], \"kav_lastmodifiedby.coveo_record_size\": [2], \"sfisvisibleinpkb\": [true], \"kav_datacategoryselections.id\": [\"02o0d000000m3rgAAA;02o0d000000m3rhAAA;02o0d000000m3rjAAA;02o0d000000m3riAAA;02o0d000000m3rkAAA\"], \"kav_description__c\": [\"This article thus explains how to configure a CES Mirror in order for it to serve queries coming for the REST API, which could be used for a Query Load Balancing scenario (more <a href=\\\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/what_is_load_balancing.htm\\\" target=\\\"_blank\\\">here</a>).\"], \"kav_attribute.url\": [\"/services/data/v34.0/sobjects/KB_Article__kav/ka10d0000004SbYAAU\"], \"kav_articlenumber__stripped\": [\"2674\"], \"sfversionnumber\": [1], \"kav_attribute.type\": [\"KB_Article__kav\"], \"kav_validationstatus\": [\"Reviewed\"], \"coveo_foldingparent\": [\"36ad6660168de27e6044d41d0b63370091bfa86538616877321a3fcac938\"], \"collection\": [\"default\"], \"sfsourceid\": [\"5003200000x4nQYAAY\"], \"date\": [1515066284], \"kav_lastmodifiedby.id\": [\"00560000002MKBSAA4\"], \"kav_datacategoryselections.datacategorygroupname\": [\"Product;Product;Product;Product;Article_Type\"], \"conversionstate\": [0], \"sfvalidationstatus\": [\"Reviewed\"], \"kav_isdeleted\": [false], \"sflastmodifiedbyid\": [\"00560000002MKBSAA4\"], \"kav_lastmodifiedby.name\": [\"Karel Mpungi\"], \"kav_articlenumber\": [\"000002674\"], \"permanentid\": [\"ad331bc72fd8f721fa9dc71fa91ec277b4dbf05ebba117a5d868fab984f5\"]}",
      "sflastmodifiedbyid" : "00560000002MKBSAA4",
      "syssfownerid" : "00560000002MKBSAA4",
      "sfsitecoreversionc" : "N/A",
      "sourcetype" : "Salesforce",
      "sysconnectortype" : "Salesforce2",
      "sftitle" : "How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server",
      "rowid" : 5493126,
      "syssfcreatedbyid" : "00560000002MKBSAA4",
      "sfdescriptionc" : "This article thus explains how to configure a CES Mirror in order for it to serve queries coming for the REST API, which could be used for a Query Load Balancing scenario (more <a href=\"https://onlinehelp.coveo.com/en/ces/7.0/administrator/what_is_load_balancing.htm\" target=\"_blank\">here</a>).",
      "size" : 7257,
      "sfislatestversion" : "true",
      "sysdocumenttype" : "article",
      "sfcreateddate" : 1507315373000,
      "sfsourceid" : "5003200000x4nQYAAY",
      "clickableuri" : "https://na61.salesforce.com/kA10d0000004MS2",
      "syssource" : "Salesforce Public Items",
      "sfownerid" : "00560000002MKBSAA4",
      "orderingid" : 212384990660371932,
      "sfpublishstatus" : "Online",
      "syssize" : 7257,
      "sysdate" : 1515066284000,
      "sflanguage" : "en_US",
      "sysparents" : "<?xml version=\"1.0\" encoding=\"utf-16\"?><parents><parent name=\"Organization\" uri=\"https://na61.salesforce.com/home/home.jsp\" /><parent name=\"KB_Article__ka\" uri=\"http://www.salesforce.com/org:organization/articletype:KB_Article\" /><parent name=\"How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server\" uri=\"https://na61.salesforce.com/kA10d0000004MS2\" /></parents>",
      "sfdcexpandedarticletype" : "All;All|How To/Question",
      "sfcurrencyisocode" : "USD",
      "sfkbid" : "kA10d0000004MS2CAM",
      "sfdcexpandedproduct" : "All;All|Coveo Enterprise Search;All|Javascript Search Interface;All|REST Search API;All|Sitecore",
      "syssfcreateddate" : 1507315373000,
      "sflastmodifieddate" : 1507315455000,
      "sfisvisibleinpkb" : "true",
      "source" : "Salesforce Public Items",
      "sfisdeleted" : "false",
      "sfisvisibleincsp" : "true",
      "sfvalidationstatus" : "Reviewed",
      "sflastmodifiedbyname" : "Karel Mpungi",
      "collection" : "default",
      "sfdcproduct" : [ "Coveo Enterprise Search", "Javascript Search Interface", "REST Search API", "Sitecore" ],
      "syssourcetype" : "Salesforce",
      "sfarticletype" : "KB_Article__kav",
      "indexeddate" : 1518187587000,
      "connectortype" : "Salesforce2",
      "filetype" : "SalesforceItem",
      "sfcreatedbyname" : "Karel Mpungi",
      "sysclickableuri" : "https://na61.salesforce.com/kA10d0000004MS2",
      "sysfiletype" : "SalesforceItem",
      "language" : [ "English" ],
      "sffirstpublisheddate" : 1507315455000,
      "sfownername" : "Karel Mpungi",
      "sitename" : "Community",
      "sysrowid" : 5493126,
      "uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US",
      "syscollection" : "default"
    },
    "Title" : "How To Configure the REST Search API on a Coveo Enterprise Seach Mirror Server",
    "Uri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US",
    "PrintableUri" : "http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US",
    "ClickUri" : "https://na61.salesforce.com/kA10d0000004MS2",
    "UniqueId" : "42.13819$http://www.salesforce.com/org:organization/articletype:KB_Article/article:kA10d0000004MS2CAM/language:en_US",
    "Excerpt" : "This article thus explains how to configure a CES Mirror in order for it to serve queries coming for the REST API, which could be used for a Query Load Balancing scenario (more here). ... Environment",
    "FirstSentences" : null
  }